/*! For license information please see main.cc655a92.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=c(t),m=c(n),g=0;g<o.length;++g){var v=o[g];if(!s[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{"use strict";e.exports=n(983)},740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,s,o,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,o){var a=i||"<<anonymous>>",c=o||r;if(null==n[r])return t?new Error("Required "+s+" `"+c+"` was not specified in `"+a+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,s,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function xe(e){ke?Ie?Ie.push(e):Ie=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ie;if(Ie=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ie)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,kt,It,St,xt=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){xt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),dn=F({},ln,{view:0,detail:0}),hn=sn(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),vn=sn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return In}var xn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(xn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=sn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Ir={};function Sr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return kr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),c(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case xr:case Tr:case Cr:c=vn;break;case Nr:c=An;break;case"scroll":c=hn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==d&&Qr(o,d,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Hn(a))if(Xn)g=or;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Pe(n,s))&&o.unshift(Kr(n,c,a)):i||null!=(c=Pe(n,s))&&o.push(Kr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],ki=-1;function Ii(e){return{current:e}}function Si(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function xi(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(s(168));xi(Ci,t),xi(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,xi(Ci,e),xi(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),xi(Ci,e)):Si(Ni),xi(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Gi=0,Wi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else $i=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ii(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function Es(e){var t=vs.current;Si(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var xs=null;function Ts(e){null===xs?xs=[e]:xs.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fc|=o,e.lanes=o,e.memoizedState=d}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var js=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(i=Pi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=js,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ss(s):(s=Pi(t)?Ai:Ci.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===js&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case E:return(t=jl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),is&&Ji(i,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return is&&Ji(i,m),l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=Ml(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ll(o.type,o.key,o.props,null,r.mode,c)).ref=Gs(r,s,o),c.return=r,r=c)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jl(o,r.mode,c)).return=r,r=s}return a(r);case P:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);Ws(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Ul(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var $s=Ys(!0),Xs=Ys(!1),Js={},Zs=Ii(Js),eo=Ii(Js),to=Ii(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(xi(to,t),xi(eo,e),xi(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Zs),xi(Zs,t)}function io(){Si(Zs),Si(eo),Si(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(xi(eo,e),xi(Zs,n))}function oo(e){eo.current===e&&(Si(Zs),Si(eo))}var ao=Ii(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,_o=0;function Eo(){throw Error(s(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function So(){var e=0!==wo;return wo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function To(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var d=u.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=r):l=l.next=h,mo.lanes|=d,Fc|=d}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=mo,r=To(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function Uo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=xo();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fc|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return To().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Cs(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Ts(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Cs(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ss,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ss,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=xo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ac.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ss,useCallback:$o,useContext:Ss,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},la={readContext:Ss,useCallback:$o,useContext:Ss,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Gc=r),ha(0,t)},n}function ma(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):$s(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Io(e,t,n,r,s,i),n=So(),null===e||wa?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ol(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Dl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Dc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Dc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Dc,Oc),Oc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Dc,Oc),Oc|=r;return _a(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Pi(n)?Ai:Ci.current;return s=Ri(t,s),Is(t,i),n=Io(e,t,n,r,s,i),r=So(),null===e||wa?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ha(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ss(l):l=Ri(t,l=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Hs(t,o,r,l),As=!1;var h=t.memoizedState;o.state=h,Fs(t,r,o,i),c=t.memoizedState,a!==r||h!==c||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),c=t.memoizedState),(a=As||Bs(t,n,a,r,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ss(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==c)&&Hs(t,o,r,c),As=!1,h=t.memoizedState,o.state=h,Fs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(l=As||Bs(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){xa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Oa,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Fl(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):ja(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Va(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),Va(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dl(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Wa(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Oa(e,t),Wa(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=no(Zs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&jr("scroll",e):null!=u&&b(e,o,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wa(t),null;case 13:if(Si(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return io(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Es(t.type._context),Wa(t),null;case 19:if(Si(ao),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ga(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ga(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qc&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,xi(ao,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=dc,i=hc;dc=null,fc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(s(160));pc(o,a,i),dc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Sl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Sl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Sl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(i,o),be(c,a);var u=be(c,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Sl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=Xe())),4&r&&mc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gc(t,e),Xa=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ec(h);continue}}null!==p?(p.return=f,Za=p):Ec(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Sl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Sl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Za=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=$a;var l=Xa;if($a=o,(Xa=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?kc(i):null!==c?(c.return=o,Za=c):kc(i);for(;null!==s;)Za=s,wc(s,t,n),s=s.sibling;Za=i,$a=a,Xa=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sc(t)}catch(f){Sl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kc(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Sl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Sl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Sl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Sl(t,o,c)}}}catch(c){Sl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Ic,Sc=Math.ceil,xc=w.ReactCurrentDispatcher,Tc=w.ReactCurrentOwner,Cc=w.ReactCurrentBatchConfig,Nc=0,Ac=null,Rc=null,Pc=0,Oc=0,Dc=Ii(0),Lc=0,Mc=null,Fc=0,Uc=0,jc=0,Vc=null,zc=null,Bc=0,qc=1/0,Hc=null,Kc=!1,Gc=null,Wc=null,Qc=!1,Yc=null,$c=0,Xc=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&Nc)?Xe():-1!==Zc?Zc:Zc=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Pc?Pc&-Pc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(s(185));vt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(Uc|=n),4===Lc&&cl(e,Pc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Xe()+500,ji&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Ac?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Nc)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ac?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Nc;Nc|=2;var o=ml();for(Ac===e&&Pc===t||(Hc=null,qc=Xe()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}_s(),xc.current=o,Nc=i,null!==Rc?t=0:(Ac=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:El(e,zc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,zc,Hc),t);break}El(e,zc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,zc,Hc),r);break}El(e,zc,Hc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zc,zc=n,null!==t&&al(t)),e}function al(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~jc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));kl();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,zc,Hc),il(e,Xe()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Xe()+500,ji&&Bi())}}function dl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&kl();var t=Nc;Nc|=1;var n=Cc.transition,r=bt;try{if(Cc.transition=null,bt=1,e)return e()}finally{bt=r,Cc.transition=n,0===(6&(Nc=t))&&Bi()}}function hl(){Oc=Dc.current,Si(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ni),Si(Ci),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(ao);break;case 10:Es(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ac=e,Rc=e=Dl(e.current,null),Pc=Oc=t,Lc=0,Mc=null,jc=Uc=Fc=0,zc=Vc=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return e}function pl(e,t){for(;;){var n=Rc;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,wo=0,Tc.current=null,null===n||null===n.return){Lc=1,Mc=t,Rc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Lc&&(Lc=2),null===Vc?Vc=[o]:Vc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,l,t));break e;case 1:c=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function ml(){var e=xc.current;return xc.current=oa,null===e?oa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Fc)&&0===(268435455&Uc)||cl(Ac,Pc)}function vl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Pc===t||(Hc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),Nc=n,xc.current=r,null!==Rc)throw Error(s(261));return Ac=null,Pc=0,Lc}function yl(){for(;null!==Rc;)wl(Rc)}function bl(){for(;null!==Rc&&!Ye();)wl(Rc)}function wl(e){var t=Ic(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?_l(e):Rc=t,Tc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Oc)))return void(Rc=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Lc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Lc&&(Lc=5)}function El(e,t,n){var r=bt,i=Cc.transition;try{Cc.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ac&&(Rc=Ac=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return kl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cc.transition,Cc.transition=null;var a=bt;bt=1;var c=Nc;Nc|=4,Tc.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==o||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Sl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bc(n,e,i),$e(),Nc=c,bt=a,Cc.transition=o}else e.current=n;if(Qc&&(Qc=!1,Yc=e,$c=i),o=e.pendingLanes,0===o&&(Wc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Gc,Gc=null,e;0!==(1&$c)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,Bi()}(e,t,n,r)}finally{Cc.transition=i,bt=r}return null}function kl(){if(null!==Yc){var e=wt($c),t=Cc.transition,n=bt;try{if(Cc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,$c=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rc(8,d,o)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(oc(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(E){Sl(c,c.return,E)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(Nc=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Cc.transition=t}}return!1}function Il(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Sl(e,t,n){if(3===e.tag)Il(e,e,n);else for(;null!==t;){if(3===t.tag){Il(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ds(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>Xe()-Bc?fl(e,0):jc|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(vt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tl(e,n)}function Al(e,t){return We(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ol(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Ml(n.children,i,o,t);case I:a=8,i|=8;break;case S:return(e=Pl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case T:a=9;break e;case C:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,s,o,a,c){return e=new Vl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Bl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,o,a,c){return(e=zl(n,r,!0,e,0,s,0,a,c)).context=Bl(null),n=e.current,(s=Os(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rl(e,i,o,s),Ls(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ic=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(xi(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);xi(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ka(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Is(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=ka(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),xa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,xi(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ks(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ss(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ka(e,t,r,i=gs(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ha(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Is(t,n),qs(t,r,i),Ks(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Kl(o);a.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(o);s.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Xe()),0===(6&Nc)&&(qc=Xe()+500,Bi()))}break;case 13:dl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ul,Ne=dl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Te,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},292:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},340:(e,t,n)=>{var r=n(292);e.exports=f,e.exports.parse=s,e.exports.compile=function(e,t){return a(s(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,a="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(a+=e.slice(o,f),o=f+d.length,h)a+=h[1];else{var p=e[o],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,k="?"===b||"*"===b,I=n[2]||u,S=v||y;r.push({name:g||s++,prefix:m||"",delimiter:I,optional:k,repeat:E,partial:_,asterisk:!!w,pattern:S?l(S):w?".*":"[^"+c(I)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var s="",a=t||{},c=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,h=a[u.name];if(null==h){if(u.optional){u.partial&&(s+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=c(h[f]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");s+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');s+=u.prefix+d}}else s+=u}return s}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,o="",a=0;a<e.length;a++){var l=e[a];if("string"===typeof l)o+=c(l);else{var h=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+h+f+")*"),o+=f=l.optional?l.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=c(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=s?"$":i&&m?"":"(?="+p+"|$)",u(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(s(e,n),t,n)}(e,t,n)}},5:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}},681:(e,t,n)=>{"use strict";n(5)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+C(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+C(a=e[l],l);c+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=s+C(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,O(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var s=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),c=!1}return c}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,I=!1,S=null,x=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?k():(I=!1,S=null)}}else I=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){v(A,0)};function O(e){S=e,I||(I=!0,k())}function D(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(x),x=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>rn,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>Zn,_addOrOverwriteComponent:()=>er,_apps:()=>Xn,_clearComponents:()=>ir,_components:()=>Jn,_getProvider:()=>nr,_registerComponent:()=>tr,_removeServiceInstance:()=>rr,deleteApp:()=>dr,getApp:()=>lr,getApps:()=>ur,initializeApp:()=>cr,onLog:()=>fr,registerVersion:()=>hr,setLogLevel:()=>pr});var t=n(43),r=n(391),i=n(139),s=n.n(i),o=n(579);const a=["xxl","xl","lg","md","sm","xs"],c="xs",l=t.createContext({prefixes:{},breakpoints:a,minBreakpoint:c}),{Consumer:u,Provider:d}=l;function h(e,n){const{prefixes:r}=(0,t.useContext)(l);return e||r[n]||n}const f=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"card-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));f.displayName="CardBody";const p=f,m=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"card-footer"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));m.displayName="CardFooter";const g=m,v=t.createContext(null);v.displayName="CardHeaderContext";const y=v,b=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:a="div",...c}=e;const l=h(r,"card-header"),u=(0,t.useMemo)((()=>({cardHeaderBsPrefix:l})),[l]);return(0,o.jsx)(y.Provider,{value:u,children:(0,o.jsx)(a,{ref:n,...c,className:s()(i,l)})})}));b.displayName="CardHeader";const w=b,_=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:a="img",...c}=e;const l=h(n,"card-img");return(0,o.jsx)(a,{ref:t,className:s()(i?"".concat(l,"-").concat(i):l,r),...c})}));_.displayName="CardImg";const E=_,k=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"card-img-overlay"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));k.displayName="CardImgOverlay";const I=k,S=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...a}=e;return r=h(r,"card-link"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));S.displayName="CardLink";const x=S,T=e=>t.forwardRef(((t,n)=>(0,o.jsx)("div",{...t,ref:n,className:s()(t.className,e)}))),C=T("h6"),N=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=C,...a}=e;return r=h(r,"card-subtitle"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));N.displayName="CardSubtitle";const A=N,R=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...a}=e;return r=h(r,"card-text"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));R.displayName="CardText";const P=R,O=T("h5"),D=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=O,...a}=e;return r=h(r,"card-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));D.displayName="CardTitle";const L=D,M=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:a,border:c,body:l=!1,children:u,as:d="div",...f}=e;const m=h(n,"card");return(0,o.jsx)(d,{ref:t,...f,className:s()(r,m,i&&"bg-".concat(i),a&&"text-".concat(a),c&&"border-".concat(c)),children:l?(0,o.jsx)(p,{children:u}):u})}));M.displayName="Card";const F=Object.assign(M,{Img:E,Title:L,Subtitle:A,Body:p,Link:x,Text:P,Header:w,Footer:g,ImgOverlay:I});function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(740);function V(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function B(e,n){return Object.keys(n).reduce((function(r,i){var s,o=r,a=o[V(i)],c=o[i],l=j(o,[V(i),i].map(z)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],c=void 0!==e,l=i.current;return i.current=c,!c&&l&&o!==n&&a(n),[c?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(c,a,e[u]),h=d[0],f=d[1];return U({},l,((s={})[i]=h,s[u]=f,s))}),e)}function q(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function H(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function K(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}q.__suppressDeprecationWarning=!0,H.__suppressDeprecationWarning=!0,K.__suppressDeprecationWarning=!0;const G=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function W(e){const n=G(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Q=T("h4");Q.displayName="DivStyledAsH4";const Y=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Q,...a}=e;return r=h(r,"alert-heading"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Y.displayName="AlertHeading";const $=Y;function X(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}const J="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Z="undefined"!==typeof document||J?t.useLayoutEffect:t.useEffect;new WeakMap;const ee=["as","disabled"];function te(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const ne=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ee);const[s,{tagName:a}]=te(Object.assign({tagName:n,disabled:r},i));return(0,o.jsx)(a,Object.assign({},i,s,{ref:t}))}));ne.displayName="Button";const re=ne,ie=["onKeyDown"];const se=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ie);const[i]=te(Object.assign({tagName:"a"},r)),s=W((e=>{i.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,o.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,o.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a}));se.displayName="Anchor";const oe=se,ae=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=oe,...a}=e;return r=h(r,"alert-link"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));ae.displayName="AlertLink";const ce=ae;function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,le(e,t)}var de=n(950);const he=!1,fe=t.createContext(null);var pe="unmounted",me="exited",ge="entering",ve="entered",ye="exiting",be=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=me,r.appearStatus=ge):i=ve:i=t.unmountOnExit||t.mountOnEnter?pe:me,r.state={status:i},r.nextCallback=null,r}ue(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pe?{status:me}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ge&&n!==ve&&(t=ge):n!==ge&&n!==ve||(t=ye)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ge){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:de.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===me&&this.setState({status:pe})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[de.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),c=r?a.appear:a.enter;!e&&!n||he?this.safeSetState({status:ve},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:ge},(function(){t.props.onEntering(s,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:ve},(function(){t.props.onEntered(s,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:de.findDOMNode(this);t&&!he?(this.props.onExit(r),this.safeSetState({status:ye},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:me},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:me},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:de.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===pe)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,j(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(fe.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function we(){}be.contextType=fe,be.propTypes={},be.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:we,onEntering:we,onEntered:we,onExit:we,onExiting:we,onExited:we},be.UNMOUNTED=pe,be.EXITED=me,be.ENTERING=ge,be.ENTERED=ve,be.EXITING=ye;const _e=be;function Ee(e){return e&&e.ownerDocument||document}function ke(e,t){return function(e){var t=Ee(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ie=/([A-Z])/g;var Se=/^ms-/;function xe(e){return function(e){return e.replace(Ie,"-$1").toLowerCase()}(e).replace(Se,"-ms-")}var Te=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ce=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(xe(t))||ke(e).getPropertyValue(xe(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!Te.test(e))}(i)?n+=xe(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(xe(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Ne=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ae=!1,Re=!1;try{var Pe={get passive(){return Ae=!0},get once(){return Re=Ae=!0}};Ne&&(window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,!0))}catch(cL){}const Oe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Re){var i=r.once,s=r.capture,o=n;!Re&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ae?r:s)}e.addEventListener(t,n,r)};const De=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const Le=function(e,t,n,r){return Oe(e,t,n,r),function(){De(e,t,n,r)}};function Me(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=Le(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Fe(e,t,n,r){null==n&&(n=function(e){var t=Ce(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Me(e,n,r),s=Le(e,"transitionend",t);return function(){i(),s()}}function Ue(e,t){const n=Ce(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function je(e,t){const n=Ue(e,"transitionDuration"),r=Ue(e,"transitionDelay"),i=Fe(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function Ve(e){e.offsetHeight}const ze=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Be=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ze(e),r=ze(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const qe=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:c,onExited:l,addEndListener:u,children:d,childRef:h,...f}=e;const p=(0,t.useRef)(null),m=Be(p,h),g=e=>{var t;m((t=e)&&"setState"in t?de.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(i),[i]),w=(0,t.useCallback)(v(s),[s]),_=(0,t.useCallback)(v(a),[a]),E=(0,t.useCallback)(v(c),[c]),k=(0,t.useCallback)(v(l),[l]),I=(0,t.useCallback)(v(u),[u]);return(0,o.jsx)(_e,{ref:n,...f,onEnter:y,onEntered:w,onEntering:b,onExit:_,onExited:k,onExiting:E,addEndListener:I,nodeRef:p,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):t.cloneElement(d,{ref:g})})})),He=qe,Ke={[ge]:"show",[ve]:"show"},Ge=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:a={},onEnter:c,...l}=e;const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},d=(0,t.useCallback)(((e,t)=>{Ve(e),null==c||c(e,t)}),[c]);return(0,o.jsx)(He,{ref:n,addEndListener:je,...u,onEnter:d,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:s()("fade",r,i.props.className,Ke[e],a[e])})})}));Ge.displayName="Fade";const We=Ge;var Qe=n(173),Ye=n.n(Qe);const $e={"aria-label":Ye().string,onClick:Ye().func,variant:Ye().oneOf(["white"])},Xe=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...a}=e;return(0,o.jsx)("button",{ref:t,type:"button",className:s()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...a})}));Xe.displayName="CloseButton",Xe.propTypes=$e;const Je=Xe,Ze=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:c,children:l,variant:u="primary",onClose:d,dismissible:f,transition:p=We,...m}=B(e,{show:"onClose"}),g=h(n,"alert"),v=W((e=>{d&&d(!1,e)})),y=!0===p?We:p,b=(0,o.jsxs)("div",{role:"alert",...y?void 0:m,ref:t,className:s()(c,g,u&&"".concat(g,"-").concat(u),f&&"".concat(g,"-dismissible")),children:[f&&(0,o.jsx)(Je,{onClick:v,"aria-label":i,variant:a}),l]});return y?(0,o.jsx)(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:b}):r?b:null}));Ze.displayName="Alert";const et=Object.assign(Ze,{Link:ce,Heading:$}),tt={type:Ye().string,tooltip:Ye().bool,as:Ye().elementType},nt=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:a=!1,...c}=e;return(0,o.jsx)(n,{...c,ref:t,className:s()(r,"".concat(i,"-").concat(a?"tooltip":"feedback"))})}));nt.displayName="Feedback",nt.propTypes=tt;const rt=nt,it=t.createContext({}),st=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:a,type:c="checkbox",isValid:l=!1,isInvalid:u=!1,as:d="input",...f}=e;const{controlId:p}=(0,t.useContext)(it);return i=h(i,"form-check-input"),(0,o.jsx)(d,{...f,ref:n,type:c,id:r||p,className:s()(a,i,l&&"is-valid",u&&"is-invalid")})}));st.displayName="FormCheckInput";const ot=st,at=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:a,...c}=e;const{controlId:l}=(0,t.useContext)(it);return r=h(r,"form-check-label"),(0,o.jsx)("label",{...c,ref:n,htmlFor:a||l,className:s()(i,r)})}));at.displayName="FormCheckLabel";const ct=at;function lt(e,n){let r=0;return t.Children.map(e,(e=>t.isValidElement(e)?n(e,r++):e))}const ut=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:a,inline:c=!1,reverse:l=!1,disabled:u=!1,isValid:d=!1,isInvalid:f=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:g,className:v,style:y,title:b="",type:w="checkbox",label:_,children:E,as:k="input",...I}=e;i=h(i,"form-check"),a=h(a,"form-switch");const{controlId:S}=(0,t.useContext)(it),x=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),T=!E&&null!=_&&!1!==_||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(E,ct),C=(0,o.jsx)(ot,{...I,type:"switch"===w?"checkbox":w,ref:n,isValid:d,isInvalid:f,disabled:u,as:k});return(0,o.jsx)(it.Provider,{value:x,children:(0,o.jsx)("div",{style:y,className:s()(v,T&&i,c&&"".concat(i,"-inline"),l&&"".concat(i,"-reverse"),"switch"===w&&a),children:E||(0,o.jsxs)(o.Fragment,{children:[C,T&&(0,o.jsx)(ct,{title:b,children:_}),m&&(0,o.jsx)(rt,{type:g,tooltip:p,children:m})]})})})}));ut.displayName="FormCheck";const dt=Object.assign(ut,{Input:ot,Label:ct});n(440);const ht=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:a,htmlSize:c,id:l,className:u,isValid:d=!1,isInvalid:f=!1,plaintext:p,readOnly:m,as:g="input",...v}=e;const{controlId:y}=(0,t.useContext)(it);return r=h(r,"form-control"),(0,o.jsx)(g,{...v,type:i,size:c,ref:n,readOnly:m,id:l||y,className:s()(u,p?"".concat(r,"-plaintext"):r,a&&"".concat(r,"-").concat(a),"color"===i&&"".concat(r,"-color"),d&&"is-valid",f&&"is-invalid")})}));ht.displayName="FormControl";const ft=Object.assign(ht,{Feedback:rt}),pt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"form-floating"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));pt.displayName="FormFloating";const mt=pt,gt=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,o.jsx)(it.Provider,{value:a,children:(0,o.jsx)(i,{...s,ref:n})})}));gt.displayName="FormGroup";const vt=gt;function yt(e){let{as:n,bsPrefix:r,className:i,...o}=e;r=h(r,"col");const a=function(){const{breakpoints:e}=(0,t.useContext)(l);return e}(),c=function(){const{minBreakpoint:e}=(0,t.useContext)(l);return e}(),u=[],d=[];return a.forEach((e=>{const t=o[e];let n,i,s;delete o[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:s}=t):n=t;const a=e!==c?"-".concat(e):"";n&&u.push(!0===n?"".concat(r).concat(a):"".concat(r).concat(a,"-").concat(n)),null!=s&&d.push("order".concat(a,"-").concat(s)),null!=i&&d.push("offset".concat(a,"-").concat(i))})),[{...o,className:s()(i,...u,...d)},{as:n,bsPrefix:r,spans:u}]}const bt=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:a,spans:c}]=yt(e);return(0,o.jsx)(i,{...r,ref:t,className:s()(n,!c.length&&a)})}));bt.displayName="Col";const wt=bt,_t=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:a=!1,visuallyHidden:c=!1,className:l,htmlFor:u,...d}=e;const{controlId:f}=(0,t.useContext)(it);i=h(i,"form-label");let p="col-form-label";"string"===typeof a&&(p="".concat(p," ").concat(p,"-").concat(a));const m=s()(l,i,c&&"visually-hidden",a&&p);return u=u||f,a?(0,o.jsx)(wt,{ref:n,as:"label",className:m,htmlFor:u,...d}):(0,o.jsx)(r,{ref:n,className:m,htmlFor:u,...d})}));_t.displayName="FormLabel";const Et=_t,kt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:a,...c}=e;const{controlId:l}=(0,t.useContext)(it);return r=h(r,"form-range"),(0,o.jsx)("input",{...c,type:"range",ref:n,className:s()(i,r),id:a||l})}));kt.displayName="FormRange";const It=kt,St=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:a,className:c,isValid:l=!1,isInvalid:u=!1,id:d,...f}=e;const{controlId:p}=(0,t.useContext)(it);return r=h(r,"form-select"),(0,o.jsx)("select",{...f,size:a,ref:n,className:s()(c,r,i&&"".concat(r,"-").concat(i),l&&"is-valid",u&&"is-invalid"),id:d||p})}));St.displayName="FormSelect";const xt=St,Tt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:a,...c}=e;return n=h(n,"form-text"),(0,o.jsx)(i,{...c,ref:t,className:s()(r,n,a&&"text-muted")})}));Tt.displayName="FormText";const Ct=Tt,Nt=t.forwardRef(((e,t)=>(0,o.jsx)(dt,{...e,ref:t,type:"switch"})));Nt.displayName="Switch";const At=Object.assign(Nt,{Input:dt.Input,Label:dt.Label}),Rt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:a,label:c,...l}=e;return n=h(n,"form-floating"),(0,o.jsxs)(vt,{ref:t,className:s()(r,n),controlId:a,...l,children:[i,(0,o.jsx)("label",{htmlFor:a,children:c})]})}));Rt.displayName="FloatingLabel";const Pt=Rt,Ot={_ref:Ye().any,validated:Ye().bool,as:Ye().elementType},Dt=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...a}=e;return(0,o.jsx)(i,{...a,ref:t,className:s()(n,r&&"was-validated")})}));Dt.displayName="Form",Dt.propTypes=Ot;const Lt=Object.assign(Dt,{Group:vt,Control:ft,Floating:mt,Check:dt,Switch:At,Label:Et,Text:Ct,Range:It,Select:xt,FloatingLabel:Pt}),Mt=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:a,active:c=!1,disabled:l=!1,className:u,...d}=e;const f=h(r,"btn"),[p,{tagName:m}]=te({tagName:n,disabled:l,...d}),g=m;return(0,o.jsx)(g,{...p,...d,ref:t,disabled:l,className:s()(u,f,c&&"active",i&&"".concat(f,"-").concat(i),a&&"".concat(f,"-").concat(a),d.href&&l&&"disabled")})}));Mt.displayName="Button";const Ft=Mt,Ut=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|c>>6,h=63&c;a||(h=64,s||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ut(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Vt;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(e){return function(e){const t=Ut(e);return jt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bt=function(e){try{return jt.decodeString(e,!0)}catch(cL){console.error("base64Decode failed: ",cL)}return null};function qt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ht(n)&&(e[n]=qt(e[n],t[n]));return e}function Ht(e){return"__proto__"!==e}const Kt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Gt=()=>{try{return Kt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCbgA-g3D3cQlAg7bcydsyJtL_2O8NehRc",REACT_APP_APP_ID:"1:277685492270:web:29106a12bad8e90f50ddbf",REACT_APP_AUTH_DOMAIN:"gugle-drive.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"277685492270",REACT_APP_PROJECT_ID:"gugle-drive",REACT_APP_STORAGE_BUCKET:"gugle-drive.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cL){return}const t=e&&Bt(e[1]);return t&&JSON.parse(t)})()}catch(cL){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(cL))}},Wt=()=>{var e;return null===(e=Gt())||void 0===e?void 0:e.config};class Qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Yt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(s)),""].join(".")}function $t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xt(){var e;const t=null===(e=Gt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(cL){return!1}}function Jt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Zt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function en(){const e=$t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tn(){return!Xt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nn(){try{return"object"===typeof indexedDB}catch(cL){return!1}}class rn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(on,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rn(n,s,t)}}const on=/\{\$([^}]+)}/g;function an(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ln(n)&&ln(s)){if(!cn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ln(e){return null!==e&&"object"===typeof e}function un(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function hn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fn(e,t){const n=new pn(e,t);return n.subscribe.bind(n)}class pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=mn),void 0===r.error&&(r.error=mn),void 0===r.complete&&(r.complete=mn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(cL){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cL){"undefined"!==typeof console&&console.error&&console.error(cL)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function mn(){}function gn(e){return e&&e._delegate?e._delegate:e}class vn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yn="[DEFAULT]";class bn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cL){if(r)return null;throw cL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yn})}catch(cL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cL){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===yn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;return this.component?this.component.multipleInstances?e:yn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _n=[];var En;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(En||(En={}));const kn={debug:En.DEBUG,verbose:En.VERBOSE,info:En.INFO,warn:En.WARN,error:En.ERROR,silent:En.SILENT},In=En.INFO,Sn={[En.DEBUG]:"log",[En.VERBOSE]:"log",[En.INFO]:"info",[En.WARN]:"warn",[En.ERROR]:"error"},xn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Sn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Tn{constructor(e){this.name=e,this._logLevel=In,this._logHandler=xn,this._userLogHandler=null,_n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in En))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.DEBUG,...t),this._logHandler(this,En.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.VERBOSE,...t),this._logHandler(this,En.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.INFO,...t),this._logHandler(this,En.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.WARN,...t),this._logHandler(this,En.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,En.ERROR,...t),this._logHandler(this,En.ERROR,...t)}}const Cn=(e,t)=>t.some((t=>e instanceof t));let Nn,An;const Rn=new WeakMap,Pn=new WeakMap,On=new WeakMap,Dn=new WeakMap,Ln=new WeakMap;let Mn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||On.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Fn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vn(this),n),jn(Rn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(e.apply(Vn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Vn(this),t,...r);return On.set(s,t.sort?t.sort():[t]),jn(s)}}function Un(e){return"function"===typeof e?Fn(e):(e instanceof IDBTransaction&&function(e){if(Pn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Pn.set(e,t)}(e),Cn(e,Nn||(Nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Mn):e)}function jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(jn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Rn.set(t,e)})).catch((()=>{})),Ln.set(t,e),t}(e);if(Dn.has(e))return Dn.get(e);const t=Un(e);return t!==e&&(Dn.set(e,t),Ln.set(t,e)),t}const Vn=e=>Ln.get(e);const zn=["get","getKey","getAll","getAllKeys","count"],Bn=["put","add","delete","clear"],qn=new Map;function Hn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(qn.get(t))return qn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Bn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return qn.set(t,s),s}Mn=(e=>({...e,get:(t,n,r)=>Hn(t,n)||e.get(t,n,r),has:(t,n)=>!!Hn(t,n)||e.has(t,n)}))(Mn);class Kn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Gn="@firebase/app",Wn="0.9.29",Qn=new Tn("@firebase/app"),Yn="[DEFAULT]",$n={[Gn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xn=new Map,Jn=new Map;function Zn(e,t){try{e.container.addComponent(t)}catch(cL){Qn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),cL)}}function er(e,t){e.container.addOrOverwriteComponent(t)}function tr(e){const t=e.name;if(Jn.has(t))return Qn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jn.set(t,e);for(const n of Xn.values())Zn(n,e);return!0}function nr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn;nr(e,t).clearInstance(n)}function ir(){Jn.clear()}const sr=new sn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const ar="10.9.0";function cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=Wt()),!n)throw sr.create("no-options");const s=Xn.get(i);if(s){if(cn(n,s.options)&&cn(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}const o=new wn(i);for(const c of Jn.values())o.addComponent(c);const a=new or(n,r,o);return Xn.set(i,a),a}function lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;const t=Xn.get(e);if(!t&&e===Yn&&Wt())return cr();if(!t)throw sr.create("no-app",{appName:e});return t}function ur(){return Array.from(Xn.values())}async function dr(e){const t=e.name;Xn.has(t)&&(Xn.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function hr(e,t,n){var r;let i=null!==(r=$n[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qn.warn(e.join(" "))}tr(new vn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function fr(e,t){if(null!==e&&"function"!==typeof e)throw sr.create("invalid-log-argument");!function(e,t){for(const n of _n){let r=null;t&&t.level&&(r=kn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:En[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function pr(e){var t;t=e,_n.forEach((e=>{e.setLogLevel(t)}))}const mr="firebase-heartbeat-database",gr=1,vr="firebase-heartbeat-store";let yr=null;function br(){return yr||(yr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=jn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(jn(o.result),e.oldVersion,e.newVersion,jn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(mr,gr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vr)}catch(cL){console.warn(cL)}}}).catch((e=>{throw sr.create("idb-open",{originalErrorMessage:e.message})}))),yr}async function wr(e,t){try{const n=(await br()).transaction(vr,"readwrite"),r=n.objectStore(vr);await r.put(t,_r(e)),await n.done}catch(cL){if(cL instanceof rn)Qn.warn(cL.message);else{const t=sr.create("idb-set",{originalErrorMessage:null===cL||void 0===cL?void 0:cL.message});Qn.warn(t.message)}}}function _r(e){return"".concat(e.name,"!").concat(e.options.appId)}class Er{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ir(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Sr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=zt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kr(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!nn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await br()).transaction(vr),n=await t.objectStore(vr).get(_r(e));return await t.done,n}catch(cL){if(cL instanceof rn)Qn.warn(cL.message);else{const t=sr.create("idb-get",{originalErrorMessage:null===cL||void 0===cL?void 0:cL.message});Qn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Sr(e){return zt(JSON.stringify({version:2,heartbeats:e})).length}var xr;xr="",tr(new vn("platform-logger",(e=>new Kn(e)),"PRIVATE")),tr(new vn("heartbeat",(e=>new Er(e)),"PRIVATE")),hr(Gn,Wn,xr),hr(Gn,Wn,"esm2017"),hr("fire-js","");class Tr{constructor(e,t){this._delegate=e,this.firebase=t,Zn(e,new vn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),dr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Zn(this._delegate,e)}_addOrOverwriteComponent(e){er(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Cr=new sn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Nr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=cr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(an(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:hr,setLogLevel:pr,onLog:fr,apps:null,SDK_VERSION:ar,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(tr(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Cr.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&qt(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!an(n,e=e||Yn))throw Cr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Tr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qt(n,e)},createSubscribe:fn,ErrorFactory:sn,deepExtend:qt}),n}(),Ar=new Tn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ar.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ar.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Rr=Nr;!function(e){hr("@firebase/app-compat","0.2.29",e)}();Rr.registerVersion("firebase","10.9.0","app-compat");function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Or={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Dr="EMAIL_SIGNIN",Lr="PASSWORD_RESET",Mr="RECOVER_EMAIL",Fr="REVERT_SECOND_FACTOR_ADDITION",Ur="VERIFY_AND_CHANGE_EMAIL",jr="VERIFY_EMAIL";function Vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Br=Vr,qr=new sn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hr=new Tn("@firebase/auth");function Kr(e){if(Hr.logLevel<=En.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hr.error("Auth (".concat(ar,"): ").concat(e),...n)}}function Gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $r(e,...n)}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $r(e,...n)}function Qr(e,t,n){const r=Object.assign(Object.assign({},Br()),{[t]:n});return new sn("auth","Firebase",r).create(t,{appName:e.name})}function Yr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Gr(e,"argument-error"),Qr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qr.create(e,...n)}function Xr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $r(t,...r)}}function Jr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kr(t),new Error(t)}function Zr(e,t){e||Jr(t)}function ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ti(){return"http:"===ni()||"https:"===ni()}function ni(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ri{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())||Zt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ti()||Jt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ii(e,t){Zr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class si{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ai=new ri(3e4,6e4);function ci(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function li(e,t,n,r){return ui(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=un(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),si.fetch()(hi(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ui(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},oi),t);try{const t=new pi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw mi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw mi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw mi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Qr(e,a,o);Gr(e,a)}}catch(cL){if(cL instanceof rn)throw cL;Gr(e,"network-request-failed",{message:String(cL)})}}async function di(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await li(e,t,n,r,i);return"mfaPendingCredential"in s&&Gr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function hi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ii(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function fi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wr(this.auth,"network-request-failed"))),ai.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function mi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(e,t,r);return i.customData._tokenResponse=n,i}function gi(e){return void 0!==e&&void 0!==e.getResponse}function vi(e){return void 0!==e&&void 0!==e.enterprise}class yi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function bi(e,t){return li(e,"GET","/v2/recaptchaConfig",ci(e,t))}function wi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cL){}}function _i(e){return 1e3*Number(e)}function Ei(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Kr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Bt(n);return e?JSON.parse(e):(Kr("Failed to decode base64 JWT payload"),null)}catch(cL){return Kr("Caught error parsing JWT payload as JSON",null===cL||void 0===cL?void 0:cL.toString()),null}}async function ki(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(cL){throw cL instanceof rn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(cL)&&e.auth.currentUser===e&&await e.auth.signOut(),cL}}class Ii{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cL){return void((null===cL||void 0===cL?void 0:cL.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Si{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wi(this.lastLoginAt),this.creationTime=wi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ki(e,async function(e,t){return li(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Xr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=Pr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(s.providerUserInfo):[],a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Si(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xr(e.idToken,"internal-error"),Xr("undefined"!==typeof e.idToken,"internal-error"),Xr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ei(e);return Xr(t,"internal-error"),Xr("undefined"!==typeof t.exp,"internal-error"),Xr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ui(e,{},(async()=>{const n=un({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=hi(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",si.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ti;return n&&(Xr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Xr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Xr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function Ci(e,t){Xr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Pr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Si(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ki(this,this.stsTokenManager.getToken(this.auth,e));return Xr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gn(e),r=await n.getIdToken(t),i=Ei(r);Xr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wi(_i(i.auth_time)),issuedAtTime:wi(_i(i.iat)),expirationTime:wi(_i(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=gn(e);await xi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ki(this,async function(e,t){return li(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Xr(y&&E,e,"internal-error");const k=Ti.fromJSON(this.name,E);Xr("string"===typeof y,e,"internal-error"),Ci(u,e.name),Ci(d,e.name),Xr("boolean"===typeof b,e,"internal-error"),Xr("boolean"===typeof w,e,"internal-error"),Ci(h,e.name),Ci(f,e.name),Ci(p,e.name),Ci(m,e.name),Ci(g,e.name),Ci(v,e.name);const I=new Ni({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ti;r.updateFromServerResponse(t);const i=new Ni({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xi(i),i}}const Ai=new Map;function Ri(e){Zr(e instanceof Function,"Expected a class definition");let t=Ai.get(e);return t?(Zr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ai.set(e,t),t)}class Pi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pi.type="NONE";const Oi=Pi;function Di(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Li{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Di(this.userKey,r.apiKey,i),this.fullPersistenceKey=Di("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Li(Ri(Oi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ri(Oi);const s=Di(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ni._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new Li(i,e,n)):new Li(i,e,n)}}function Mi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bi(t))return"Blackberry";if(qi(t))return"Webos";if(Ui(t))return"Safari";if((t.includes("chrome/")||ji(t))&&!t.includes("edge/"))return"Chrome";if(zi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/firefox\//i.test(e)}function Ui(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/crios\//i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iemobile/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/android/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/blackberry/i.test(e)}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/webos/i.test(e)}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Hi(e)||zi(e)||qi(e)||Bi(e)||/windows phone/i.test(e)||Vi(e)}function Gi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mi($t());break;case"Worker":t="".concat(Mi($t()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ar,"/").concat(r)}class Wi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(cL){r(cL)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===cL||void 0===cL?void 0:cL.message})}}}class Qi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Li.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(cL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(cL)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xi(e)}catch(cL){if((null===cL||void 0===cL?void 0:cL.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?gn(e):null;return t&&Xr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ri(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return li(e,"GET","/v2/passwordPolicy",ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Qi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return li(e,"POST","/v2/accounts:revokeToken",ci(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;Xr(t,this,"argument-error"),this.redirectPersistenceManager=await Li.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xr(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Hr.logLevel<=En.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hr.warn("Auth (".concat(ar,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function $i(e){return gn(e)}class Xi{constructor(e){this.auth=e,this.observer=null,this.addObserver=fn((e=>this.observer=e))}get next(){return Xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ji={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zi(e){return Ji.loadJS(e)}function es(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ts{constructor(e){this.type="recaptcha-enterprise",this.auth=$i(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;vi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{bi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new yi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&vi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ji.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Zi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ns(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ts(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rs(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ns(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ns(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function is(e,t,n){const r=$i(e);Xr(r._canInitEmulator,r,"emulator-config-failed"),Xr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ss(t),{host:o,port:a}=function(e){const t=ss(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:os(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:os(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ss(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function os(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class as{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function cs(e,t){return li(e,"POST","/v1/accounts:resetPassword",ci(e,t))}async function ls(e,t){return li(e,"POST","/v1/accounts:signUp",t)}async function us(e,t){return di(e,"POST","/v1/accounts:signInWithPassword",ci(e,t))}async function ds(e,t){return li(e,"POST","/v1/accounts:sendOobCode",ci(e,t))}async function hs(e,t){return ds(e,t)}async function fs(e,t){return ds(e,t)}class ps extends as{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ps(e,t,"password")}static _fromEmailAndCode(e,t){return new ps(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",us);case"emailLink":return async function(e,t){return di(e,"POST","/v1/accounts:signInWithEmailLink",ci(e,t))}(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ls);case"emailLink":return async function(e,t){return di(e,"POST","/v1/accounts:signInWithEmailLink",ci(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ms(e,t){return di(e,"POST","/v1/accounts:signInWithIdp",ci(e,t))}class gs extends as{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Pr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new gs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ms(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ms(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=un(t)}return e}}const vs={USER_NOT_FOUND:"user-not-found"};class ys extends as{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ys({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ys({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return di(e,"POST","/v1/accounts:signInWithPhoneNumber",ci(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await di(e,"POST","/v1/accounts:signInWithPhoneNumber",ci(e,t));if(n.temporaryProof)throw mi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return di(e,"POST","/v1/accounts:signInWithPhoneNumber",ci(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ys({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class bs{constructor(e){var t,n,r,i,s,o;const a=dn(hn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Xr(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=dn(hn(e)).link,n=t?dn(hn(t)).deep_link_id:null,r=dn(hn(e)).deep_link_id;return(r?dn(hn(r)).link:null)||r||n||t||e}(e);try{return new bs(t)}catch(n){return null}}}class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(e,t){return ps._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bs.parseLink(t);return Xr(n,"argument-error"),ps._fromEmailAndCode(e,n.code,n.tenantId)}}ws.PROVIDER_ID="password",ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Es extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends Es{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Xr("providerId"in t&&"signInMethod"in t,"argument-error"),gs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Xr(e.idToken||e.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ks.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ks.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new ks(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(cL){return null}}}class Is extends Es{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch(n){return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com",Is.PROVIDER_ID="facebook.com";class Ss extends Es{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gs._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch(i){return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com",Ss.PROVIDER_ID="google.com";class xs extends Es{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch(n){return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com",xs.PROVIDER_ID="github.com";class Ts extends as{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ms(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ms(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ts(n,i):null}static _create(e,t){return new Ts(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cs extends _s{constructor(e){Xr(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Cs.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cs.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ts.fromJSON(e);return Xr(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ts._create(r,n)}catch(cL){return null}}}class Ns extends Es{constructor(){super("twitter.com")}static credential(e,t){return gs._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ns.credential(n,r)}catch(i){return null}}}async function As(e,t){return di(e,"POST","/v1/accounts:signUp",ci(e,t))}Ns.TWITTER_SIGN_IN_METHOD="twitter.com",Ns.PROVIDER_ID="twitter.com";class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ni._fromIdTokenResponse(e,n,r),s=Ps(n);return new Rs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ps(n);return new Rs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ps(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Os extends rn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Os(e,t,n,r)}}function Ds(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Os._fromErrorAndOperation(e,n,t,r);throw n}))}function Ls(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ms(e,t){const n=gn(e);await Us(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return li(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ls(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ki(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rs._forOperation(e,"link",r)}async function Us(e,t,n){await xi(t);const r=!1===e?"provider-already-linked":"no-such-provider";Xr(Ls(t.providerData).has(n)===e,t.auth,r)}async function js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ki(e,Ds(r,i,t,e),n);Xr(s.idToken,r,"internal-error");const o=Ei(s.idToken);Xr(o,r,"internal-error");const{sub:a}=o;return Xr(e.uid===a,r,"user-mismatch"),Rs._forOperation(e,i,s)}catch(cL){throw(null===cL||void 0===cL?void 0:cL.code)==="auth/".concat("user-not-found")&&Gr(r,"user-mismatch"),cL}}async function Vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ds(e,r,t),s=await Rs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function zs(e,t){return Vs($i(e),t)}async function Bs(e,t){const n=gn(e);return await Us(!1,n,t.providerId),Fs(n,t)}async function qs(e,t){return js(gn(e),t)}async function Hs(e,t){const n=$i(e),r=await async function(e,t){return di(e,"POST","/v1/accounts:signInWithCustomToken",ci(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ks{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Gs._fromServerResponse(e,t):"totpInfo"in t?Ws._fromServerResponse(e,t):Gr(e,"internal-error")}}class Gs extends Ks{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Gs(t)}}class Ws extends Ks{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ws(t)}}function Qs(e,t,n){var r;Xr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ys(e){const t=$i(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $s(e,t){await async function(e,t){return li(e,"POST","/v1/accounts:update",ci(e,t))}(gn(e),{oobCode:t})}async function Xs(e,t){const n=gn(e),r=await cs(n,{oobCode:t}),i=r.requestType;switch(Xr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Xr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Xr(r.mfaInfo,n,"internal-error");default:Xr(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ks._fromServerResponse($i(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Js(e,t){const n={identifier:t,continueUri:ti()?ei():"http://localhost"},{signinMethods:r}=await async function(e,t){return li(e,"POST","/v1/accounts:createAuthUri",ci(e,t))}(gn(e),n);return r||[]}async function Zs(e,t){const n=gn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Qs(n.auth,r,t);const{email:i}=await async function(e,t){return ds(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function eo(e,t,n){const r=gn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Qs(r.auth,i,n);const{email:s}=await async function(e,t){return ds(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function to(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=gn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ki(i,async function(e,t){return li(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function no(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ki(e,async function(e,t){return li(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class ro{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class io extends ro{constructor(e,t,n,r){super(e,t,n),this.username=r}}class so extends ro{constructor(e,t){super(e,"facebook.com",t)}}class oo extends io{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ao extends ro{constructor(e,t){super(e,"google.com",t)}}class co extends io{constructor(e,t,n){super(e,"twitter.com",t,n)}}function lo(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ei(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ro(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new so(s,i);case"github.com":return new oo(s,i);case"google.com":return new ao(s,i);case"twitter.com":return new co(s,i,e.screenName||null);case"custom":case"anonymous":return new ro(s,null);default:return new ro(s,r,i)}}(n)}class uo{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new uo("enroll",e,t)}static _fromMfaPendingCredential(e){return new uo("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return uo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return uo._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ho{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=$i(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ks._fromServerResponse(n,e)));Xr(r.mfaPendingCredential,n,"internal-error");const s=uo._fromMfaPendingCredential(r.mfaPendingCredential);return new ho(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Rs._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Xr(t.user,n,"internal-error"),Rs._forOperation(t.user,t.operationType,o);default:Gr(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class fo{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ks._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new fo(e)}async getSession(){return uo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ki(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ki(this.user,function(e,t){return li(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ci(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(cL){throw cL}}}const po=new WeakMap;const mo="__sak";class go{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class vo extends go{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$t();return Ui(e)||Hi(e)}()&&function(){try{return!(!window||window===window.top)}catch(cL){return!1}}(),this.fallbackToPolling=Ki(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);en()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vo.type="LOCAL";const yo=vo;class bo extends go{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bo.type="SESSION";const wo=bo;class _o{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _o(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_o.receivers=[];class ko{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Eo("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Io(){return window}function So(){return"undefined"!==typeof Io().WorkerGlobalScope&&"function"===typeof Io().importScripts}const xo="firebaseLocalStorageDb",To="firebaseLocalStorage",Co="fbase_key";class No{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ao(e,t){return e.transaction([To],t?"readwrite":"readonly").objectStore(To)}function Ro(){const e=indexedDB.open(xo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(To,{keyPath:Co})}catch(cL){n(cL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(To)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xo);return new No(e).toPromise()}(),t(await Ro()))}))}))}async function Po(e,t,n){const r=Ao(e,!0).put({[Co]:t,value:n});return new No(r).toPromise()}function Oo(e,t){const n=Ao(e,!0).delete(t);return new No(n).toPromise()}class Do{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ro()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cL){if(t++>3)throw cL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return So()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_o._getInstance(So()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ko(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ro();return await Po(e,mo,"1"),await Oo(e,mo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Po(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ao(e,!1).get(t),r=await new No(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Oo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ao(e,!1).getAll();return new No(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Do.type="LOCAL";const Lo=Do;const Mo=1e12;class Fo{constructor(e){this.auth=e,this.counter=Mo,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Uo(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Mo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Mo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Mo;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Uo{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Xr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(cL){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(cL){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jo=es("rcb"),Vo=new ri(3e4,6e4);class zo{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Io().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&gi(Io().grecaptcha)?Promise.resolve(Io().grecaptcha):new Promise(((n,r)=>{const i=Io().setTimeout((()=>{r(Wr(e,"network-request-failed"))}),Vo.get());Io()[jo]=()=>{Io().clearTimeout(i),delete Io()[jo];const s=Io().grecaptcha;if(!s||!gi(s))return void r(Wr(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Zi("".concat(Ji.recaptchaV2Script,"?").concat(un({onload:jo,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Wr(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Io().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bo{async load(e){return new Fo(e)}clearedOneInstance(){}}const qo="recaptcha",Ho={theme:"light",type:"image"};class Ko{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ho);this.parameters=n,this.type=qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$i(e),this.isInvisible="invisible"===this.parameters.size,Xr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Xr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bo:new zo,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(cL){return Promise.reject(cL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Xr(!this.parameters.sitekey,this.auth,"argument-error"),Xr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Io()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Xr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Xr(ti()&&!So(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await li(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Xr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Xr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Go{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ys._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Wo(e,t,n){var r;const i=await n.verify();try{let s;if(Xr("string"===typeof i,e,"argument-error"),Xr(n.type===qo,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Xr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return li(e,"POST","/v2/accounts/mfaEnrollment:start",ci(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Xr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Xr(n,e,"missing-multi-factor-info");const o=await function(e,t){return li(e,"POST","/v2/accounts/mfaSignIn:start",ci(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return li(e,"POST","/v1/accounts:sendVerificationCode",ci(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Qo{constructor(e){this.providerId=Qo.PROVIDER_ID,this.auth=$i(e)}verifyPhoneNumber(e,t){return Wo(this.auth,e,gn(t))}static credential(e,t){return ys._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qo.credentialFromTaggedObject(t)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ys._fromTokenResponse(n,r):null}}function Yo(e,t){return t?Ri(t):(Xr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qo.PROVIDER_ID="phone",Qo.PHONE_SIGN_IN_METHOD="phone";class $o extends as{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xo(e){return Vs(e.auth,new $o(e),e.bypassAuthState)}function Jo(e){const{auth:t,user:n}=e;return Xr(n,t,"internal-error"),js(n,new $o(e),e.bypassAuthState)}async function Zo(e){const{auth:t,user:n}=e;return Xr(n,t,"internal-error"),Fs(n,new $o(e),e.bypassAuthState)}class ea{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cL){this.reject(cL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(cL){this.reject(cL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xo;case"linkViaPopup":case"linkViaRedirect":return Zo;case"reauthViaPopup":case"reauthViaRedirect":return Jo;default:Gr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ta=new ri(2e3,1e4);class na extends ea{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xr(e,this.auth,"internal-error"),e}async onExecution(){Zr(1===this.filter.length,"Popup operations only handle one event");const e=Eo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ta.get())};e()}}na.currentPopupAction=null;const ra="pendingRedirect",ia=new Map;class sa extends ea{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ia.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=la(t),r=ca(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(cL){e=()=>Promise.reject(cL)}ia.set(this.auth._key(),e)}return this.bypassAuthState||ia.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function oa(e,t){return ca(e)._set(la(t),"true")}function aa(e,t){ia.set(e._key(),t)}function ca(e){return Ri(e._redirectPersistence)}function la(e){return Di(ra,e.config.apiKey,e.name)}function ua(e,t,n){return async function(e,t,n){const r=$i(e);Yr(e,t,_s),await r._initializationPromise;const i=Yo(r,n);return await oa(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function da(e,t,n){return async function(e,t,n){const r=gn(e);Yr(r.auth,t,_s),await r.auth._initializationPromise;const i=Yo(r.auth,n);await oa(i,r.auth);const s=await pa(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ha(e,t,n){return async function(e,t,n){const r=gn(e);Yr(r.auth,t,_s),await r.auth._initializationPromise;const i=Yo(r.auth,n);await Us(!1,r,t.providerId),await oa(i,r.auth);const s=await pa(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=$i(e),i=Yo(r,t),s=new sa(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function pa(e){const t=Eo("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ma{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return va(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!va(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(e))}saveEventToCache(e){this.cachedEventUids.add(ga(e)),this.lastProcessedEventTime=Date.now()}}function ga(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function va(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ya(e){return li(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wa=/^https?/;function _a(e){const t=ei(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wa.test(n))return!1;if(ba.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ea=new ri(3e4,6e4);function ka(){const e=Io().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ia(e){return new Promise(((t,n)=>{var r,i,s;function o(){ka(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ka(),n(Wr(e,"network-request-failed"))},timeout:Ea.get()})}if(null===(i=null===(r=Io().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Io().gapi)||void 0===s?void 0:s.load)){const t=es("iframefcb");return Io()[t]=()=>{gapi.load?o():n(Wr(e,"network-request-failed"))},Zi("".concat(Ji.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Sa=null,e}))}let Sa=null;const xa=new ri(5e3,15e3),Ta="__/auth/iframe",Ca="emulator/auth/iframe",Na={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ra(e){const t=e.config;Xr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ii(t,Ca):"https://".concat(e.config.authDomain,"/").concat(Ta),r={apiKey:t.apiKey,appName:e.name,v:ar},i=Aa.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(un(r).slice(1))}async function Pa(e){const t=await function(e){return Sa=Sa||Ia(e),Sa}(e),n=Io().gapi;return Xr(n,e,"internal-error"),t.open({where:document.body,url:Ra(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Na,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wr(e,"network-request-failed"),s=Io().setTimeout((()=>{r(i)}),xa.get());function o(){Io().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Da{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cL){}}}function La(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Oa),{width:r.toString(),height:i.toString(),top:s,left:o}),l=$t().toLowerCase();n&&(a=ji(l)?"_blank":n),Fi(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Hi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Da(null);const d=window.open(t||"",a,u);Xr(d,e,"popup-blocked");try{d.focus()}catch(cL){}return new Da(d)}const Ma="__/auth/handler",Fa="emulator/auth/handler",Ua=encodeURIComponent("fac");async function ja(e,t,n,r,i,s){Xr(e.config.authDomain,e,"auth-domain-config-required"),Xr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ar,eventId:i};if(t instanceof _s){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Es){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Ua,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ma);return ii(t,Fa)}(e),"?").concat(un(a).slice(1)).concat(l)}const Va="webStorageSupport";const za=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wo,this._completeRedirectFn=fa,this._overrideRedirectResult=aa}async _openPopup(e,t,n,r){var i;Zr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return La(e,await ja(e,t,n,ei(),r),Eo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Io().location.href=e}(await ja(e,t,n,ei(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Pa(e),n=new ma(e);return t.register("authEvent",(t=>{Xr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Va,{type:Va},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Va];void 0!==i&&t(!!i),Gr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ya(e);for(const r of t)try{if(_a(r))return}catch(n){}Gr(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ki()||Ui()||Hi()}};class Ba{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jr("unexpected MultiFactorSessionType")}}}class qa extends Ba{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new qa(e)}_finalizeEnroll(e,t,n){return function(e,t){return li(e,"POST","/v2/accounts/mfaEnrollment:finalize",ci(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return li(e,"POST","/v2/accounts/mfaSignIn:finalize",ci(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ha{constructor(){}static assertion(e){return qa._fromCredential(e)}}Ha.FACTOR_ID="phone";var Ka="@firebase/auth",Ga="1.6.2";class Wa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Gt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Qa;function Ya(){return window}!function(e){Ji=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Qa="Browser",tr(new vn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Xr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Qa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gi(Qa)},l=new Yi(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),tr(new vn("auth-internal",(e=>(e=>new Wa(e))($i(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Ka,Ga,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qa)),hr(Ka,Ga,"esm2017");async function $a(e,t,n){var r;const{BuildInfo:i}=Ya();Zr(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Zr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Hi()?o.ibi=i.packageName:zi()?o.apn=i.packageName:Gr(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ja(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Xa(e){const{cordova:t}=Ya();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ja=20;class Za extends ma{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ec(e){const t=await rc()._get(ic(e));return t&&await rc()._remove(ic(e)),t}function tc(e,t){var n,r;const i=function(e){const t=sc(e),n=t.link?decodeURIComponent(t.link):void 0,r=sc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return sc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=sc(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(cL){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Wr(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function nc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ja;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function rc(){return Ri(yo)}function ic(e){return Di("authEvent",e.config.apiKey,e.name)}function sc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return dn(n.join("?"))}const oc=class{constructor(){this._redirectPersistence=wo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fa,this._overrideRedirectResult=aa}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Za(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Gr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const d=Ya();Xr("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xr("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xr("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xr("function"===typeof(null===(c=null===(a=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xr("function"===typeof(null===(u=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ia.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:nc(),postBody:null,tenantId:e.tenantId,error:Wr(e,"no-auth-event")}}(e,n,r);await function(e,t){return rc()._set(ic(e),t)}(e,s);const o=await $a(e,s,t);return async function(e,t,n){const{cordova:r}=Ya();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(Wr(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),zi()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Xa(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ya(),n={};Hi()?n.iosBundleId=t.packageName:zi()?n.androidPackageName=t.packageName:Gr(e,"operation-not-supported-in-this-environment"),await ya(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ya(),s=setTimeout((async()=>{await ec(e),t.onEvent(ac())}),500),o=async n=>{clearTimeout(s);const r=await ec(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=tc(r,n.url)),t.onEvent(i||ac())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");Ya().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(cL){console.error(cL)}}}};function ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wr("no-auth-event")}}function cc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return!("file:"!==cc()&&"ionic:"!==cc()&&"capacitor:"!==cc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return en()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/Edge\/\d+/.test(e)}(e)}function dc(){try{const e=self.localStorage,t=Eo();if(e)return e.setItem(t,"1"),e.removeItem(t),!uc()||nn()}catch(cL){return hc()&&nn()}return!1}function hc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function fc(){return("http:"===cc()||"https:"===cc()||Jt()||lc())&&!(Zt()||Xt())&&dc()&&!hc()}function pc(){return lc()&&"undefined"!==typeof document}const mc={LOCAL:"local",NONE:"none",SESSION:"session"},gc=Xr,vc="persistence";async function yc(e){await e._initializationPromise;const t=bc(),n=Di(vc,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function bc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(cL){return null}}const wc=Xr;class _c{constructor(){this.browserResolver=Ri(za),this.cordovaResolver=Ri(oc),this.underlyingResolver=null,this._redirectPersistence=wo,this._completeRedirectFn=fa,this._overrideRedirectResult=aa}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return pc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wc(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!pc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ec(e){return e.unwrap()}function kc(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Tc(e,function(e,t){var n;const r=gn(e),i=t;return Xr(t.customData.operationType,r,"argument-error"),Xr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ho._fromError(r,i)}(e,t))}else if(r){const e=Ic(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Ic(e){const{_tokenResponse:t}=e instanceof rn?e.customData:e;if(!t)return null;if(!(e instanceof rn)&&"temporaryProof"in t&&"phoneNumber"in t)return Qo.credentialFromResult(e);const n=t.providerId;if(!n||n===Or.PASSWORD)return null;let r;switch(n){case Or.GOOGLE:r=Ss;break;case Or.FACEBOOK:r=Is;break;case Or.GITHUB:r=xs;break;case Or.TWITTER:r=Ns;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ts._create(n,o):gs._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ks(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof rn?r.credentialFromError(e):r.credentialFromResult(e)}function Sc(e,t){return t.catch((t=>{throw t instanceof rn&&kc(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Ic(r)),additionalUserInfo:lo(e),user:Cc.getOrCreate(n)};var r}))}async function xc(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Sc(e,n.confirm(t))}}class Tc{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Sc(Ec(this.auth),this.resolver.resolveSignIn(e))}}class Cc{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=gn(e);return po.has(t)||po.set(t,fo._fromUser(t)),po.get(t)}(e)}static getOrCreate(e){return Cc.USER_MAP.has(e)||Cc.USER_MAP.set(e,new Cc(e)),Cc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Sc(this.auth,Bs(this._delegate,e))}async linkWithPhoneNumber(e,t){return xc(this.auth,async function(e,t,n){const r=gn(e);await Us(!1,r,"phone");const i=await Wo(r.auth,t,gn(n));return new Go(i,(e=>Bs(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Sc(this.auth,async function(e,t,n){const r=gn(e);Yr(r.auth,t,_s);const i=Yo(r.auth,n);return new na(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,_c))}async linkWithRedirect(e){return await yc($i(this.auth)),ha(this._delegate,e,_c)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Sc(this.auth,qs(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return xc(this.auth,async function(e,t,n){const r=gn(e),i=await Wo(r.auth,t,gn(n));return new Go(i,(e=>qs(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Sc(this.auth,async function(e,t,n){const r=gn(e);Yr(r.auth,t,_s);const i=Yo(r.auth,n);return new na(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,_c))}async reauthenticateWithRedirect(e){return await yc($i(this.auth)),da(this._delegate,e,_c)}sendEmailVerification(e){return Zs(this._delegate,e)}async unlink(e){return await Ms(this._delegate,e),this}updateEmail(e){return function(e,t){return no(gn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return no(gn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Fs(gn(e),t)}(this._delegate,e)}updateProfile(e){return to(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return eo(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cc.USER_MAP=new WeakMap;const Nc=Xr;class Ac{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Nc(n,"invalid-api-key",{appName:e.name}),Nc(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?_c:void 0;this._delegate=t.initialize({options:{persistence:Pc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(zr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){is(this._delegate,e,t)}applyActionCode(e){return $s(this._delegate,e)}checkActionCode(e){return Xs(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await cs(gn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ys(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Sc(this._delegate,async function(e,t,n){const r=$i(e),i=rs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",As),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ys(e),t})),o=await Rs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Js(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=bs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Nc(fc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await $i(e)._initializationPromise,fa(e,t,!1)}(this._delegate,_c);return e?Sc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){$i(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Rc(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Rc(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=$i(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Xr(t.handleCodeInApp,r,"argument-error"),t&&Qs(r,e,t)}(i,n),await rs(r,i,"getOobCode",fs)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=$i(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Qs(r,i,n),await rs(r,i,"getOobCode",hs)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){gc(Object.values(mc).includes(t),e,"invalid-persistence-type"),Zt()?gc(t!==mc.SESSION,e,"unsupported-persistence-type"):Xt()?gc(t===mc.NONE,e,"unsupported-persistence-type"):hc()?gc(t===mc.NONE||t===mc.LOCAL&&nn(),e,"unsupported-persistence-type"):gc(t===mc.NONE||dc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case mc.SESSION:t=wo;break;case mc.LOCAL:t=await Ri(Lo)._isAvailable()?Lo:yo;break;case mc.NONE:t=Oi;break;default:return Gr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Sc(this._delegate,async function(e){var t;const n=$i(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Rs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await As(n,{returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Sc(this._delegate,zs(this._delegate,e))}signInWithCustomToken(e){return Sc(this._delegate,Hs(this._delegate,e))}signInWithEmailAndPassword(e,t){return Sc(this._delegate,function(e,t,n){return zs(gn(e),ws.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ys(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Sc(this._delegate,async function(e,t,n){const r=gn(e),i=ws.credentialWithLink(t,n||ei());return Xr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),zs(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return xc(this._delegate,async function(e,t,n){const r=$i(e),i=await Wo(r,t,gn(n));return new Go(i,(e=>zs(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Nc(fc(),this._delegate,"operation-not-supported-in-this-environment"),Sc(this._delegate,async function(e,t,n){const r=$i(e);Yr(e,t,_s);const i=Yo(r,n);return new na(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,_c))}async signInWithRedirect(e){return Nc(fc(),this._delegate,"operation-not-supported-in-this-environment"),await yc(this._delegate),ua(this._delegate,e,_c)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Xs(gn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Rc(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Cc.getOrCreate(e)),error:t,complete:n}}function Pc(e,t){const n=function(e,t){const n=bc();if(!n)return[];const r=Di(vc,e,t);switch(n.getItem(r)){case mc.NONE:return[Oi];case mc.LOCAL:return[Lo,wo];case mc.SESSION:return[wo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Lo)||n.push(Lo),"undefined"!==typeof window)for(const r of[yo,wo])n.includes(r)||n.push(r);return n.includes(Oi)||n.push(Oi),n}Ac.Persistence=mc;class Oc{constructor(){this.providerId="phone",this._delegate=new Qo(Ec(Rr.auth()))}static credential(e,t){return Qo.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Oc.PHONE_SIGN_IN_METHOD=Qo.PHONE_SIGN_IN_METHOD,Oc.PROVIDER_ID=Qo.PROVIDER_ID;const Dc=Xr;class Lc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rr.app();var r;Dc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ko(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Mc;(Mc=Rr).INTERNAL.registerComponent(new vn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ac(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Dr,PASSWORD_RESET:Lr,RECOVER_EMAIL:Mr,REVERT_SECOND_FACTOR_ADDITION:Fr,VERIFY_AND_CHANGE_EMAIL:Ur,VERIFY_EMAIL:jr}},EmailAuthProvider:ws,FacebookAuthProvider:Is,GithubAuthProvider:xs,GoogleAuthProvider:Ss,OAuthProvider:ks,SAMLAuthProvider:Cs,PhoneAuthProvider:Oc,PhoneMultiFactorGenerator:Ha,RecaptchaVerifier:Lc,TwitterAuthProvider:Ns,Auth:Ac,AuthCredential:as,Error:rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Mc.registerVersion("@firebase/auth-compat","0.5.4");var Fc,Uc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jc={},Vc=Vc||{},zc=Uc||self;function Bc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hc="closure_uid_"+(1e9*Math.random()>>>0),Kc=0;function Gc(e,t,n){return e.call.apply(e.bind,arguments)}function Wc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qc(e,t,n){return(Qc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gc:Wc).apply(null,arguments)}function Yc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $c(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Xc(){this.s=this.s,this.o=this.o}Xc.prototype.s=!1,Xc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hc)&&e[Hc]||(e[Hc]=++Kc))},Xc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function el(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Bc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function tl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}tl.prototype.h=function(){this.defaultPrevented=!0};var nl=function(){if(!zc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};zc.addEventListener("test",e,t),zc.removeEventListener("test",e,t)}catch(n){}return e}();function rl(e){return/^[\s\xa0]*$/.test(e)}function il(){var e=zc.navigator;return e&&(e=e.userAgent)?e:""}function sl(e){return-1!=il().indexOf(e)}function ol(e){return ol[" "](e),e}ol[" "]=function(){};var al,cl,ll=sl("Opera"),ul=sl("Trident")||sl("MSIE"),dl=sl("Edge"),hl=dl||ul,fl=sl("Gecko")&&!(-1!=il().toLowerCase().indexOf("webkit")&&!sl("Edge"))&&!(sl("Trident")||sl("MSIE"))&&!sl("Edge"),pl=-1!=il().toLowerCase().indexOf("webkit")&&!sl("Edge");function ml(){var e=zc.document;return e?e.documentMode:void 0}e:{var gl="",vl=function(){var e=il();return fl?/rv:([^\);]+)(\)|;)/.exec(e):dl?/Edge\/([\d\.]+)/.exec(e):ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pl?/WebKit\/(\S+)/.exec(e):ll?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vl&&(gl=vl?vl[1]:""),ul){var yl=ml();if(null!=yl&&yl>parseFloat(gl)){al=String(yl);break e}}al=gl}if(zc.document&&ul){var bl=ml();cl=bl||(parseInt(al,10)||void 0)}else cl=void 0;var wl=cl;function _l(e,t){if(tl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fl){e:{try{ol(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:El[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_l.$.h.call(this)}}$c(_l,tl);var El={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kl="closure_listenable_"+(1e6*Math.random()|0),Il=0;function Sl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Il,this.fa=this.ia=!1}function xl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Tl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Cl(e){const t={};for(const n in e)t[n]=e[n];return t}const Nl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Al(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Nl.length;t++)n=Nl[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rl(e){this.src=e,this.g={},this.h=0}function Pl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Jc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(xl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ol(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Rl.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ol(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Sl(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Dl="closure_lm_"+(1e6*Math.random()|0),Ll={};function Ml(e,t,n,r,i){if(r&&r.once)return Ul(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ml(e,t[s],n,r,i);return null}return n=Kl(n),e&&e[kl]?e.O(t,n,qc(r)?!!r.capture:!!r,i):Fl(e,t,n,!1,r,i)}function Fl(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=qc(i)?!!i.capture:!!i,a=ql(e);if(a||(e[Dl]=a=new Rl(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Bl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ul(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ul(e,t[s],n,r,i);return null}return n=Kl(n),e&&e[kl]?e.P(t,n,qc(r)?!!r.capture:!!r,i):Fl(e,t,n,!0,r,i)}function jl(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)jl(e,t[s],n,r,i);else r=qc(r)?!!r.capture:!!r,n=Kl(n),e&&e[kl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ol(s=e.g[t],n,r,i))&&(xl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ql(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ol(t,n,r,i)),(n=-1<e?t[e]:null)&&Vl(n))}function Vl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[kl])Pl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ql(t))?(Pl(n,e),0==n.h&&(n.src=null,t[Dl]=null)):xl(e)}}}function zl(e){return e in Ll?Ll[e]:Ll[e]="on"+e}function Bl(e,t){if(e.fa)e=!0;else{t=new _l(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vl(e),e=n.call(r,t)}return e}function ql(e){return(e=e[Dl])instanceof Rl?e:null}var Hl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(e){return"function"===typeof e?e:(e[Hl]||(e[Hl]=function(t){return e.handleEvent(t)}),e[Hl])}function Gl(){Xc.call(this),this.i=new Rl(this),this.S=this,this.J=null}function Wl(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new tl(t,e);else if(t instanceof tl)t.target=t.target||e;else{var i=t;Al(t=new tl(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ql(o,r,!0,t)&&i}if(i=Ql(o=t.g=e,r,!0,t)&&i,i=Ql(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ql(o=t.g=n[s],r,!1,t)&&i}function Ql(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Pl(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}$c(Gl,Xc),Gl.prototype[kl]=!0,Gl.prototype.removeEventListener=function(e,t,n,r){jl(this,e,t,n,r)},Gl.prototype.N=function(){if(Gl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xl(n[r]);delete t.g[e],t.h--}}this.J=null},Gl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yl=zc.JSON.stringify;function $l(){var e=ru;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Jl),(e=>e.reset()));class Jl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function eu(e){zc.setTimeout((()=>{throw e}),0)}let tu,nu=!1,ru=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},iu=()=>{const e=zc.Promise.resolve(void 0);tu=()=>{e.then(su)}};var su=()=>{for(var e;e=$l();){try{e.h.call(e.g)}catch(n){eu(n)}var t=Xl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nu=!1};function ou(e,t){Gl.call(this),this.h=e||1,this.g=t||zc,this.j=Qc(this.qb,this),this.l=Date.now()}function au(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function cu(e,t,n){if("function"===typeof e)n&&(e=Qc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qc(e.handleEvent,e)}return 2147483647<Number(t)?-1:zc.setTimeout(e,t||0)}function lu(e){e.g=cu((()=>{e.g=null,e.i&&(e.i=!1,lu(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}$c(ou,Gl),(Fc=ou.prototype).ga=!1,Fc.T=null,Fc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wl(this,"tick"),this.ga&&(au(this),this.start()))}},Fc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fc.N=function(){ou.$.N.call(this),au(this),delete this.g};class uu extends Xc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(zc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function du(e){Xc.call(this),this.h=e,this.g={}}$c(du,Xc);var hu=[];function fu(e,t,n,r){Array.isArray(n)||(n&&(hu[0]=n.toString()),n=hu);for(var i=0;i<n.length;i++){var s=Ml(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pu(e){Tl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vl(e)}),e),e.g={}}function mu(){this.g=!0}function gu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Yl(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}du.prototype.N=function(){du.$.N.call(this),pu(this)},du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mu.prototype.Ea=function(){this.g=!1},mu.prototype.info=function(){};var vu={},yu=null;function bu(){return yu=yu||new Gl}function wu(e){tl.call(this,vu.Ta,e)}function _u(e){const t=bu();Wl(t,new wu(t))}function Eu(e,t){tl.call(this,vu.STAT_EVENT,e),this.stat=t}function ku(e){const t=bu();Wl(t,new Eu(t,e))}function Iu(e,t){tl.call(this,vu.Ua,e),this.size=t}function Su(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zc.setTimeout((function(){e()}),t)}vu.Ta="serverreachability",$c(wu,tl),vu.STAT_EVENT="statevent",$c(Eu,tl),vu.Ua="timingevent",$c(Iu,tl);var xu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cu(){}function Nu(e){return e.h||(e.h=e.i())}function Au(){}Cu.prototype.h=null;var Ru,Pu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ou(){tl.call(this,"d")}function Du(){tl.call(this,"c")}function Lu(){}function Mu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new du(this),this.P=Uu,e=hl?125:void 0,this.V=new ou(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}$c(Ou,tl),$c(Du,tl),$c(Lu,Cu),Lu.prototype.g=function(){return new XMLHttpRequest},Lu.prototype.i=function(){return{}},Ru=new Lu;var Uu=45e3,ju={},Vu={};function zu(e,t,n){e.L=1,e.A=od(td(t)),e.u=n,e.S=!0,Bu(e,null)}function Bu(e,t){e.G=Date.now(),Gu(e),e.B=td(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),bd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Fu,e.g=wh(e.l,n?t:null,!e.u),0<e.O&&(e.M=new uu(Qc(e.Pa,e,e.g),e.O)),fu(e.U,e.g,"readystatechange",e.nb),t=e.I?Cl(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_u(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function qu(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Hu(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Ku(e,n),r==Vu){4==t&&(e.s=4,ku(14),i=!1),gu(e.j,e.m,null,"[Incomplete Response]");break}if(r==ju){e.s=4,ku(15),gu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gu(e.j,e.m,r,null),Xu(e,r)}qu(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,ku(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hh(t),t.M=!0,ku(11))):(gu(e.j,e.m,n,"[Invalid Chunked Response]"),$u(e),Yu(e))}function Ku(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Vu:(n=Number(t.substring(n,r)),isNaN(n)?ju:(r+=1)+n>t.length?Vu:(t=t.slice(r,r+n),e.o=r+n,t))}function Gu(e){e.Y=Date.now()+e.P,Wu(e,e.P)}function Wu(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Su(Qc(e.lb,e),t)}function Qu(e){e.C&&(zc.clearTimeout(e.C),e.C=null)}function Yu(e){0==e.l.H||e.J||mh(e.l,e)}function $u(e){Qu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,au(e.V),pu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||xd(n.i,e)))if(!e.K&&xd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ph(n),ih(n)}dh(n),ku(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Su(Qc(n.ib,n),6e3));if(1>=Sd(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else vh(n,11)}else if((e.K||n.g==e)&&ph(n),!rl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Td(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,sd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=bh(r,r.J?r.pa:null,r.Y),o.K){Cd(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Qu(a),Gu(a)),r.g=o}else uh(r);0<n.j.length&&oh(n)}else"stop"!=l[0]&&"close"!=l[0]||vh(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?vh(n,7):rh(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}_u()}catch(l){}}function Ju(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Bc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Bc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Fc=Mu.prototype).setTimeout=function(e){this.P=e},Fc.nb=function(e){e=e.target;const t=this.M;t&&3==Xd(e)?t.l():this.Pa(e)},Fc.Pa=function(e){try{if(e==this.g)e:{const u=Xd(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||hl||this.g&&(this.h.h||this.g.ja()||Jd(this.g)))){this.J||4!=u||7==t||_u(),Qu(this);var n=this.g.da();this.ca=n;t:if(qu(this)){var r=Jd(this.g);e="";var i=r.length,s=4==Xd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$u(this),Yu(this);var o="";break t}this.h.i=new zc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rl(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,ku(12),$u(this),Yu(this);break e}gu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xu(this,n)}this.S?(Hu(this,u,o),hl&&this.i&&3==u&&(fu(this.U,this.V,"tick",this.mb),this.V.start())):(gu(this.j,this.m,o,null),Xu(this,o)),4==u&&$u(this),this.i&&!this.J&&(4==u?mh(this.l,this):(this.i=!1,Gu(this)))}else(function(e){const t={};e=(e.g&&2<=Xd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(rl(e[r]))continue;var n=Zl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ku(12)):(this.s=0,ku(13)),$u(this),Yu(this)}}}catch(u){}},Fc.mb=function(){if(this.g){var e=Xd(this.g),t=this.g.ja();this.o<t.length&&(Qu(this),Hu(this,e,t),this.i&&4!=e&&Gu(this))}},Fc.cancel=function(){this.J=!0,$u(this)},Fc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(_u(),ku(17)),$u(this),this.s=2,Yu(this)):Wu(this,this.Y-e)};var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ed){this.h=e.h,nd(this,e.j),this.s=e.s,this.g=e.g,rd(this,e.m),this.l=e.l;var t=e.i,n=new md;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),id(this,n),this.o=e.o}else e&&(t=String(e).match(Zu))?(this.h=!1,nd(this,t[1]||"",!0),this.s=ad(t[2]||""),this.g=ad(t[3]||"",!0),rd(this,t[4]),this.l=ad(t[5]||"",!0),id(this,t[6]||"",!0),this.o=ad(t[7]||"")):(this.h=!1,this.i=new md(null,this.h))}function td(e){return new ed(e)}function nd(e,t,n){e.j=n?ad(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function id(e,t,n){t instanceof md?(e.i=t,function(e,t){t&&!e.j&&(gd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vd(this,t),bd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=cd(t,fd)),e.i=new md(t,e.h))}function sd(e,t,n){e.i.set(t,n)}function od(e){return sd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ad(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ld),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ld(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ed.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cd(t,ud,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cd(t,ud,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(cd(n,"/"==n.charAt(0)?hd:dd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cd(n,pd)),e.join("")};var ud=/[#\/\?@]/g,dd=/[#\?:]/g,hd=/[#\?]/g,fd=/[#\?@]/g,pd=/#/g;function md(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vd(e,t){gd(e),t=wd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yd(e,t){return gd(e),t=wd(e,t),e.g.has(t)}function bd(e,t,n){vd(e,t),0<n.length&&(e.i=null,e.g.set(wd(e,t),Zc(n)),e.h+=n.length)}function wd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Fc=md.prototype).add=function(e,t){gd(this),this.i=null,e=wd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Fc.forEach=function(e,t){gd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Fc.ta=function(){gd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Fc.Z=function(e){gd(this);let t=[];if("string"===typeof e)yd(this,e)&&(t=t.concat(this.g.get(wd(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Fc.set=function(e,t){return gd(this),this.i=null,yd(this,e=wd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Fc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Fc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var _d=class{constructor(e,t){this.g=e,this.map=t}};function Ed(e){this.l=e||kd,zc.PerformanceNavigationTiming?e=0<(e=zc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zc.g&&zc.g.Ka&&zc.g.Ka()&&zc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kd=10;function Id(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Sd(e){return e.h?1:e.g?e.g.size:0}function xd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Td(e,t){e.g?e.g.add(t):e.h=t}function Cd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Zc(e.i)}Ed.prototype.cancel=function(){if(this.i=Nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ad,Rd=class{stringify(e){return zc.JSON.stringify(e,void 0)}parse(e){return zc.JSON.parse(e,void 0)}};function Pd(){this.g=new Rd}function Od(e,t,n){const r=n||"";try{Ju(e,(function(e,n){let i=e;qc(e)&&(i=Yl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(cL){throw t.push(r+"type="+encodeURIComponent("_badmap")),cL}}function Dd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ld(e){this.l=e.ec||null,this.j=e.ob||!1}function Md(e,t){Gl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Fd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$c(Ld,Cu),Ld.prototype.g=function(){return new Md(this.l,this.j)},Ld.prototype.i=(Ad={},function(){return Ad}),$c(Md,Gl);var Fd=0;function Ud(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vd(e)}function Vd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Fc=Md.prototype).open=function(e,t){if(this.readyState!=Fd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vd(this)},Fc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Fc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jd(this)),this.readyState=Fd},Fc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ud(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Fc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jd(this):Vd(this),3==this.readyState&&Ud(this)}},Fc.Za=function(e){this.g&&(this.response=this.responseText=e,jd(this))},Fc.Ya=function(e){this.g&&(this.response=e,jd(this))},Fc.ka=function(){this.g&&jd(this)},Fc.setRequestHeader=function(e,t){this.v.append(e,t)},Fc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Fc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zd=zc.JSON.parse;function Bd(e){Gl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qd,this.L=this.M=!1}$c(Bd,Gl);var qd="",Hd=/^https?$/i,Kd=["POST","PUT"];function Gd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wd(e),Yd(e)}function Wd(e){e.F||(e.F=!0,Wl(e,"complete"),Wl(e,"error"))}function Qd(e){if(e.h&&"undefined"!=typeof Vc&&(!e.C[1]||4!=Xd(e)||2!=e.da()))if(e.v&&4==Xd(e))cu(e.La,0,e);else if(Wl(e,"readystatechange"),4==Xd(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Zu)[1]||null;!i&&zc.self&&zc.self.location&&(i=zc.self.location.protocol.slice(0,-1)),r=!Hd.test(i?i.toLowerCase():"")}n=r}if(n)Wl(e,"complete"),Wl(e,"success");else{e.m=6;try{var s=2<Xd(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Wd(e)}}finally{Yd(e)}}}function Yd(e,t){if(e.g){$d(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wl(e,"ready");try{n.onreadystatechange=r}catch(cL){}}}function $d(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zc.clearTimeout(e.A),e.A=null)}function Xd(e){return e.g?e.g.readyState:0}function Jd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(of){return null}}function Zd(e){let t="";return Tl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function eh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sd(e,t,n))}function th(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nh(e){this.Ga=0,this.j=[],this.l=new mu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=th("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=th("baseRetryDelayMs",5e3,e),this.hb=th("retryDelaySeedMs",1e4,e),this.eb=th("forwardChannelMaxRetries",2,e),this.xa=th("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ed(e&&e.concurrentRequestLimit),this.Ja=new Pd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rh(e){if(sh(e),3==e.H){var t=e.W++,n=td(e.I);if(sd(n,"SID",e.K),sd(n,"RID",t),sd(n,"TYPE","terminate"),ch(e,n),(t=new Mu(e,e.l,t)).L=2,t.A=od(td(n)),n=!1,zc.navigator&&zc.navigator.sendBeacon)try{n=zc.navigator.sendBeacon(t.A.toString(),"")}catch($A){}!n&&zc.Image&&((new Image).src=t.A,n=!0),n||(t.g=wh(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Gu(t)}yh(e)}function ih(e){e.g&&(hh(e),e.g.cancel(),e.g=null)}function sh(e){ih(e),e.u&&(zc.clearTimeout(e.u),e.u=null),ph(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zc.clearTimeout(e.m),e.m=null)}function oh(e){if(!Id(e.i)&&!e.m){e.m=!0;var t=e.Na;tu||iu(),nu||(tu(),nu=!0),ru.add(t,e),e.C=0}}function ah(e,t){var n;n=t?t.m:e.W++;const r=td(e.I);sd(r,"SID",e.K),sd(r,"RID",n),sd(r,"AID",e.V),ch(e,r),e.o&&e.s&&eh(r,e.o,e.s),n=new Mu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lh(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Td(e.i,n),zu(n,r,t)}function ch(e,t){e.na&&Tl(e.na,(function(e,n){sd(t,n,e)})),e.h&&Ju({},(function(e,n){sd(t,n,e)}))}function lh(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qc(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Od(a,e,"req"+n+"_")}catch(Ep){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function uh(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tu||iu(),nu||(tu(),nu=!0),ru.add(t,e),e.A=0}}function dh(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Su(Qc(e.Ma,e),gh(e,e.A)),e.A++,!0)}function hh(e){null!=e.B&&(zc.clearTimeout(e.B),e.B=null)}function fh(e){e.g=new Mu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=td(e.wa);sd(t,"RID","rpc"),sd(t,"SID",e.K),sd(t,"AID",e.V),sd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sd(t,"TO",e.qa),sd(t,"TYPE","xmlhttp"),ch(e,t),e.o&&e.s&&eh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=od(td(t)),n.u=null,n.S=!0,Bu(n,e)}function ph(e){null!=e.v&&(zc.clearTimeout(e.v),e.v=null)}function mh(e,t){var n=null;if(e.g==t){ph(e),hh(e),e.g=null;var r=2}else{if(!xd(e.i,t))return;n=t.F,Cd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Wl(r=bu(),new Iu(r,n)),oh(e)}else uh(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Sd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Su(Qc(e.Na,e,t),gh(e,e.C)),e.C++,!0))}(e,t)||2==r&&dh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vh(e,5);break;case 4:vh(e,10);break;case 3:vh(e,6);break;default:vh(e,2)}}function gh(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vh(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Qc(e.pb,e);n||(n=new ed("//www.google.com/images/cleardot.gif"),zc.location&&"http"==zc.location.protocol||nd(n,"https"),od(n)),function(e,t){const n=new mu;if(zc.Image){const r=new Image;r.onload=Yc(Dd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yc(Dd,n,r,"TestLoadImage: error",!1,t),r.onabort=Yc(Dd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yc(Dd,n,r,"TestLoadImage: timeout",!1,t),zc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ku(2);e.H=0,e.h&&e.h.za(t),yh(e),sh(e)}function yh(e){if(e.H=0,e.ma=[],e.h){const t=Nd(e.i);0==t.length&&0==e.j.length||(el(e.ma,t),el(e.ma,e.j),e.i.i.length=0,Zc(e.j),e.j.length=0),e.h.ya()}}function bh(e,t,n){var r=n instanceof ed?td(n):new ed(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rd(r,r.m);else{var i=zc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ed(null);r&&nd(s,r),t&&(s.g=t),i&&rd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&sd(r,n,t),sd(r,"VER",e.ra),ch(e,r),r}function wh(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Bd(new Ld({ob:n})):new Bd(e.va)).Oa(e.J),t}function _h(){}function Eh(){if(ul&&!(10<=Number(wl)))throw Error("Environmental error: no available transport.")}function kh(e,t){Gl.call(this),this.g=new nh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rl(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xh(this)}function Ih(e){Ou.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sh(){Du.call(this),this.status=1}function xh(e){this.g=e}function Th(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ch(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Nh(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Fc=Bd.prototype).Oa=function(e){this.M=e},Fc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ru.g(),this.C=this.u?Nu(this.u):Nu(Ru),this.g.onreadystatechange=Qc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Gd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=zc.FormData&&e instanceof zc.FormData,!(0<=Jc(Kd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$d(this),0<this.B&&((this.L=function(e){return ul&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qc(this.ua,this)):this.A=cu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Gd(this,s)}},Fc.ua=function(){"undefined"!=typeof Vc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wl(this,"timeout"),this.abort(8))},Fc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wl(this,"complete"),Wl(this,"abort"),Yd(this))},Fc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yd(this,!0)),Bd.$.N.call(this)},Fc.La=function(){this.s||(this.G||this.v||this.l?Qd(this):this.kb())},Fc.kb=function(){Qd(this)},Fc.isActive=function(){return!!this.g},Fc.da=function(){try{return 2<Xd(this)?this.g.status:-1}catch(Ad){return-1}},Fc.ja=function(){try{return this.g?this.g.responseText:""}catch(Ad){return""}},Fc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zd(t)}},Fc.Ia=function(){return this.m},Fc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Fc=nh.prototype).ra=8,Fc.H=1,Fc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Mu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Cl(s),Al(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lh(this,i,t),sd(n=td(this.I),"RID",e),sd(n,"CVER",22),this.F&&sd(n,"X-HTTP-Session-Id",this.F),ch(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Zd(s)))+"&"+t:this.o&&eh(n,this.o,s)),Td(this.i,i),this.bb&&sd(n,"TYPE","init"),this.P?(sd(n,"$req",t),sd(n,"SID","null"),i.aa=!0,zu(i,n,null)):zu(i,n,t),this.H=2}}else 3==this.H&&(e?ah(this,e):0==this.j.length||Id(this.i)||ah(this))},Fc.Ma=function(){if(this.u=null,fh(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Su(Qc(this.jb,this),e)}},Fc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ku(10),ih(this),fh(this))},Fc.ib=function(){null!=this.v&&(this.v=null,ih(this),dh(this),ku(19))},Fc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ku(2)):(this.l.info("Failed to ping google.com"),ku(1))},Fc.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fc=_h.prototype).Ba=function(){},Fc.Aa=function(){},Fc.za=function(){},Fc.ya=function(){},Fc.isActive=function(){return!0},Fc.Va=function(){},Eh.prototype.g=function(e,t){return new kh(e,t)},$c(kh,Gl),kh.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ku(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bh(e,null,e.Y),oh(e)},kh.prototype.close=function(){rh(this.g)},kh.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yl(e),e=n);t.j.push(new _d(t.fb++,e)),3==t.H&&oh(t)},kh.prototype.N=function(){this.g.h=null,delete this.j,rh(this.g),delete this.g,kh.$.N.call(this)},$c(Ih,Ou),$c(Sh,Du),$c(xh,_h),xh.prototype.Ba=function(){Wl(this.g,"a")},xh.prototype.Aa=function(e){Wl(this.g,new Ih(e))},xh.prototype.za=function(e){Wl(this.g,new Sh)},xh.prototype.ya=function(){Wl(this.g,"b")},$c(Th,(function(){this.blockSize=-1})),Th.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Th.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ch(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ch(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ch(this,r),i=0;break}}this.h=i,this.i+=t},Th.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ah={};function Rh(e){return-128<=e&&128>e?function(e,t){var n=Ah;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Nh([0|e],0>e?-1:0)})):new Nh([0|e],0>e?-1:0)}function Ph(e){if(isNaN(e)||!isFinite(e))return Dh;if(0>e)return jh(Ph(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Oh;return new Nh(t,0)}var Oh=4294967296,Dh=Rh(0),Lh=Rh(1),Mh=Rh(16777216);function Fh(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Uh(e){return-1==e.h}function jh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nh(n,~e.h).add(Lh)}function Vh(e,t){return e.add(jh(t))}function zh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bh(e,t){this.g=e,this.h=t}function qh(e,t){if(Fh(t))throw Error("division by zero");if(Fh(e))return new Bh(Dh,Dh);if(Uh(e))return t=qh(jh(e),t),new Bh(jh(t.g),jh(t.h));if(Uh(t))return t=qh(e,jh(t)),new Bh(jh(t.g),t.h);if(30<e.g.length){if(Uh(e)||Uh(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lh,r=t;0>=r.X(e);)n=Hh(n),r=Hh(r);var i=Kh(n,1),s=Kh(r,1);for(r=Kh(r,2),n=Kh(n,2);!Fh(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Kh(r,1),n=Kh(n,1)}return t=Vh(e,i.R(t)),new Bh(i,t)}for(i=Dh;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ph(n)).R(t);Uh(o)||0<o.X(e);)o=(s=Ph(n-=r)).R(t);Fh(s)&&(s=Lh),i=i.add(s),e=Vh(e,o)}return new Bh(i,e)}function Hh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nh(n,e.h)}function Kh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nh(i,e.h)}(Fc=Nh.prototype).ea=function(){if(Uh(this))return-jh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Oh+r)*t,t*=Oh}return e},Fc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fh(this))return"0";if(Uh(this))return"-"+jh(this).toString(e);for(var t=Ph(Math.pow(e,6)),n=this,r="";;){var i=qh(n,t).g,s=((0<(n=Vh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fh(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Fc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Fc.X=function(e){return Uh(e=Vh(this,e))?-1:Fh(e)?0:1},Fc.abs=function(){return Uh(this)?jh(this):this},Fc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nh(n,-2147483648&n[n.length-1]?-1:0)},Fc.R=function(e){if(Fh(this)||Fh(e))return Dh;if(Uh(this))return Uh(e)?jh(this).R(jh(e)):jh(jh(this).R(e));if(Uh(e))return jh(this.R(jh(e)));if(0>this.X(Mh)&&0>e.X(Mh))return Ph(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,zh(n,2*r+2*i),n[2*r+2*i+1]+=s*c,zh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nh(n,0)},Fc.gb=function(e){return qh(this,e).h},Fc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nh(n,this.h&e.h)},Fc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nh(n,this.h|e.h)},Fc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nh(n,this.h^e.h)},Eh.prototype.createWebChannel=Eh.prototype.g,kh.prototype.send=kh.prototype.u,kh.prototype.open=kh.prototype.m,kh.prototype.close=kh.prototype.close,xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,Tu.COMPLETE="complete",Au.EventType=Pu,Pu.OPEN="a",Pu.CLOSE="b",Pu.ERROR="c",Pu.MESSAGE="d",Gl.prototype.listen=Gl.prototype.O,Bd.prototype.listenOnce=Bd.prototype.P,Bd.prototype.getLastError=Bd.prototype.Sa,Bd.prototype.getLastErrorCode=Bd.prototype.Ia,Bd.prototype.getStatus=Bd.prototype.da,Bd.prototype.getResponseJson=Bd.prototype.Wa,Bd.prototype.getResponseText=Bd.prototype.ja,Bd.prototype.send=Bd.prototype.ha,Bd.prototype.setWithCredentials=Bd.prototype.Oa,Th.prototype.digest=Th.prototype.l,Th.prototype.reset=Th.prototype.reset,Th.prototype.update=Th.prototype.j,Nh.prototype.add=Nh.prototype.add,Nh.prototype.multiply=Nh.prototype.R,Nh.prototype.modulo=Nh.prototype.gb,Nh.prototype.compare=Nh.prototype.X,Nh.prototype.toNumber=Nh.prototype.ea,Nh.prototype.toString=Nh.prototype.toString,Nh.prototype.getBits=Nh.prototype.D,Nh.fromNumber=Ph,Nh.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return jh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ph(Math.pow(n,8)),i=Dh,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Ph(Math.pow(n,o)),i=i.R(o).add(Ph(a))):i=(i=i.R(r)).add(Ph(a))}return i};var Gh=jc.createWebChannelTransport=function(){return new Eh},Wh=jc.getStatEventTarget=function(){return bu()},Qh=jc.ErrorCode=xu,Yh=jc.EventType=Tu,$h=jc.Event=vu,Xh=jc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jh=(jc.FetchXmlHttpFactory=Ld,jc.WebChannel=Au),Zh=jc.XhrIo=Bd,ef=jc.Md5=Th,tf=jc.Integer=Nh;const nf="@firebase/firestore";class rf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rf.UNAUTHENTICATED=new rf(null),rf.GOOGLE_CREDENTIALS=new rf("google-credentials-uid"),rf.FIRST_PARTY=new rf("first-party-uid"),rf.MOCK_USER=new rf("mock-user");let sf="10.9.0";const of=new Tn("@firebase/firestore");function af(){return of.logLevel}function cf(e){if(of.logLevel<=En.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(df);of.debug("Firestore (".concat(sf,"): ").concat(e),...i)}}function lf(e){if(of.logLevel<=En.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(df);of.error("Firestore (".concat(sf,"): ").concat(e),...i)}}function uf(e){if(of.logLevel<=En.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(df);of.warn("Firestore (".concat(sf,"): ").concat(e),...i)}}function df(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(sf,") INTERNAL ASSERTION FAILED: ")+e;throw lf(t),new Error(t)}function ff(e,t){e||hf()}function pf(e,t){return e}const mf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gf extends rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rf.UNAUTHENTICATED)))}shutdown(){}}class wf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _f{constructor(e){this.t=e,this.currentUser=rf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vf,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{cf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(cf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vf)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(cf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ff("string"==typeof t.accessToken),new yf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ff(null===e||"string"==typeof e),new rf(e)}}class Ef{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=rf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ef(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(rf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class If{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&cf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,cf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{cf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):cf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ff("string"==typeof e.token),this.R=e.token,new If(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Tf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=xf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cf(e,t){return e<t?-1:e>t?1:0}function Nf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Af(e){return e+"\0"}class Rf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gf(mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gf(mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gf(mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gf(mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rf.fromMillis(Date.now())}static fromDate(e){return Rf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Rf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cf(this.nanoseconds,e.nanoseconds):Cf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pf(e)}static min(){return new Pf(new Rf(0,0))}static max(){return new Pf(new Rf(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Of{constructor(e,t,n){void 0===t?t=0:t>e.length&&hf(),void 0===n?n=e.length-t:n>e.length-t&&hf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Of.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Of?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Df extends Of{construct(e,t,n){return new Df(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gf(mf.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Df(e)}static emptyPath(){return new Df([])}}const Lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mf extends Of{construct(e,t,n){return new Mf(e,t,n)}static isValidIdentifier(e){return Lf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mf.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mf(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gf(mf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gf(mf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gf(mf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gf(mf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mf(t)}static emptyPath(){return new Mf([])}}class Ff{constructor(e){this.path=e}static fromPath(e){return new Ff(Df.fromString(e))}static fromName(e){return new Ff(Df.fromString(e).popFirst(5))}static empty(){return new Ff(Df.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Df.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Df.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ff(new Df(e.slice()))}}class Uf{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function jf(e){return e.fields.find((e=>2===e.kind))}function Vf(e){return e.fields.filter((e=>2!==e.kind))}Uf.UNKNOWN_ID=-1;class zf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Bf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Bf(0,Kf.min())}}function qf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pf.fromTimestamp(1e9===r?new Rf(n+1,0):new Rf(n,r));return new Kf(i,Ff.empty(),t)}function Hf(e){return new Kf(e.readTime,e.key,-1)}class Kf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Kf(Pf.min(),Ff.empty(),-1)}static max(){return new Kf(Pf.max(),Ff.empty(),-1)}}function Gf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ff.comparator(e.documentKey,t.documentKey),0!==n?n:Cf(e.largestBatchId,t.largestBatchId))}const Wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yf(e){if(e.code!==mf.FAILED_PRECONDITION||e.message!==Wf)throw e;cf("LocalStore","Unexpectedly lost primary lease")}class $f{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $f(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $f?t:$f.resolve(t)}catch(e){return $f.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$f.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$f.reject(t)}static resolve(e){return new $f(((t,n)=>{t(e)}))}static reject(e){return new $f(((t,n)=>{n(e)}))}static waitFor(e){return new $f(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$f.resolve(!1);for(const n of e)t=t.next((e=>e?$f.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $f(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $f(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Xf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new vf,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ep(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=sp(t.target.error);this.V.reject(new ep(e,n))}}static open(e,t,n,r){try{return new Xf(t,e.transaction(r,n))}catch(e){throw new ep(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(cf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new np(t)}}class Jf{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Jf.S($t())&&lf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return cf("SimpleDb","Removing database:",e),rp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!nn())return!1;if(Jf.C())return!0;const e=$t(),t=Jf.S(e),n=0<t&&t<10,r=Jf.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(cf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new gf(mf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new gf(mf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ep(e,r))},r.onupgradeneeded=e=>{cf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{cf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Xf.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),$f.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(cf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Zf{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return rp(this.k.delete())}}class ep extends gf{constructor(e,t){super(mf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function tp(e){return"IndexedDbTransactionError"===e.name}class np{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(cf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rp(n)}add(e){return cf("SimpleDb","ADD",this.store.name,e,e),rp(this.store.add(e))}get(e){return rp(this.store.get(e)).next((t=>(void 0===t&&(t=null),cf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return cf("SimpleDb","DELETE",this.store.name,e),rp(this.store.delete(e))}count(){return cf("SimpleDb","COUNT",this.store.name),rp(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new $f(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new $f(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){cf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new $f(((n,r)=>{t.onerror=e=>{const t=sp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new $f(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Zf(i),o=t(i.primaryKey,i.value,s);if(o instanceof $f){const e=o.catch((e=>(s.done(),$f.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>$f.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rp(e){return new $f(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=sp(e.target.error);n(t)}}))}let ip=!1;function sp(e){const t=Jf.S($t());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new gf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ip||(ip=!0,setTimeout((()=>{throw e}),0)),e}}return e}class op{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){cf("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{cf("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){tp(e)?cf("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Yf(e)}await this.ee(6e4)}))}}class ap{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return $f.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return cf("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(cf("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Hf(t);Gf(r,n)>0&&(n=r)})),new Kf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function lp(e){return null==e}function up(e){return 0===e&&1/e==-1/0}function dp(e){return"number"==typeof e&&Number.isInteger(e)&&!up(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function hp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pp(t)),t=fp(e.get(n),t);return pp(t)}function fp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function pp(e){return e+"\x01\x01"}function mp(e){const t=e.length;if(ff(t>=2),2===t)return ff("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Df.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&hf(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:hf()}s=t+2}return new Df(r)}cp._e=-1;const gp=["userId","batchId"];function vp(e,t){return[e,hp(t)]}function yp(e,t,n){return[e,hp(t),n]}const bp={},wp=["prefixPath","collectionGroup","readTime","documentId"],_p=["prefixPath","collectionGroup","documentId"],Ep=["collectionGroup","readTime","prefixPath","documentId"],kp=["canonicalId","targetId"],Ip=["targetId","path"],Sp=["path","targetId"],xp=["collectionId","parent"],Tp=["indexId","uid"],Cp=["uid","sequenceNumber"],Np=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ap=["indexId","uid","orderedDocumentKey"],Rp=["userId","collectionPath","documentId"],Pp=["userId","collectionPath","largestBatchId"],Op=["userId","collectionGroup","largestBatchId"],Dp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lp=[...Dp,"documentOverlays"],Mp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fp=Mp,Up=[...Fp,"indexConfiguration","indexState","indexEntries"];class jp extends Qf{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Vp(e,t){const n=pf(e);return Jf.M(n.ae,t)}function zp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hp{constructor(e,t){this.comparator=e,this.root=t||Gp.EMPTY}insert(e,t){return new Hp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gp.BLACK,null,null))}remove(e){return new Hp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Gp.RED,this.left=null!=r?r:Gp.EMPTY,this.right=null!=i?i:Gp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Gp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hf();if(this.right.isRed())throw hf();const e=this.left.check();if(e!==this.right.check())throw hf();return e+(this.isRed()?0:1)}}Gp.EMPTY=null,Gp.RED=!0,Gp.BLACK=!1,Gp.EMPTY=new class{constructor(){this.size=0}get key(){throw hf()}get value(){throw hf()}get color(){throw hf()}get left(){throw hf()}get right(){throw hf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Gp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wp{constructor(e){this.comparator=e,this.data=new Hp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(e){return new Qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Wp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wp(this.comparator);return t.data=e,t}}class Qp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yp(e){return e.hasNext()?e.getNext():void 0}class $p{constructor(e){this.fields=e,e.sort(Mf.comparator)}static empty(){return new $p([])}unionWith(e){let t=new Wp(Mf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $p(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xp("Invalid base64 string: "+e):e}}(e);return new Jp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jp.EMPTY_BYTE_STRING=new Jp("");const Zp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function em(e){if(ff(!!e),"string"==typeof e){let t=0;const n=Zp.exec(e);if(ff(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tm(e.seconds),nanos:tm(e.nanos)}}function tm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nm(e){return"string"==typeof e?Jp.fromBase64String(e):Jp.fromUint8Array(e)}function rm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function im(e){const t=e.mapValue.fields.__previous_value__;return rm(t)?im(t):t}function sm(e){const t=em(e.mapValue.fields.__local_write_time__.timestampValue);return new Rf(t.seconds,t.nanos)}class om{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class am{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new am("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof am&&e.projectId===this.projectId&&e.database===this.database}}const cm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lm={nullValue:"NULL_VALUE"};function um(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rm(e)?4:Im(e)?9007199254740991:10:hf()}function dm(e,t){if(e===t)return!0;const n=um(e);if(n!==um(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sm(e).isEqual(sm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=em(e.timestampValue),r=em(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nm(e.bytesValue).isEqual(nm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tm(e.geoPointValue.latitude)===tm(t.geoPointValue.latitude)&&tm(e.geoPointValue.longitude)===tm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tm(e.integerValue)===tm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tm(e.doubleValue),r=tm(t.doubleValue);return n===r?up(n)===up(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nf(e.arrayValue.values||[],t.arrayValue.values||[],dm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zp(n)!==zp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dm(n[i],r[i])))return!1;return!0}(e,t);default:return hf()}}function hm(e,t){return void 0!==(e.values||[]).find((e=>dm(e,t)))}function fm(e,t){if(e===t)return 0;const n=um(e),r=um(t);if(n!==r)return Cf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tm(e.integerValue||e.doubleValue),r=tm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pm(e.timestampValue,t.timestampValue);case 4:return pm(sm(e),sm(t));case 5:return Cf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nm(e),r=nm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cf(n[i],r[i]);if(0!==e)return e}return Cf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cf(tm(e.latitude),tm(t.latitude));return 0!==n?n:Cf(tm(e.longitude),tm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=fm(n[i],r[i]);if(e)return e}return Cf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===cm.mapValue&&t===cm.mapValue)return 0;if(e===cm.mapValue)return 1;if(t===cm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Cf(r[o],s[o]);if(0!==e)return e;const t=fm(n[r[o]],i[s[o]]);if(0!==t)return t}return Cf(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hf()}}function pm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cf(e,t);const n=em(e),r=em(t),i=Cf(n.seconds,r.seconds);return 0!==i?i:Cf(n.nanos,r.nanos)}function mm(e){return gm(e)}function gm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=em(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return nm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ff.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=gm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(gm(e.fields[i]));return n+"}"}(e.mapValue):hf()}function vm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ym(e){return!!e&&"integerValue"in e}function bm(e){return!!e&&"arrayValue"in e}function wm(e){return!!e&&"nullValue"in e}function _m(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Em(e){return!!e&&"mapValue"in e}function km(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bp(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=km(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=km(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Im(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sm(e){return"nullValue"in e?lm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vm(am.empty(),Ff.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:hf()}function xm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vm(am.empty(),Ff.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?cm:hf()}function Tm(e,t){const n=fm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Cm(e,t){const n=fm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Nm{constructor(e){this.value=e}static empty(){return new Nm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=km(t)}setAll(e){let t=Mf.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=km(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Em(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bp(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Nm(km(this.value))}}function Am(e){const t=[];return Bp(e.fields,((e,n)=>{const r=new Mf([e]);if(Em(n)){const e=Am(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new $p(t)}class Rm{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Rm(e,0,Pf.min(),Pf.min(),Pf.min(),Nm.empty(),0)}static newFoundDocument(e,t,n,r){return new Rm(e,1,t,Pf.min(),n,r,0)}static newNoDocument(e,t){return new Rm(e,2,t,Pf.min(),Pf.min(),Nm.empty(),0)}static newUnknownDocument(e,t){return new Rm(e,3,t,Pf.min(),Pf.min(),Nm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rm(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Pm{constructor(e,t){this.position=e,this.inclusive=t}}function Om(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ff.comparator(Ff.fromName(o.referenceValue),n.key):fm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Dm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dm(e.position[n],t.position[n]))return!1;return!0}class Lm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Mm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fm{}class Um extends Fm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Qm(e,t,n):"array-contains"===t?new Jm(e,n):"in"===t?new Zm(e,n):"not-in"===t?new eg(e,n):"array-contains-any"===t?new tg(e,n):new Um(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ym(e,n):new $m(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fm(t,this.value)):null!==t&&um(this.value)===um(t)&&this.matchesComparison(fm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jm extends Fm{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new jm(e,t)}matches(e){return Vm(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vm(e){return"and"===e.op}function zm(e){return"or"===e.op}function Bm(e){return qm(e)&&Vm(e)}function qm(e){for(const t of e.filters)if(t instanceof jm)return!1;return!0}function Hm(e){if(e instanceof Um)return e.field.canonicalString()+e.op.toString()+mm(e.value);if(Bm(e))return e.filters.map((e=>Hm(e))).join(",");{const t=e.filters.map((e=>Hm(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Km(e,t){return e instanceof Um?function(e,t){return t instanceof Um&&e.op===t.op&&e.field.isEqual(t.field)&&dm(e.value,t.value)}(e,t):e instanceof jm?function(e,t){return t instanceof jm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Km(n,t.filters[r])),!0)}(e,t):void hf()}function Gm(e,t){const n=e.filters.concat(t);return jm.create(n,e.op)}function Wm(e){return e instanceof Um?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(mm(e.value))}(e):e instanceof jm?function(e){return e.op.toString()+" {"+e.getFilters().map(Wm).join(" ,")+"}"}(e):"Filter"}class Qm extends Um{constructor(e,t,n){super(e,t,n),this.key=Ff.fromName(n.referenceValue)}matches(e){const t=Ff.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ym extends Um{constructor(e,t){super(e,"in",t),this.keys=Xm("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $m extends Um{constructor(e,t){super(e,"not-in",t),this.keys=Xm("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ff.fromName(e.referenceValue)))}class Jm extends Um{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bm(t)&&hm(t.arrayValue,this.value)}}class Zm extends Um{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hm(this.value.arrayValue,t)}}class eg extends Um{constructor(e,t){super(e,"not-in",t)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hm(this.value.arrayValue,t)}}class tg extends Um{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>hm(this.value.arrayValue,e)))}}class ng{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function rg(e){return new ng(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ig(e){const t=pf(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Hm(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>mm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>mm(e))).join(",")),t.ce=e}return t.ce}function sg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Mm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Km(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dm(e.startAt,t.startAt)&&Dm(e.endAt,t.endAt)}function og(e){return Ff.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ag(e,t){return e.filters.filter((e=>e instanceof Um&&e.field.isEqual(t)))}function cg(e,t,n){let r=lm,i=!0;for(const s of ag(e,t)){let e=lm,t=!0;switch(s.op){case"<":case"<=":e=Sm(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=lm}Tm({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Tm({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function lg(e,t,n){let r=cm,i=!0;for(const s of ag(e,t)){let e=cm,t=!0;switch(s.op){case">=":case">":e=xm(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=cm}Cm({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Cm({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class ug{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function dg(e,t,n,r,i,s,o,a){return new ug(e,t,n,r,i,s,o,a)}function hg(e){return new ug(e)}function fg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pg(e){return null!==e.collectionGroup}function mg(e){const t=pf(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Wp(Mf.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Lm(r,n))})),e.has(Mf.keyField().canonicalString())||t.le.push(new Lm(Mf.keyField(),n))}return t.le}function gg(e){const t=pf(e);return t.he||(t.he=vg(t,mg(e))),t.he}function vg(e,t){if("F"===e.limitType)return rg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Lm(e.field,t)}));const n=e.endAt?new Pm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pm(e.startAt.position,e.startAt.inclusive):null;return rg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yg(e,t){const n=e.filters.concat([t]);return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bg(e,t,n){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wg(e,t){return sg(gg(e),gg(t))&&e.limitType===t.limitType}function _g(e){return"".concat(ig(gg(e)),"|lt:").concat(e.limitType)}function Eg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Wm(e))).join(", "),"]")),lp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>mm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>mm(e))).join(",")),"Target(".concat(t,")")}(gg(e)),"; limitType=").concat(e.limitType,")")}function kg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ff.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of mg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Om(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mg(e),t))&&!(e.endAt&&!function(e,t,n){const r=Om(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mg(e),t))}(e,t)}function Ig(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sg(e){return(t,n)=>{let r=!1;for(const i of mg(e)){const e=xg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function xg(e,t,n){const r=e.field.isKeyField()?Ff.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fm(r,i):hf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hf()}}class Tg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bp(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return qp(this.inner)}size(){return this.innerSize}}const Cg=new Hp(Ff.comparator);function Ng(){return Cg}const Ag=new Hp(Ff.comparator);function Rg(){let e=Ag;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pg(e){let t=Ag;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Og(){return Lg()}function Dg(){return Lg()}function Lg(){return new Tg((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Mg=new Hp(Ff.comparator),Fg=new Wp(Ff.comparator);function Ug(){let e=Fg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const jg=new Wp(Cf);function Vg(){return jg}function zg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(t)?"-0":t}}function Bg(e){return{integerValue:""+e}}function qg(e,t){return dp(t)?Bg(t):zg(e,t)}class Hg{constructor(){this._=void 0}}function Kg(e,t,n){return e instanceof Qg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rm(t)&&(t=im(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yg?$g(e,t):e instanceof Xg?Jg(e,t):function(e,t){const n=Wg(e,t),r=ev(n)+ev(e.Ie);return ym(n)&&ym(e.Ie)?Bg(r):zg(e.serializer,r)}(e,t)}function Gg(e,t,n){return e instanceof Yg?$g(e,t):e instanceof Xg?Jg(e,t):n}function Wg(e,t){return e instanceof Zg?function(e){return ym(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qg extends Hg{}class Yg extends Hg{constructor(e){super(),this.elements=e}}function $g(e,t){const n=tv(t);for(const r of e.elements)n.some((e=>dm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Xg extends Hg{constructor(e){super(),this.elements=e}}function Jg(e,t){let n=tv(t);for(const r of e.elements)n=n.filter((e=>!dm(e,r)));return{arrayValue:{values:n}}}class Zg extends Hg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ev(e){return tm(e.integerValue||e.doubleValue)}function tv(e){return bm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nv{constructor(e,t){this.field=e,this.transform=t}}class rv{constructor(e,t){this.version=e,this.transformResults=t}}class iv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new iv}static exists(e){return new iv(void 0,e)}static updateTime(e){return new iv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ov{}function av(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vv(e.key,iv.none()):new hv(e.key,e.data,iv.none());{const n=e.data,r=Nm.empty();let i=new Wp(Mf.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new fv(e.key,r,new $p(i.toArray()),iv.none())}}function cv(e,t,n){e instanceof hv?function(e,t,n){const r=e.value.clone(),i=mv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fv?function(e,t,n){if(!sv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lv(e,t,n,r){return e instanceof hv?function(e,t,n,r){if(!sv(e.precondition,t))return n;const i=e.value.clone(),s=gv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fv?function(e,t,n,r){if(!sv(e.precondition,t))return n;const i=gv(e.fieldTransforms,r,t),s=t.data;return s.setAll(pv(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return sv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Wg(r.transform,e||null);null!=i&&(null===n&&(n=Nm.empty()),n.set(r.field,i))}return n||null}function dv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yg&&t instanceof Yg||e instanceof Xg&&t instanceof Xg?Nf(e.elements,t.elements,dm):e instanceof Zg&&t instanceof Zg?dm(e.Ie,t.Ie):e instanceof Qg&&t instanceof Qg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hv extends ov{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fv extends ov{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function mv(e,t,n){const r=new Map;ff(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Gg(o,a,n[i]))}return r}function gv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Kg(e,s,t))}return r}class vv extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yv extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Dg();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=av(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Pf.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ug())}isEqual(e){return this.batchId===e.batchId&&Nf(this.mutations,e.mutations,((e,t)=>dv(e,t)))&&Nf(this.baseMutations,e.baseMutations,((e,t)=>dv(e,t)))}}class wv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ff(e.mutations.length===n.length);let r=Mg;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new wv(e,t,n,r)}}class _v{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ev{constructor(e,t){this.count=e,this.unchangedNames=t}}var kv,Iv;function Sv(e){switch(e){default:return hf();case mf.CANCELLED:case mf.UNKNOWN:case mf.DEADLINE_EXCEEDED:case mf.RESOURCE_EXHAUSTED:case mf.INTERNAL:case mf.UNAVAILABLE:case mf.UNAUTHENTICATED:return!1;case mf.INVALID_ARGUMENT:case mf.NOT_FOUND:case mf.ALREADY_EXISTS:case mf.PERMISSION_DENIED:case mf.FAILED_PRECONDITION:case mf.ABORTED:case mf.OUT_OF_RANGE:case mf.UNIMPLEMENTED:case mf.DATA_LOSS:return!0}}function xv(e){if(void 0===e)return lf("GRPC error has no .code"),mf.UNKNOWN;switch(e){case kv.OK:return mf.OK;case kv.CANCELLED:return mf.CANCELLED;case kv.UNKNOWN:return mf.UNKNOWN;case kv.DEADLINE_EXCEEDED:return mf.DEADLINE_EXCEEDED;case kv.RESOURCE_EXHAUSTED:return mf.RESOURCE_EXHAUSTED;case kv.INTERNAL:return mf.INTERNAL;case kv.UNAVAILABLE:return mf.UNAVAILABLE;case kv.UNAUTHENTICATED:return mf.UNAUTHENTICATED;case kv.INVALID_ARGUMENT:return mf.INVALID_ARGUMENT;case kv.NOT_FOUND:return mf.NOT_FOUND;case kv.ALREADY_EXISTS:return mf.ALREADY_EXISTS;case kv.PERMISSION_DENIED:return mf.PERMISSION_DENIED;case kv.FAILED_PRECONDITION:return mf.FAILED_PRECONDITION;case kv.ABORTED:return mf.ABORTED;case kv.OUT_OF_RANGE:return mf.OUT_OF_RANGE;case kv.UNIMPLEMENTED:return mf.UNIMPLEMENTED;case kv.DATA_LOSS:return mf.DATA_LOSS;default:return hf()}}(Iv=kv||(kv={}))[Iv.OK=0]="OK",Iv[Iv.CANCELLED=1]="CANCELLED",Iv[Iv.UNKNOWN=2]="UNKNOWN",Iv[Iv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Iv[Iv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Iv[Iv.NOT_FOUND=5]="NOT_FOUND",Iv[Iv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Iv[Iv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Iv[Iv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Iv[Iv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Iv[Iv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Iv[Iv.ABORTED=10]="ABORTED",Iv[Iv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Iv[Iv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Iv[Iv.INTERNAL=13]="INTERNAL",Iv[Iv.UNAVAILABLE=14]="UNAVAILABLE",Iv[Iv.DATA_LOSS=15]="DATA_LOSS";let Tv=null;function Cv(){return new TextEncoder}const Nv=new tf([4294967295,4294967295],0);function Av(e){const t=Cv().encode(e),n=new ef;return n.update(t),new Uint8Array(n.digest())}function Rv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new tf([n,r],0),new tf([i,s],0)]}class Pv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ov("Invalid padding: ".concat(t));if(n<0)throw new Ov("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ov("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ov("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=tf.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(tf.fromNumber(n)));return 1===r.compare(Nv)&&(r=new tf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Av(e),[n,r]=Rv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Pv(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Av(e),[n,r]=Rv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ov extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Lv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Dv(Pf.min(),r,new Hp(Cf),Ng(),Ug())}}class Lv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lv(n,t,Ug(),Ug(),Ug())}}class Mv{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Fv{constructor(e,t){this.targetId=e,this.fe=t}}class Uv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jv{constructor(){this.ge=0,this.pe=Bv(),this.ye=Jp.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ug(),t=Ug(),n=Ug();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hf()}})),new Lv(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Bv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ff(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Vv{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ng(),this.Qe=zv(),this.Ke=new Hp(Cf)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:hf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(og(i))if(0===n){const e=new Ff(i.path);this.We(t,e,Rm.newNoDocument(e,Pf.min()))}else ff(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Tv||Tv.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=nm(n).toUint8Array()}catch(e){if(e instanceof Xp)return uf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Pv(s,r,i)}catch(e){return uf(e instanceof Ov?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&og(i.target)){const t=new Ff(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Rm.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Ug();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Dv(e,t,this.Ke,this.qe,n);return this.qe=Ng(),this.Qe=zv(),this.Ke=new Hp(Cf),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new jv,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Wp(Cf),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||cf("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new jv),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function zv(){return new Hp(Ff.comparator)}function Bv(){return new Hp(Ff.comparator)}const qv={asc:"ASCENDING",desc:"DESCENDING"},Hv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kv={and:"AND",or:"OR"};class Gv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wv(e,t){return e.useProto3Json||lp(t)?t:{value:t}}function Qv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $v(e,t){return Qv(e,t.toTimestamp())}function Xv(e){return ff(!!e),Pf.fromTimestamp(function(e){const t=em(e);return new Rf(t.seconds,t.nanos)}(e))}function Jv(e,t){return Zv(e,t).canonicalString()}function Zv(e,t){const n=function(e){return new Df(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ey(e){const t=Df.fromString(e);return ff(Ey(t)),t}function ty(e,t){return Jv(e.databaseId,t.path)}function ny(e,t){const n=ey(t);if(n.get(1)!==e.databaseId.projectId)throw new gf(mf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gf(mf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ff(oy(n))}function ry(e,t){return Jv(e.databaseId,t)}function iy(e){const t=ey(e);return 4===t.length?Df.emptyPath():oy(t)}function sy(e){return new Df(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oy(e){return ff(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ay(e,t,n){return{name:ty(e,t),fields:n.value.mapValue.fields}}function cy(e,t,n){const r=ny(e,t.name),i=Xv(t.updateTime),s=t.createTime?Xv(t.createTime):Pf.min(),o=new Nm({mapValue:{fields:t.fields}}),a=Rm.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ly(e,t){let n;if(t instanceof hv)n={update:ay(e,t.key,t.value)};else if(t instanceof vv)n={delete:ty(e,t.key)};else if(t instanceof fv)n={update:ay(e,t.key,t.data),updateMask:_y(t.fieldMask)};else{if(!(t instanceof yv))return hf();n={verify:ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw hf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$v(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hf()}(e,t.precondition)),n}function uy(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?iv.updateTime(Xv(e.updateTime)):void 0!==e.exists?iv.exists(e.exists):iv.none()}(t.currentDocument):iv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ff("REQUEST_TIME"===t.setToServerValue),n=new Qg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Yg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Xg(e)}else"increment"in t?n=new Zg(e,t.increment):hf();const r=Mf.fromServerFormat(t.fieldPath);return new nv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=ny(e,t.update.name),s=new Nm({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new $p(t.map((e=>Mf.fromServerFormat(e))))}(t.updateMask);return new fv(i,s,e,n,r)}return new hv(i,s,n,r)}if(t.delete){const r=ny(e,t.delete);return new vv(r,n)}if(t.verify){const r=ny(e,t.verify);return new yv(r,n)}return hf()}function dy(e,t){return{documents:[ry(e,t.path)]}}function hy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ry(e,i);const s=function(e){if(0!==e.length)return wy(jm.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:yy(e.field),direction:my(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Wv(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function fy(e){let t=iy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ff(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=py(e);return t instanceof jm&&Bm(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Lm(by(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,lp(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Pm(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Pm(n,t)}(n.endAt)),dg(t,i,o,s,a,"F",c,l)}function py(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=by(e.unaryFilter.field);return Um.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=by(e.unaryFilter.field);return Um.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=by(e.unaryFilter.field);return Um.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=by(e.unaryFilter.field);return Um.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hf()}}(e):void 0!==e.fieldFilter?function(e){return Um.create(by(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jm.create(e.compositeFilter.filters.map((e=>py(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hf()}}(e.compositeFilter.op))}(e):hf()}function my(e){return qv[e]}function gy(e){return Hv[e]}function vy(e){return Kv[e]}function yy(e){return{fieldPath:e.canonicalString()}}function by(e){return Mf.fromServerFormat(e.fieldPath)}function wy(e){return e instanceof Um?function(e){if("=="===e.op){if(_m(e.value))return{unaryFilter:{field:yy(e.field),op:"IS_NAN"}};if(wm(e.value))return{unaryFilter:{field:yy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_m(e.value))return{unaryFilter:{field:yy(e.field),op:"IS_NOT_NAN"}};if(wm(e.value))return{unaryFilter:{field:yy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yy(e.field),op:gy(e.op),value:e.value}}}(e):e instanceof jm?function(e){const t=e.getFilters().map((e=>wy(e)));return 1===t.length?t[0]:{compositeFilter:{op:vy(e.op),filters:t}}}(e):hf()}function _y(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ey(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ky{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pf.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pf.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jp.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ky(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ky(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ky(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ky(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Iy{constructor(e){this.ct=e}}function Sy(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ty(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qv(e,t.version.toTimestamp()),createTime:Qv(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ty(t.version)};else{if(!t.isUnknownDocument())return hf();r.unknownDocument={path:n.path.toArray(),version:Ty(t.version)}}return r}function xy(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ty(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cy(e){const t=new Rf(e.seconds,e.nanoseconds);return Pf.fromTimestamp(t)}function Ny(e,t){const n=(t.baseMutations||[]).map((t=>uy(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>uy(e.ct,t))),i=Rf.fromMillis(t.localWriteTimeMs);return new bv(t.batchId,i,n,r)}function Ay(e){const t=Cy(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Cy(e.lastLimboFreeSnapshotVersion):Pf.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ff(1===e.documents.length),gg(hg(iy(e.documents[0])))}(e.query):function(e){return gg(fy(e))}(e.query),new ky(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Jp.fromBase64String(e.resumeToken))}function Ry(e,t){const n=Ty(t.snapshotVersion),r=Ty(t.lastLimboFreeSnapshotVersion);let i;i=og(t.target)?dy(e.ct,t.target):hy(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ig(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Py(e){const t=fy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bg(t,t.limit,"L"):t}function Oy(e,t){return new _v(t.largestBatchId,uy(e.ct,t.overlayMutation))}function Dy(e,t){const n=t.path.lastSegment();return[e,hp(t.path.popLast()),n]}function Ly(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Ty(r.readTime),documentKey:hp(r.documentKey.path),largestBatchId:r.largestBatchId}}class My{getBundleMetadata(e,t){return Fy(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Cy(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Fy(e).put(function(e){return{bundleId:e.id,createTime:Ty(Xv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Uy(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Py(e.bundledQuery),readTime:Cy(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Uy(e).put(function(e){return{name:e.name,readTime:Ty(Xv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Fy(e){return Vp(e,"bundles")}function Uy(e){return Vp(e,"namedQueries")}class jy{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new jy(e,n)}getOverlay(e,t){return Vy(e).get(Dy(this.userId,t)).next((e=>e?Oy(this.serializer,e):null))}getOverlays(e,t){const n=Og();return $f.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new _v(t,i);r.push(this.ht(e,s))})),$f.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(hp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Vy(e).H("collectionPathOverlayIndex",r))})),$f.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Og(),i=hp(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Vy(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Oy(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Og();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vy(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Oy(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Vy(e).put(function(e,t,n){const[r,i,s]=Dy(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ly(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Vy(e){return Vp(e,"documentOverlays")}class zy{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(tm(e.integerValue));else if("doubleValue"in e){const n=tm(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),up(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(nm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Im(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):hf()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Ff.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function By(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qy(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=By(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zy.bt=new zy;class Hy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=qy(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=qy(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ky{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Gy{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Wy{constructor(){this.Gt=new Hy,this.zt=new Ky(this.Gt),this.jt=new Gy(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Qy{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Qy(this.indexId,this.documentKey,this.arrayValue,n)}}function Yy(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=$y(e.arrayValue,t.arrayValue),0!==n?n:(n=$y(e.directionalValue,t.directionalValue),0!==n?n:Ff.comparator(e.documentKey,t.documentKey)))}function $y(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Xy{constructor(e){this.Yt=new Wp(((e,t)=>Mf.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(ff(e.collectionGroup===this.collectionId),this.en)return!1;const t=jf(e);if(void 0!==t&&!this.nn(t))return!1;const n=Vf(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new Wp(Mf.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new zf(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new zf(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new zf(n.field,"asc"===n.dir?0:1)));return new Uf(Uf.UNKNOWN_ID,this.collectionId,t,Bf.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Jy(e){var t,n;if(ff(e instanceof Um||e instanceof jm),e instanceof Um){if(e instanceof Zm){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Um.create(e.field,"==",t))))||[];return jm.create(r,"or")}return e}const r=e.filters.map((e=>Jy(e)));return jm.create(r,e.op)}function Zy(e){if(0===e.getFilters().length)return[];const t=rb(Jy(e));return ff(nb(t)),eb(t)||tb(t)?[t]:t.getFilters()}function eb(e){return e instanceof Um}function tb(e){return e instanceof jm&&Bm(e)}function nb(e){return eb(e)||tb(e)||function(e){if(e instanceof jm&&zm(e)){for(const t of e.getFilters())if(!eb(t)&&!tb(t))return!1;return!0}return!1}(e)}function rb(e){if(ff(e instanceof Um||e instanceof jm),e instanceof Um)return e;if(1===e.filters.length)return rb(e.filters[0]);const t=e.filters.map((e=>rb(e)));let n=jm.create(t,e.op);return n=ob(n),nb(n)?n:(ff(n instanceof jm),ff(Vm(n)),ff(n.filters.length>1),n.filters.reduce(((e,t)=>ib(e,t))))}function ib(e,t){let n;return ff(e instanceof Um||e instanceof jm),ff(t instanceof Um||t instanceof jm),n=e instanceof Um?t instanceof Um?function(e,t){return jm.create([e,t],"and")}(e,t):sb(e,t):t instanceof Um?sb(t,e):function(e,t){if(ff(e.filters.length>0&&t.filters.length>0),Vm(e)&&Vm(t))return Gm(e,t.getFilters());const n=zm(e)?e:t,r=zm(e)?t:e,i=n.filters.map((e=>ib(e,r)));return jm.create(i,"or")}(e,t),ob(n)}function sb(e,t){if(Vm(t))return Gm(t,e.getFilters());{const n=t.filters.map((t=>ib(e,t)));return jm.create(n,"or")}}function ob(e){if(ff(e instanceof Um||e instanceof jm),e instanceof Um)return e;const t=e.getFilters();if(1===t.length)return ob(t[0]);if(qm(e))return e;const n=t.map((e=>ob(e))),r=[];return n.forEach((t=>{t instanceof Um?r.push(t):t instanceof jm&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:jm.create(r,e.op)}class ab{constructor(){this._n=new cb}addToCollectionParentIndex(e,t){return this._n.add(t),$f.resolve()}getCollectionParents(e,t){return $f.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return $f.resolve()}deleteFieldIndex(e,t){return $f.resolve()}deleteAllFieldIndexes(e){return $f.resolve()}createTargetIndexes(e,t){return $f.resolve()}getDocumentsMatchingTarget(e,t){return $f.resolve(null)}getIndexType(e,t){return $f.resolve(0)}getFieldIndexes(e,t){return $f.resolve([])}getNextCollectionGroupToUpdate(e){return $f.resolve(null)}getMinOffset(e,t){return $f.resolve(Kf.min())}getMinOffsetFromCollectionGroup(e,t){return $f.resolve(Kf.min())}updateCollectionGroup(e,t,n){return $f.resolve()}updateIndexEntries(e,t){return $f.resolve()}}class cb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wp(Df.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wp(Df.comparator)).toArray()}}const lb=new Uint8Array(0);class ub{constructor(e,t){this.databaseId=t,this.an=new cb,this.un=new Tg((e=>ig(e)),((e,t)=>sg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:hp(r)};return db(e).put(i)}return $f.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Af(t),""],!1,!0);return db(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(mp(r.parent))}return n}))}addFieldIndex(e,t){const n=fb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=pb(e);return i.next((e=>{n.put(Ly(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=fb(e),r=pb(e),i=hb(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=fb(e),n=hb(e),r=pb(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return $f.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Xy(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=hb(e);let r=!0;const i=new Map;return $f.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ug();const r=[];return $f.forEach(i,((i,s)=>{cf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(ig(t)));const o=function(e,t){const n=jf(t);if(void 0===n)return null;for(const r of ag(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Vf(t))for(const t of ag(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Vf(t)){const t=0===i.kind?cg(e,i.fieldPath,e.startAt):lg(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Pm(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Vf(t)){const t=0===i.kind?lg(e,i.fieldPath,e.endAt):cg(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Pm(n,r)}(s,i),u=this.hn(i,s,c),d=this.hn(i,s,l),h=this.Pn(i,s,a),f=this.In(i.indexId,o,u,c.inclusive,d,l.inclusive,h);return $f.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Ff.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return $f.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Zy(jm.create(e.filters,"and")).map((t=>rg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/c]):lb,d=this.En(e,a,n[u%c],r),h=this.dn(e,a,i[u%c],s),f=o.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}En(e,t,n,r){const i=new Qy(e,Ff.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Qy(e,Ff.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Xy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return $f.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Wp(Mf.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Wy;for(const r of Vf(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);zy.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Wy;return zy.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Wy;return zy.bt.Pt(vm(this.databaseId,t),n.Ht(function(e){const t=Vf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Wy);let i=0;for(const s of Vf(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&bm(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);zy.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Wy;n.seed(e.Wt()),zy.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Um&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=fb(e),r=pb(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return $f.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Bf(t.sequenceNumber,new Kf(Cy(t.readTime),new Ff(mp(t.documentKey)),t.largestBatchId)):Bf.empty(),r=e.fields.map((e=>{let[t,n]=e;return new zf(Mf.fromServerFormat(t),n)}));return new Uf(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Cf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=fb(e),i=pb(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>$f.forEach(t,(t=>i.put(Ly(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return $f.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?$f.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),$f.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?$f.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return hb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return hb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=hb(e);let i=new Wp(Yy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Qy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Wp(Yy);const r=this.An(t,e);if(null==r)return n;const i=jf(t);if(null!=i){const s=e.data.field(i.fieldPath);if(bm(s))for(const i of s.arrayValue.values||[])n=n.add(new Qy(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Qy(t.indexId,e.key,lb,r));return n}wn(e,t,n,r,i){cf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Yp(s),c=Yp(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Yp(o)):t?(i(a),a=Yp(s)):(a=Yp(s),c=Yp(o))}}(r,i,Yy,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),$f.waitFor(s)}gn(e){let t=1;return pb(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Yy(e,t))).filter(((e,t,n)=>!t||0!==Yy(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Yy(s,e),i=Yy(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,lb,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,lb,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Yy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mb)}getMinOffset(e,t){return $f.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||hf())))).next(mb)}}function db(e){return Vp(e,"collectionParents")}function hb(e){return Vp(e,"indexEntries")}function fb(e){return Vp(e,"indexConfiguration")}function pb(e){return Vp(e,"indexState")}function mb(e){ff(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Gf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Kf(t.readTime,t.documentKey,n)}const gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vb(e,vb.DEFAULT_COLLECTION_PERCENTILE,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yb(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{ff(1===a)})));const l=[];for(const u of n.mutations){const e=yp(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return $f.waitFor(s).next((()=>l))}function bb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hf();t=e.noDocument}return JSON.stringify(t).length}vb.DEFAULT_COLLECTION_PERCENTILE=10,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vb.DEFAULT=new vb(41943040,vb.DEFAULT_COLLECTION_PERCENTILE,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vb.DISABLED=new vb(-1,0,0);class wb{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){ff(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new wb(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eb(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=kb(e),s=Eb(e);return s.add({}).next((o=>{ff("number"==typeof o);const a=new bv(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>ly(e.ct,t))),i=n.mutations.map((t=>ly(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Wp(((e,t)=>Cf(e.canonicalString(),t.canonicalString())));for(const e of r){const t=yp(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,bp))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),$f.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return Eb(e).get(t).next((e=>e?(ff(e.userId===this.userId),Ny(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?$f.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Eb(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ff(t.batchId>=n),i=Ny(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Eb(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eb(e).W("userMutationsIndex",t).next((e=>e.map((e=>Ny(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=vp(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return kb(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=mp(a);if(o===this.userId&&t.path.isEqual(l))return Eb(e).get(c).next((e=>{if(!e)throw hf();ff(e.userId===this.userId),i.push(Ny(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wp(Cf);const r=[];return t.forEach((t=>{const i=vp(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=kb(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=mp(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),$f.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=vp(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Wp(Cf);return kb(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=mp(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Eb(e).get(t).next((e=>{if(null===e)throw hf();ff(e.userId===this.userId),n.push(Ny(this.serializer,e))})))})),$f.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return yb(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),$f.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return $f.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return kb(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=mp(e[1]);r.push(t)}else n.done()})).next((()=>{ff(0===r.length)}))}))}containsKey(e,t){return _b(e,this.userId,t)}xn(e){return Ib(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function _b(e,t,n){const r=vp(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return kb(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Eb(e){return Vp(e,"mutations")}function kb(e){return Vp(e,"documentMutations")}function Ib(e){return Vp(e,"mutationQueues")}class Sb{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Sb(0)}static Ln(){return new Sb(-1)}}class xb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Sb(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Pf.fromTimestamp(new Rf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Tb(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(ff(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Tb(e).Y(((s,o)=>{const a=Ay(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>$f.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Tb(e).Y(((e,n)=>{const r=Ay(n);t(r)}))}Bn(e){return Cb(e).get("targetGlobalKey").next((e=>(ff(null!==e),e)))}kn(e,t){return Cb(e).put("targetGlobalKey",t)}qn(e,t){return Tb(e).put(Ry(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ig(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Tb(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Ay(n);sg(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Nb(e);return t.forEach((t=>{const s=hp(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),$f.waitFor(r)}removeMatchingKeys(e,t,n){const r=Nb(e);return $f.forEach(t,(t=>{const i=hp(t.path);return $f.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Nb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nb(e);let i=Ug();return r.Y({range:n,J:!0},((e,t,n)=>{const r=mp(e[1]),s=new Ff(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=hp(t.path),r=IDBKeyRange.bound([n],[Af(n)],!1,!0);let i=0;return Nb(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Tb(e).get(t).next((e=>e?Ay(e):null))}}function Tb(e){return Vp(e,"targets")}function Cb(e){return Vp(e,"targetGlobal")}function Nb(e){return Vp(e,"targetDocuments")}function Ab(e,t){let[n,r]=e,[i,s]=t;const o=Cf(n,i);return 0===o?Cf(r,s):o}class Rb{constructor(e){this.Kn=e,this.buffer=new Wp(Ab),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ab(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){cf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tp(e)?cf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Yf(e)}await this.zn(3e5)}))}}class Ob{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $f.resolve(cp._e);const n=new Rb(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(cf("LruGarbageCollector","Garbage collection skipped; disabled"),$f.resolve(gb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(cf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),gb):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(cf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),af()<=En.DEBUG&&cf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),$f.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Db(e,t){return new Ob(e,t)}class Lb{constructor(e,t){this.db=e,this.garbageCollector=Db(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Mb(e,n)}removeReference(e,t,n){return Mb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Mb(e,t)}er(e,t){return function(e,t){let n=!1;return Ib(e).Z((r=>_b(e,r,t).next((e=>(e&&(n=!0),$f.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Pf.min()),Nb(e).delete(function(e){return[0,hp(e.path)]}(s)))))}));r.push(t)}})).next((()=>$f.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Mb(e,t)}Xn(e,t){const n=Nb(e);let r,i=cp._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==cp._e&&t(new Ff(mp(r)),i),i=c,r=a):i=cp._e})).next((()=>{i!==cp._e&&t(new Ff(mp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mb(e,t){return Nb(e).put(function(e,t){return{targetId:0,path:hp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Fb{constructor(){this.changes=new Tg((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rm.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$f.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ub{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Bb(e).put(n)}removeEntry(e,t,n){return Bb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],xy(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Rm.newInvalidDocument(t);return Bb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Rm.newInvalidDocument(t)};return Bb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},((e,r)=>{n={document:this.nr(t,r),size:bb(r)}})).next((()=>n))}getEntries(e,t){let n=Ng();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Ng(),r=new Hp(Ff.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,bb(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return $f.resolve();let r=new Wp(Kb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(qb(r.first()),qb(r.last())),s=r.getIterator();let o=s.getNext();return Bb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Ff.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Kb(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(qb(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),xy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bb(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ng();for(const i of e){const e=this.nr(Ff.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(kg(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ng();const s=Hb(t,n),o=Hb(t,Kf.max());return Bb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(Ff.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Vb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return zb(e).get("remoteDocumentGlobalKey").next((e=>(ff(!!e),e)))}tr(e,t){return zb(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=cy(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Ff.fromSegments(t.noDocument.path),r=Cy(t.noDocument.readTime);n=Rm.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hf();{const e=Ff.fromSegments(t.unknownDocument.path),r=Cy(t.unknownDocument.version);n=Rm.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Rf(e[0],e[1]);return Pf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Pf.min()))return e}return Rm.newInvalidDocument(e)}}function jb(e){return new Ub(e)}class Vb extends Fb{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Tg((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Wp(((e,t)=>Cf(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Sy(this.ar.serializer,s);r=r.add(i.path.popLast());const c=bb(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Sy(this.ar.serializer,s.convertToNoDocument(Pf.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),$f.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function zb(e){return Vp(e,"remoteDocumentGlobal")}function Bb(e){return Vp(e,"remoteDocumentsV14")}function qb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hb(e,t){const n=t.documentKey.path.toArray();return[e,xy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Cf(n[s],r[s]),i)return i;return i=Cf(n.length,r.length),i||(i=Cf(n[n.length-2],r[r.length-2]),i||Cf(n[n.length-1],r[r.length-1]))}class Gb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wb{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&lv(n.mutation,e,$p.empty(),Rf.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ug()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ug();const r=Og();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Rg();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Og();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ug())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ng();const s=Lg(),o=Lg();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fv)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),lv(o.mutation,t,o.mutation.getFieldMask(),Rf.now())):s.set(t.key,$p.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Gb(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Lg();let r=new Hp(((e,t)=>e-t)),i=Ug();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||$p.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Ug()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=Dg();c.forEach((e=>{if(!i.has(e)){const r=av(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return $f.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ff.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$f.resolve(Og());let o=-1,a=i;return s.next((t=>$f.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?$f.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ug()))).next((e=>({batchId:o,changes:Pg(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ff(t)).next((e=>{let t=Rg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Rg();return this.indexManager.getCollectionParents(e,i).next((o=>$f.forEach(o,(o=>{const a=function(e,t){return new ug(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Rm.newInvalidDocument(r)))}));let n=Rg();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&lv(s.mutation,r,$p.empty(),Rf.now()),kg(t,r)&&(n=n.insert(e,r))})),n}))}}class Qb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return $f.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xv(e.createTime)}}(t)),$f.resolve()}getNamedQuery(e,t){return $f.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Py(e.bundledQuery),readTime:Xv(e.readTime)}}(t)),$f.resolve()}}class Yb{constructor(){this.overlays=new Hp(Ff.comparator),this.hr=new Map}getOverlay(e,t){return $f.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Og();return $f.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),$f.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),$f.resolve()}getOverlaysForCollection(e,t,n){const r=Og(),i=t.length+1,s=new Ff(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $f.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hp(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Og(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Og(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return $f.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _v(t,n));let i=this.hr.get(t);void 0===i&&(i=Ug(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class $b{constructor(){this.Pr=new Wp(Xb.Ir),this.Tr=new Wp(Xb.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Xb(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Xb(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Ff(new Df([])),n=new Xb(t,e),r=new Xb(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ff(new Df([])),n=new Xb(t,e),r=new Xb(t,e+1);let i=Ug();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Xb(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xb{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ff.comparator(e.key,t.key)||Cf(e.pr,t.pr)}static Er(e,t){return Cf(e.pr,t.pr)||Ff.comparator(e.key,t.key)}}class Jb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Wp(Xb.Ir)}checkEmpty(e){return $f.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bv(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Xb(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $f.resolve(s)}lookupMutationBatch(e,t){return $f.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return $f.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $f.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return $f.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xb(t,0),r=new Xb(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),$f.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wp(Cf);return t.forEach((e=>{const t=new Xb(e,0),r=new Xb(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),$f.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ff.isDocumentKey(i)||(i=i.child(""));const s=new Xb(new Ff(i),0);let o=new Wp(Cf);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),$f.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ff(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return $f.forEach(t.mutations,(r=>{const i=new Xb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Xb(t,0),r=this.wr.firstAfterOrEqual(n);return $f.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$f.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zb{constructor(e){this.vr=e,this.docs=new Hp(Ff.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $f.resolve(n?n.document.mutableCopy():Rm.newInvalidDocument(t))}getEntries(e,t){let n=Ng();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Rm.newInvalidDocument(e))})),$f.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ng();const s=t.path,o=new Ff(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Gf(Hf(o),n)<=0||(r.has(o.key)||kg(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return $f.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hf()}Fr(e,t){return $f.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ew(this)}getSize(e){return $f.resolve(this.size)}}class ew extends Fb{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),$f.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class tw{constructor(e){this.persistence=e,this.Mr=new Tg((e=>ig(e)),sg),this.lastRemoteSnapshotVersion=Pf.min(),this.highestTargetId=0,this.Or=0,this.Nr=new $b,this.targetCount=0,this.Lr=Sb.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),$f.resolve()}getLastRemoteSnapshotVersion(e){return $f.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $f.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$f.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),$f.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Sb(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,$f.resolve()}updateTargetData(e,t){return this.qn(t),$f.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,$f.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),$f.waitFor(i).next((()=>r))}getTargetCount(e){return $f.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return $f.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),$f.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$f.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),$f.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return $f.resolve(n)}containsKey(e,t){return $f.resolve(this.Nr.containsKey(t))}}class nw{constructor(e,t){this.Br={},this.overlays={},this.kr=new cp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tw(this),this.indexManager=new ab,this.remoteDocumentCache=function(e){return new Zb(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Iy(t),this.$r=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Jb(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){cf("MemoryPersistence","Starting transaction:",e);const r=new rw(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return $f.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class rw extends Qf{constructor(e){super(),this.currentSequenceNumber=e}}class iw{constructor(e){this.persistence=e,this.zr=new $b,this.jr=null}static Hr(e){return new iw(e)}get Jr(){if(this.jr)return this.jr;throw hf()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),$f.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),$f.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),$f.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $f.forEach(this.Jr,(n=>{const r=Ff.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Pf.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return $f.or([()=>$f.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class sw{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Xf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gp,{unique:!0}),e.createObjectStore("documentMutations")}(e),ow(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=$f.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ow(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gp,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return $f.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Rp});t.createIndex("collectionPathOverlayIndex",Pp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Op,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:wp});t.createIndex("documentKeyIndex",_p),t.createIndex("collectionGroupIndex",Ep)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Tp}).createIndex("sequenceNumberIndex",Cp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Np}).createIndex("documentKeyIndex",Ap,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=bb(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>$f.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>$f.forEach(n,(n=>{ff(n.userId===t.userId);const r=Ny(this.serializer,n);return yb(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Df(n),o=function(e){return[0,hp(e)]}(s);r.push(t.get(o).next((n=>n?$f.resolve():(n=>t.put({targetId:0,path:hp(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>$f.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:xp});const n=t.store("collectionParents"),r=new cb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:hp(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Df(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=mp(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Ay(n),i=Ry(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Ff(Df.fromString(e.document.name).popFirst(5)):e.noDocument?Ff.fromSegments(e.noDocument.path):e.unknownDocument?Ff.fromSegments(e.unknownDocument.path):hf()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>$f.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=jb(this.serializer),i=new nw(iw.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ug();Ny(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),$f.forEach(n,((e,n)=>{const s=new rf(n),o=jy.lt(this.serializer,s),a=i.getIndexManager(s),c=wb.lt(s,this.serializer,a,i.referenceDelegate);return new Wb(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new jp(t,cp._e),e).next()}))}))}}function ow(e){e.createObjectStore("targetDocuments",{keyPath:Ip}).createIndex("documentTargetsIndex",Sp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kp,{unique:!0}),e.createObjectStore("targetGlobal")}const aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cw{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!cw.D())throw new gf(mf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lb(this,r),this.Ti=t+"main",this.serializer=new Iy(a),this.Ei=new Jf(this.Ti,this.ui,new sw(this.serializer)),this.Qr=new xb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jb(this.serializer),this.$r=new My,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&lf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gf(mf.FAILED_PRECONDITION,aw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new cp(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(tp(e))return cf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return cf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return lw(e).get("owner").next((e=>$f.resolve(this.Si(e))))}bi(e){return uw(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Vp(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return $f.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$f.resolve(!0):lw(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new gf(mf.FAILED_PRECONDITION,aw);return!1}}return!(!this.networkEnabled||!this.inForeground)||uw(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&cf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new jp(e,cp._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>uw(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return wb.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ub(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return jy.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){cf("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Up:14===e?Fp:13===e?Mp:12===e?Lp:11===e?Dp:void hf()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new jp(r,this.kr?this.kr.next():cp._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw lf("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new gf(mf.FAILED_PRECONDITION,Wf);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return lw(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new gf(mf.FAILED_PRECONDITION,aw)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lw(e).put("owner",t)}static D(){return Jf.D()}yi(e){const t=lw(e);return t.get("owner").next((e=>this.Si(e)?(cf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$f.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(lf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;tn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return cf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return lf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(cL){lf("Failed to set zombie client id.",cL)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(cL){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function lw(e){return Vp(e,"owner")}function uw(e){return Vp(e,"clientMetadata")}function dw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class hw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Ug(),r=Ug();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hw(e,t.fromCache,n,r)}}class fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=tn()?8:Jf.v($t())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new fw;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(af()<=En.DEBUG&&cf("QueryEngine","SDK will not create cache indexes for query:",Eg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$f.resolve()):(af()<=En.DEBUG&&cf("QueryEngine","Query:",Eg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(af()<=En.DEBUG&&cf("QueryEngine","The SDK decides to create cache indexes for query:",Eg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gg(t))):$f.resolve())}ji(e,t){if(fg(t))return $f.resolve(null);let n=gg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=bg(t,null,"F"),n=gg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ug(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,bg(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return fg(t)||r.isEqual(Pf.min())?$f.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?$f.resolve(null):(af()<=En.DEBUG&&cf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eg(t)),this.es(e,s,t,qf(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Wp(Sg(e));return t.forEach(((t,r)=>{kg(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return af()<=En.DEBUG&&cf("QueryEngine","Using full collection scan to execute query:",Eg(t)),this.zi.getDocumentsMatchingQuery(e,t,Kf.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class mw{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Hp(Cf),this.rs=new Tg((e=>ig(e)),sg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wb(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function gw(e,t,n,r){return new mw(e,t,n,r)}async function vw(e,t){const n=pf(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Ug();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function yw(e){const t=pf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function bw(e,t,n){let r=Ug(),i=Ug();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ng();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Pf.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):cf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function ww(e,t){const n=pf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _w(e,t){const n=pf(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,$f.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new ky(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Ew(e,t,n){const r=pf(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!tp(e))throw e;cf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function kw(e,t,n){const r=pf(e);let i=Pf.min(),s=Ug();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=pf(e),i=r.rs.get(n);return void 0!==i?$f.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,gg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Pf.min(),n?s:Ug()))).next((e=>(xw(r,Ig(t),e),{documents:e,hs:s})))))}function Iw(e,t){const n=pf(e),r=pf(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Sw(e,t){const n=pf(e),r=n.ss.get(t)||Pf.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,qf(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(xw(n,t,e),e)))}function xw(e,t,n){let r=e.ss.get(t)||Pf.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ug();const r=await _w(e,gg(Py(t.bundledQuery))),i=pf(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Xv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(Jp.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Cw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Nw(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Aw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Rw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new gf(r.error.code,r.error.message))),s?new Rw(e,t,r.state,i):(lf("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pw{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new gf(n.error.code,n.error.message))),i?new Pw(e,n.state,r):(lf("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ow{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Vg();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=dp(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Ow(e,i):(lf("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Dw{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dw(t.clientId,t.onlineState):(lf("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Lw{constructor(){this.activeTargetIds=Vg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mw{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Hp(Cf),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Cw(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Lw),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Cw(this.persistenceKey,n));if(e){const t=Ow.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Aw(this.persistenceKey,e));if(n){const r=Pw.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Aw(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return cf("SharedClientState","READ",e,t),t}setItem(e,t){cf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){cf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(cf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void lf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=cp._e;if(null!=e)try{const n=JSON.parse(e);ff("number"==typeof n),t=n}catch(e){lf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==cp._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Rw(this.currentUser,e,t,n),i=Nw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Nw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Aw(this.persistenceKey,e),i=new Pw(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Ow.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Rw.Es(new rf(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Pw.Es(r,t)}xs(e){return Dw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);cf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Vg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Fw{constructor(){this.no=new Lw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Lw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uw{io(e){}shutdown(){}}class jw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){cf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){cf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vw=null;function zw(){return null===Vw?Vw=268435456+Math.round(2147483648*Math.random()):Vw++,"0x"+Vw.toString(16)}const Bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Hw="WebChannelConnection";class Kw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=zw(),o=this.bo(e,t.toUriEncodedString());cf("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(cf("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw uf("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Bw[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=zw();return new Promise(((s,o)=>{const a=new Zh;a.setWithCredentials(!0),a.listenOnce(Yh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Qh.NO_ERROR:const t=a.getResponseJson();cf(Hw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Qh.TIMEOUT:cf(Hw,"RPC '".concat(e,"' ").concat(i," timed out")),o(new gf(mf.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const n=a.getStatus();if(cf(Hw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mf).indexOf(t)>=0?t:mf.UNKNOWN}(t.status);o(new gf(e,t.message))}else o(new gf(mf.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new gf(mf.UNAVAILABLE,"Connection failed."));break;default:hf()}}finally{cf(Hw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);cf(Hw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=zw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gh(),o=Wh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");cf(Hw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let d=!1,h=!1;const f=new qw({lo:t=>{h?cf(Hw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(cf(Hw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),cf(Hw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Jh.EventType.OPEN,(()=>{h||cf(Hw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Jh.EventType.CLOSE,(()=>{h||(h=!0,cf(Hw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Jh.EventType.ERROR,(t=>{h||(h=!0,uf(Hw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new gf(mf.UNAVAILABLE,"The operation could not be completed")))})),p(u,Jh.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ff(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){cf(Hw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=kv[e];if(void 0!==t)return xv(t)}(t),i=o.message;void 0===n&&(n=mf.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Vo(new gf(n,i)),u.close()}else cf(Hw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,$h.STAT_EVENT,(t=>{t.stat===Xh.PROXY?cf(Hw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xh.NOPROXY&&cf(Hw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Gw(){return"undefined"!=typeof window?window:null}function Ww(){return"undefined"!=typeof document?document:null}function Qw(e){return new Gv(e,!0)}class Yw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&cf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class $w{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Yw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===mf.RESOURCE_EXHAUSTED?(lf(t.toString()),lf("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===mf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new gf(mf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return cf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(cf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xw extends $w{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ff(void 0===t||"string"==typeof t),Jp.fromBase64String(t||"")):(ff(void 0===t||t instanceof Uint8Array),Jp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?mf.UNKNOWN:xv(e.code);return new gf(t,e.message||"")}(o);n=new Uv(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ny(e,r.document.name),s=Xv(r.document.updateTime),o=r.document.createTime?Xv(r.document.createTime):Pf.min(),a=new Nm({mapValue:{fields:r.document.fields}}),c=Rm.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Mv(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ny(e,r.document),s=r.readTime?Xv(r.readTime):Pf.min(),o=Rm.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Mv([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ny(e,r.document),s=r.removedTargetIds||[];n=new Mv([],s,i,null)}else{if(!("filter"in t))return hf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ev(r,i),o=e.targetId;n=new Fv(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Pf.min():t.readTime?Xv(t.readTime):Pf.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=sy(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=og(r)?{documents:dy(e,r)}:{query:hy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yv(e,t.resumeToken);const r=Wv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Pf.min())>0){n.readTime=Qv(e,t.snapshotVersion.toTimestamp());const r=Wv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=sy(this.serializer),t.removeTarget=e,this.t_(t)}}class Jw extends $w{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ff(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(ff(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Xv(e.updateTime):Xv(t);return n.isEqual(Pf.min())&&(n=Xv(t)),new rv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Xv(e.commitTime);return this.listener.T_(n,t)}return ff(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=sy(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ly(this.serializer,e)))};this.t_(t)}}class Zw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new gf(mf.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,Zv(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gf(mf.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,Zv(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gf(mf.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class e_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(lf(t),this.g_=!1):cf("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class t_{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{u_(this)&&(cf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pf(e);t.v_.add(4),await r_(t),t.x_.set("Unknown"),t.v_.delete(4),await n_(t)}(this))}))})),this.x_=new e_(n,r)}}async function n_(e){if(u_(e))for(const t of e.F_)await t(!0)}async function r_(e){for(const t of e.F_)await t(!1)}function i_(e,t){const n=pf(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),l_(n)?c_(n):C_(n).Jo()&&o_(n,t))}function s_(e,t){const n=pf(e),r=C_(n);n.C_.delete(t),r.Jo()&&a_(n,t),0===n.C_.size&&(r.Jo()?r.Xo():u_(n)&&n.x_.set("Unknown"))}function o_(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}C_(e).c_(t)}function a_(e,t){e.O_.Oe(t),C_(e).l_(t)}function c_(e){e.O_=new Vv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),C_(e).start(),e.x_.p_()}function l_(e){return u_(e)&&!C_(e).Ho()&&e.C_.size>0}function u_(e){return 0===pf(e).v_.size}function d_(e){e.O_=void 0}async function h_(e){e.C_.forEach(((t,n)=>{o_(e,t)}))}async function f_(e,t){d_(e),l_(e)?(e.x_.S_(t),c_(e)):e.x_.set("Unknown")}async function p_(e,t,n){if(e.x_.set("Online"),t instanceof Uv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){cf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await m_(e,n)}else if(t instanceof Mv?e.O_.$e(t):t instanceof Fv?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Pf.min()))try{const t=await yw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Jp.EMPTY_BYTE_STRING,r.snapshotVersion)),a_(e,t);const i=new ky(r.target,t,n,r.sequenceNumber);o_(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cf("RemoteStore","Failed to raise snapshot:",t),await m_(e,t)}}async function m_(e,t,n){if(!tp(t))throw t;e.v_.add(1),await r_(e),e.x_.set("Offline"),n||(n=()=>yw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{cf("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await n_(e)}))}function g_(e,t){return t().catch((n=>m_(e,n,t)))}async function v_(e){const t=pf(e),n=N_(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;y_(t);)try{const e=await ww(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,b_(t,e)}catch(e){await m_(t,e)}w_(t)&&__(t)}function y_(e){return u_(e)&&e.D_.length<10}function b_(e,t){e.D_.push(t);const n=N_(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function w_(e){return u_(e)&&!N_(e).Ho()&&e.D_.length>0}function __(e){N_(e).start()}async function E_(e){N_(e).d_()}async function k_(e){const t=N_(e);for(const n of e.D_)t.I_(n.mutations)}async function I_(e,t,n){const r=e.D_.shift(),i=wv.from(r,t,n);await g_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await v_(e)}async function S_(e,t){t&&N_(e).P_&&await async function(e,t){if(function(e){return Sv(e)&&e!==mf.ABORTED}(t.code)){const n=e.D_.shift();N_(e).Zo(),await g_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await v_(e)}}(e,t),w_(e)&&__(e)}async function x_(e,t){const n=pf(e);n.asyncQueue.verifyOperationInProgress(),cf("RemoteStore","RemoteStore received new credentials");const r=u_(n);n.v_.add(3),await r_(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await n_(n)}async function T_(e,t){const n=pf(e);t?(n.v_.delete(2),await n_(n)):t||(n.v_.add(2),await r_(n),n.x_.set("Unknown"))}function C_(e){return e.N_||(e.N_=function(e,t,n){const r=pf(e);return r.R_(),new Xw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:h_.bind(null,e),To:f_.bind(null,e),u_:p_.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),l_(e)?c_(e):e.x_.set("Unknown")):(await e.N_.stop(),d_(e))}))),e.N_}function N_(e){return e.L_||(e.L_=function(e,t,n){const r=pf(e);return r.R_(),new Jw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:E_.bind(null,e),To:S_.bind(null,e),E_:k_.bind(null,e),T_:I_.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await v_(e)):(await e.L_.stop(),e.D_.length>0&&(cf("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class A_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new A_(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gf(mf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(e,t){if(lf("AsyncQueue","".concat(t,": ").concat(e)),tp(e))return new gf(mf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class P_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ff.comparator(t.key,n.key):(e,t)=>Ff.comparator(e.key,t.key),this.keyedMap=Rg(),this.sortedSet=new Hp(this.comparator)}static emptySet(e){return new P_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof P_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new P_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class O_{constructor(){this.B_=new Hp(Ff.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):hf():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class D_{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new D_(e,t,P_.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class L_{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class M_{constructor(){this.queries=new Tg((e=>_g(e)),wg),this.onlineState="Unknown",this.W_=new Set}}async function F_(e,t){const n=pf(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new L_,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=R_(e,"Initialization of query '".concat(Eg(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&z_(n)}async function U_(e,t){const n=pf(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j_(e,t){const n=pf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&z_(n)}function V_(e,t,n){const r=pf(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function z_(e){e.W_.forEach((e=>{e.next()}))}var B_,q_;(q_=B_||(B_={})).j_="default",q_.Cache="cache";class H_{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new D_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=D_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==B_.Cache}}class K_{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class G_{constructor(e){this.serializer=e}Ps(e){return ny(this.serializer,e)}Is(e){return e.metadata.exists?cy(this.serializer,e.document,!1):Rm.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Xv(e)}}class W_{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Q_(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=Df.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new G_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ug()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=pf(e);let s=Ug(),o=Ng();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(s=s.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await _w(i,function(e){return gg(hg(Df.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>bw(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new G_(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await Tw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function Q_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Y_{constructor(e){this.key=e}}class $_{constructor(e){this.key=e}}class X_{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ug(),this.mutatedKeys=Ug(),this.ha=Sg(e),this.Pa=new P_(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new O_,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=kg(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.da(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||c&&this.ha(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hf()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,c=a!==this.ca;return this.ca=a,0!==s.length||c?{snapshot:new D_(this.query,e.Pa,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new O_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ug(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new $_(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Y_(n))})),t}fa(e){this.ua=e.hs,this.la=Ug();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return D_.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class J_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Z_{constructor(e){this.key=e,this.pa=!1}}class eE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Tg((e=>_g(e)),wg),this.Sa=new Map,this.ba=new Set,this.Da=new Hp(Ff.comparator),this.Ca=new Map,this.va=new $b,this.Fa={},this.Ma=new Map,this.xa=Sb.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function tE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=AE(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await rE(r,t,n,!0),i}async function nE(e,t){const n=AE(e);await rE(n,t,!0,!1)}async function rE(e,t,n,r){const i=await _w(e.localStore,gg(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await iE(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&i_(e.remoteStore,i),a}async function iE(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await kw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return gE(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await kw(e.localStore,t,!0),o=new X_(t,s.hs),a=o.Ta(s.documents),c=Lv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);gE(e,n,l.Va);const u=new J_(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),l.snapshot}async function sE(e,t,n){const r=pf(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!wg(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ew(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&s_(r.remoteStore,i.targetId),pE(r,i.targetId)})).catch(Yf)):(pE(r,i.targetId),await Ew(r.localStore,i.targetId,!0))}async function oE(e,t){const n=pf(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),s_(n.remoteStore,r.targetId))}async function aE(e,t){const n=pf(e);try{const e=await function(e,t){const n=pf(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Jp.EMPTY_BYTE_STRING,Pf.min()).withLastLimboFreeSnapshotVersion(Pf.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.Qr.updateTargetData(e,l))}));let a=Ng(),c=Ug();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bw(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(Pf.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return $f.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(ff(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?ff(r.pa):e.removedDocuments.size>0&&(ff(r.pa),r.pa=!1))})),await bE(n,e,t)}catch(e){await Yf(e)}}function cE(e,t,n){const r=pf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pf(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&z_(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lE(e,t,n){const r=pf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new Hp(Ff.comparator);e=e.insert(s,Rm.newNoDocument(s,Pf.min()));const n=Ug().add(s),i=new Dv(Pf.min(),new Map,new Hp(Cf),e,n);await aE(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),yE(r)}else await Ew(r.localStore,t,!1).then((()=>pE(r,t,n))).catch(Yf)}async function uE(e,t){const n=pf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=$f.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ff(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ug();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);fE(n,r,null),hE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bE(n,e)}catch(e){await Yf(e)}}async function dE(e,t,n){const r=pf(e);try{const e=await function(e,t){const n=pf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ff(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fE(r,t,n),hE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bE(r,e)}catch(n){await Yf(n)}}function hE(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function fE(e,t,n){const r=pf(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function pE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||mE(e,t)}))}function mE(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(s_(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),yE(e))}function gE(e,t,n){for(const r of n)r instanceof Y_?(e.va.addReference(r.key,t),vE(e,r)):r instanceof $_?(cf("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||mE(e,r.key)):hf()}function vE(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(cf("SyncEngine","New document in limbo: "+n),e.ba.add(r),yE(e))}function yE(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Ff(Df.fromString(t)),r=e.xa.next();e.Ca.set(r,new Z_(n)),e.Da=e.Da.insert(n,r),i_(e.remoteStore,new ky(gg(hg(n.path)),r,"TargetPurposeLimboResolution",cp._e))}}async function bE(e,t,n){const r=pf(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=hw.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=pf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$f.forEach(t,(t=>$f.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$f.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!tp(e))throw e;cf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function wE(e,t){const n=pf(e);if(!n.currentUser.isEqual(t)){cf("SyncEngine","User change. New user:",t.toKey());const e=await vw(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new gf(mf.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bE(n,e.us)}}function _E(e,t){const n=pf(e),r=n.Ca.get(t);if(r&&r.pa)return Ug().add(r.key);{let e=Ug();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function EE(e,t){const n=pf(e),r=await kw(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&gE(n,t.targetId,i.Va),i}async function kE(e,t){const n=pf(e);return Sw(n.localStore,t).then((e=>bE(n,e)))}async function IE(e,t,n,r){const i=pf(e),s=await function(e,t){const n=pf(e),r=pf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):$f.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await v_(i.remoteStore):"acknowledged"===n||"rejected"===n?(fE(i,t,r||null),hE(i,t),function(e,t){pf(pf(e).mutationQueue).Mn(t)}(i.localStore,t)):hf(),await bE(i,s)):cf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function SE(e,t,n){const r=pf(e),i=[],s=[];for(const o of t){let e;const t=r.Sa.get(o);if(t&&0!==t.length){e=await _w(r.localStore,gg(t[0]));for(const e of t){const t=r.wa.get(e),n=await EE(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Iw(r.localStore,o);e=await _w(r.localStore,t),await iE(r,xE(t),o,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function xE(e){return dg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function TE(e){return function(e){return pf(pf(e).persistence).Bi()}(pf(e).localStore)}async function CE(e,t,n,r){const i=pf(e);if(i.Oa)return void cf("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Sw(i.localStore,Ig(s[0])),r=Dv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Jp.EMPTY_BYTE_STRING);await bE(i,e,r);break}case"rejected":await Ew(i.localStore,t,!0),pE(i,t,r);break;default:hf()}}async function NE(e,t,n){const r=AE(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){cf("SyncEngine","Adding an already active target "+e);continue}const t=await Iw(r.localStore,e),n=await _w(r.localStore,t);await iE(r,xE(t),n.targetId,!1,n.resumeToken),i_(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await Ew(r.localStore,e,!1).then((()=>{s_(r.remoteStore,e),pE(r,e)})).catch(Yf)}}function AE(e){const t=pf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_E.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lE.bind(null,t),t.ya.u_=j_.bind(null,t.eventManager),t.ya.La=V_.bind(null,t.eventManager),t}function RE(e){const t=pf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dE.bind(null,t),t}class PE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gw(this.persistence,new pw,e.initialUser,this.serializer)}createPersistence(e){return new nw(iw.Hr,this.serializer)}createSharedClientState(e){return new Fw}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OE extends PE{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await RE(this.ka.syncEngine),await v_(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return gw(this.persistence,new pw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Pb(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ap(t,this.persistence);return new op(e.asyncQueue,n)}createPersistence(e){const t=dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vb.withCacheSize(this.cacheSizeBytes):vb.DEFAULT;return new cw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gw(),Ww(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Fw}}class DE extends OE{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof Mw&&(this.sharedClientState.syncEngine={Zs:IE.bind(null,t),Xs:CE.bind(null,t),eo:NE.bind(null,t),Bi:TE.bind(null,t),Ys:kE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=pf(e);if(AE(n),RE(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await SE(n,e.toArray());n.Oa=!0,await T_(n.remoteStore,!0);for(const r of t)i_(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(pE(n,i),Ew(n.localStore,i,!0)))),s_(n.remoteStore,i)})),await t,await SE(n,e),function(e){const t=pf(e);t.Ca.forEach(((e,n)=>{s_(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Hp(Ff.comparator)}(n),n.Oa=!1,await T_(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Gw();if(!Mw.D(t))throw new gf(mf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class LE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wE.bind(null,this.syncEngine),await T_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new M_}createDatastore(e){const t=Qw(e.databaseInfo.databaseId),n=function(e){return new Kw(e)}(e.databaseInfo);return function(e,t,n,r){return new Zw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new t_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>cE(this.syncEngine,e,0)),jw.D()?new jw:new Uw)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new eE(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=pf(e);cf("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await r_(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function ME(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):lf("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class UE{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new vf,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new K_(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class jE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new gf(mf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=pf(e),r={documents:t.map((e=>ty(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Df.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ff(!!t.found),t.found.name,t.found.updateTime;const n=ny(e,t.found.name),r=Xv(t.found.updateTime),i=t.found.createTime?Xv(t.found.createTime):Pf.min(),s=new Nm({mapValue:{fields:t.found.fields}});return Rm.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){ff(!!t.missing),ff(!!t.readTime);const n=ny(e,t.missing),r=Xv(t.readTime);return Rm.newNoDocument(n,r)}(e,t):hf()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());ff(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new vv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Ff.fromPath(t);this.mutations.push(new yv(n,this.precondition(n)))})),await async function(e,t){const n=pf(e),r={writes:t.map((e=>ly(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Df.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hf();t=Pf.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gf(mf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pf.min())?iv.exists(!1):iv.updateTime(t):iv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pf.min()))throw new gf(mf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iv.updateTime(t)}return iv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new Yw(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new jE(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!lp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Sv(t)}return!1}}class zE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=rf.UNAUTHENTICATED,this.clientId=Tf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{cf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(cf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gf(mf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=R_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function BE(e,t){e.asyncQueue.verifyOperationInProgress(),cf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KE(e);cf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>x_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>x_(t.remoteStore,n))),e._onlineComponents=t}function HE(e){return"FirebaseError"===e.name?e.code===mf.FAILED_PRECONDITION||e.code===mf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function KE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cf("FirestoreClient","Using user provided OfflineComponentProvider");try{await BE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!HE(n))throw n;uf("Error using user provided cache. Falling back to memory cache: "+n),await BE(e,new PE)}}else cf("FirestoreClient","Using default OfflineComponentProvider"),await BE(e,new PE);return e._offlineComponents}async function GE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cf("FirestoreClient","Using user provided OnlineComponentProvider"),await qE(e,e._uninitializedComponentsProvider._online)):(cf("FirestoreClient","Using default OnlineComponentProvider"),await qE(e,new LE))),e._onlineComponents}function WE(e){return KE(e).then((e=>e.persistence))}function QE(e){return KE(e).then((e=>e.localStore))}function YE(e){return GE(e).then((e=>e.remoteStore))}function $E(e){return GE(e).then((e=>e.syncEngine))}function XE(e){return GE(e).then((e=>e.datastore))}async function JE(e){const t=await GE(e),n=t.eventManager;return n.onListen=tE.bind(null,t.syncEngine),n.onUnlisten=sE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oE.bind(null,t.syncEngine),n}function ZE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new FE({next:s=>{t.enqueueAndForget((()=>U_(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new gf(mf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new gf(mf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new H_(hg(n.path),s,{includeMetadataChanges:!0,ta:!0});return F_(e,o)}(await JE(e),e.asyncQueue,t,n,r))),r.promise}function ek(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new FE({next:n=>{t.enqueueAndForget((()=>U_(e,o))),n.fromCache&&"server"===r.source?i.reject(new gf(mf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new H_(n,s,{includeMetadataChanges:!0,ta:!0});return F_(e,o)}(await JE(e),e.asyncQueue,t,n,r))),r.promise}function tk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Cv().encode(e):e,function(e,t){return new UE(e,t)}(function(e,t){if(e instanceof Uint8Array)return ME(e,t);if(e instanceof ArrayBuffer)return ME(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Qw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=pf(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=pf(e),r=Xv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Q_(r));const i=new W_(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const o=await i.complete();return await bE(e,o.aa,void 0),await function(e,t){const n=pf(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o._a)}catch(e){return uf("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await $E(e),i,r)}))}function nk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const rk=new Map;function ik(e,t,n){if(!n)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sk(e,t,n,r){if(!0===t&&!0===r)throw new gf(mf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ok(e){if(!Ff.isDocumentKey(e))throw new gf(mf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ak(e){if(Ff.isDocumentKey(e))throw new gf(mf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ck(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hf()}function lk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gf(mf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ck(e);throw new gf(mf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function uk(e,t){if(t<=0)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class dk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gf(mf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gf(mf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hk{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gf(mf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gf(mf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bf;switch(e.type){case"firstParty":return new kf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gf(mf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rk.get(e);t&&(cf("ComponentProvider","Removing Datastore"),rk.delete(e),t.terminate())}(this),Promise.resolve()}}function fk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=lk(e,hk))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&uf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=rf.MOCK_USER;else{t=Yt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gf(mf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new rf(s)}e._authCredentials=new wf(new yf(t,n))}}class pk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new pk(this.firestore,e,this._query)}}class mk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mk(this.firestore,e,this._key)}}class gk extends pk{constructor(e,t,n){super(e,t,hg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mk(this.firestore,null,new Ff(e))}withConverter(e){return new gk(this.firestore,e,this._path)}}function vk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gn(e),ik("collection","path",t),e instanceof hk){const n=Df.fromString(t,...r);return ak(n),new gk(e,null,n)}{if(!(e instanceof mk||e instanceof gk))throw new gf(mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Df.fromString(t,...r));return ak(n),new gk(e.firestore,null,n)}}function yk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gn(e),1===arguments.length&&(t=Tf.newId()),ik("doc","path",t),e instanceof hk){const n=Df.fromString(t,...r);return ok(n),new mk(e,null,new Ff(n))}{if(!(e instanceof mk||e instanceof gk))throw new gf(mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Df.fromString(t,...r));return ok(n),new mk(e.firestore,e instanceof gk?e.converter:null,new Ff(n))}}function bk(e,t){return e=gn(e),t=gn(t),(e instanceof mk||e instanceof gk)&&(t instanceof mk||t instanceof gk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wk(e,t){return e=gn(e),t=gn(t),e instanceof pk&&t instanceof pk&&e.firestore===t.firestore&&wg(e._query,t._query)&&e.converter===t.converter}class _k{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Yw(this,"async_queue_retry"),this.cu=()=>{const e=Ww();e&&cf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Ww();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Ww();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new vf;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(cL){if(!tp(cL))throw cL;cf("AsyncQueue","Operation failed with retryable error: "+cL)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lf("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=A_.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&hf()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function Ek(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class kk{constructor(){this._progressObserver={},this._taskCompletionResolver=new vf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ik extends hk{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _k,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xk(this),this._firestoreClient.terminate()}}function Sk(e){return e._firestoreClient||xk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xk(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new om(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Tk(e,t,n){const r=new vf;return e.asyncQueue.enqueue((async()=>{try{await BE(e,n),await qE(e,t),r.resolve()}catch(e){const n=e;if(!HE(n))throw n;uf("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Ck(e){return function(e){const t=new vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=pf(e);u_(n.remoteStore)||cf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=pf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=R_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await $E(e),t))),t.promise}(Sk(e=lk(e,Ik)))}function Nk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await WE(e),n=await YE(e);return t.setNetworkEnabled(!0),function(e){const t=pf(e);return t.v_.delete(0),n_(t)}(n)}))}(Sk(e=lk(e,Ik)))}function Ak(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await WE(e),n=await YE(e);return t.setNetworkEnabled(!1),async function(e){const t=pf(e);t.v_.add(0),await r_(t),t.x_.set("Offline")}(n)}))}(Sk(e=lk(e,Ik)))}function Rk(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=pf(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await QE(e),t)))}(Sk(e=lk(e,Ik)),t).then((t=>t?new pk(e,null,t.query):null))}function Pk(e){if(e._initialized||e._terminated)throw new gf(mf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ok{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ok(Jp.fromBase64String(e))}catch(e){throw new gf(mf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ok(Jp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gf(mf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lk{constructor(e){this._methodName=e}}class Mk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gf(mf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gf(mf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cf(this._lat,e._lat)||Cf(this._long,e._long)}}const Fk=/^__.*__$/;class Uk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fv(e,this.data,this.fieldMask,t,this.fieldTransforms):new hv(e,this.data,t,this.fieldTransforms)}}class jk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hf()}}class zk{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new zk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return aI(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Vk(this.Vu)&&Fk.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Bk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qw(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zk({Vu:e,methodName:t,Du:n,path:Mf.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qk(e){const t=e._freezeSettings(),n=Qw(e._databaseId);return new Bk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hk(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);rI("Data must be an object, but it was:",o,r);const a=tI(r,o);let c,l;if(s.merge)c=new $p(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=iI(t,r,n);if(!o.contains(i))throw new gf(mf.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));cI(e,i)||e.push(i)}c=new $p(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Uk(new Nm(a),c,l)}class Kk extends Lk{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kk}}function Gk(e,t,n){return new zk({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Wk extends Lk{_toFieldTransform(e){return new nv(e.path,new Qg)}isEqual(e){return e instanceof Wk}}class Qk extends Lk{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Gk(this,e,!0),n=this.vu.map((e=>eI(e,t))),r=new Yg(n);return new nv(e.path,r)}isEqual(e){return e instanceof Qk&&cn(this.vu,e.vu)}}class Yk extends Lk{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Gk(this,e,!0),n=this.vu.map((e=>eI(e,t))),r=new Xg(n);return new nv(e.path,r)}isEqual(e){return e instanceof Yk&&cn(this.vu,e.vu)}}class $k extends Lk{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new Zg(e.serializer,qg(e.serializer,this.Fu));return new nv(e.path,t)}isEqual(e){return e instanceof $k&&this.Fu===e.Fu}}function Xk(e,t,n,r){const i=e.Cu(1,t,n);rI("Data must be an object, but it was:",i,r);const s=[],o=Nm.empty();Bp(r,((e,r)=>{const a=oI(t,e,n);r=gn(r);const c=i.yu(a);if(r instanceof Kk)s.push(a);else{const e=eI(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new $p(s);return new jk(o,a,i.fieldTransforms)}function Jk(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[iI(t,r,n)],c=[i];if(s.length%2!=0)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(iI(t,s[h])),c.push(s[h+1]);const l=[],u=Nm.empty();for(let h=a.length-1;h>=0;--h)if(!cI(l,a[h])){const e=a[h];let t=c[h];t=gn(t);const n=o.yu(e);if(t instanceof Kk)l.push(e);else{const r=eI(t,n);null!=r&&(l.push(e),u.set(e,r))}}const d=new $p(l);return new jk(u,d,o.fieldTransforms)}function Zk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eI(n,e.Cu(r?4:3,t))}function eI(e,t){if(nI(e=gn(e)))return rI("Unsupported field value:",t,e),tI(e,t);if(e instanceof Lk)return function(e,t){if(!Vk(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=eI(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=gn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Rf.fromDate(e);return{timestampValue:Qv(t.serializer,n)}}if(e instanceof Rf){const n=new Rf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qv(t.serializer,n)}}if(e instanceof Mk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ok)return{bytesValue:Yv(t.serializer,e._byteString)};if(e instanceof mk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Jv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(ck(e)))}(e,t)}function tI(e,t){const n={};return qp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bp(e,((e,r)=>{const i=eI(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rf||e instanceof Mk||e instanceof Ok||e instanceof mk||e instanceof Lk)}function rI(e,t,n){if(!nI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ck(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function iI(e,t,n){if((t=gn(t))instanceof Dk)return t._internalPath;if("string"==typeof t)return oI(e,t);throw aI("Field path arguments must be of type string or ",e,!1,void 0,n)}const sI=new RegExp("[~\\*/\\[\\]]");function oI(e,t,n){if(t.search(sI)>=0)throw aI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Dk(...t.split("."))._internalPath}catch($c){throw aI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new gf(mf.INVALID_ARGUMENT,a+e+c)}function cI(e,t){return e.some((e=>e.isEqual(t)))}class lI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uI extends lI{data(){return super.data()}}function dI(e,t){return"string"==typeof t?oI(e,t):t instanceof Dk?t._internalPath:t._delegate._internalPath}function hI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gf(mf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fI{}class pI extends fI{}function mI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof fI&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof vI)).length,n=e.filter((e=>e instanceof gI)).length;if(t>1||t>0&&n>0)throw new gf(mf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class gI extends pI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new gI(e,t,n)}_apply(e){const t=this._parse(e);return SI(e._query,t),new pk(e.firestore,e.converter,yg(e._query,t))}_parse(e){const t=qk(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new gf(mf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){II(o,s);const t=[];for(const n of o)t.push(kI(r,e,n));a={arrayValue:{values:t}}}else a=kI(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||II(o,s),a=Zk(n,t,o,"in"===s||"not-in"===s);return Um.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class vI extends fI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:jm.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)SI(n,i),n=yg(n,i)}(e._query,t),new pk(e.firestore,e.converter,yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yI extends pI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lm(t,n)}(e._query,this._field,this._direction);return new pk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ug(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class bI extends pI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new bI(e,t,n)}_apply(e){return new pk(e.firestore,e.converter,bg(e._query,this._limit,this._limitType))}}class wI extends pI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new wI(e,t,n)}_apply(e){const t=EI(e,this.type,this._docOrFields,this._inclusive);return new pk(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class _I extends pI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _I(e,t,n)}_apply(e){const t=EI(e,this.type,this._docOrFields,this._inclusive);return new pk(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function EI(e,t,n,r){if(n[0]=gn(n[0]),n[0]instanceof lI)return function(e,t,n,r,i){if(!r)throw new gf(mf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of mg(e))if(o.field.isKeyField())s.push(vm(t,r.key));else{const e=r.data.field(o.field);if(rm(e))throw new gf(mf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Pm(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=qk(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new gf(mf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!pg(e)&&-1!==s.indexOf("/"))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Df.fromString(s));if(!Ff.isDocumentKey(n))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Ff(n);a.push(vm(t,i))}else{const e=Zk(n,r,s);a.push(e)}}return new Pm(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function kI(e,t,n){if("string"==typeof(n=gn(n))){if(""===n)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pg(t)&&-1!==n.indexOf("/"))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Df.fromString(n));if(!Ff.isDocumentKey(r))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vm(e,new Ff(r))}if(n instanceof mk)return vm(e,n._key);throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ck(n),"."))}function II(e,t){if(!Array.isArray(e)||0===e.length)throw new gf(mf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function SI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gf(mf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gf(mf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class xI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(um(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bp(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Mk(tm(e.latitude),tm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=im(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sm(e));default:return null}}convertTimestamp(e){const t=em(e);return new Rf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Df.fromString(e);ff(Ey(n));const r=new am(n.get(1),n.get(3)),i=new Ff(n.popFirst(5));return r.isEqual(t)||lf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function TI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class CI extends xI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ok(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mk(this.firestore,null,t)}}class NI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AI extends lI{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new RI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class RI extends AI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class PI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new NI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new RI(this._firestore,this._userDataWriter,n.key,n,new NI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gf(mf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new RI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new NI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new RI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new NI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:OI(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function OI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hf()}}function DI(e,t){return e instanceof AI&&t instanceof AI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof PI&&t instanceof PI&&e._firestore===t._firestore&&wk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class LI extends xI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ok(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mk(this.firestore,null,t)}}function MI(e){e=lk(e,mk);const t=lk(e.firestore,Ik),n=Sk(t),r=new LI(t);return function(e,t){const n=new vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=pf(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new gf(mf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=R_(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await QE(e),t,n))),n.promise}(n,e._key).then((n=>new AI(t,r,e._key,n,new NI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function FI(e){e=lk(e,pk);const t=lk(e.firestore,Ik),n=Sk(t),r=new LI(t);return function(e,t){const n=new vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await kw(e,t,!0),i=new X_(t,r.hs),s=i.Ta(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=R_(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await QE(e),t,n))),n.promise}(n,e._query).then((n=>new PI(t,r,e,n)))}function UI(e,t,n){e=lk(e,mk);const r=lk(e.firestore,Ik),i=TI(e.converter,t,n);return BI(r,[Hk(qk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,iv.none())])}function jI(e,t,n){e=lk(e,mk);const r=lk(e.firestore,Ik),i=qk(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=gn(t))||t instanceof Dk?Jk(i,"updateDoc",e._key,t,n,a):Xk(i,"updateDoc",e._key,t),BI(r,[s.toMutation(e._key,iv.exists(!0))])}function VI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=gn(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Ek(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Ek(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof mk)d=lk(e.firestore,Ik),h=hg(e._key.path),u={next:t=>{n[c]&&n[c](qI(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=lk(e,pk);d=lk(t.firestore,Ik),h=t._query;const r=new LI(d);u={next:e=>{n[c]&&n[c](new PI(d,r,t,e))},error:n[c+1],complete:n[c+2]},hI(e._query)}return function(e,t,n,r){const i=new FE(r),s=new H_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>F_(await JE(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>U_(await JE(e),s)))}}(Sk(d),h,l,u)}function zI(e,t){return function(e,t){const n=new FE(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){pf(e).W_.add(t),t.next()}(await JE(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){pf(e).W_.delete(t)}(await JE(e),n)))}}(Sk(e=lk(e,Ik)),Ek(t)?t:{next:t})}function BI(e,t){return function(e,t){const n=new vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=RE(e);try{const e=await function(e,t){const n=pf(e),r=Rf.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ug());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ng(),c=Ug();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=uv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new fv(e.key,t,Am(t.value.mapValue),iv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Pg(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Hp(Cf)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await bE(r,e.changes),await v_(r.remoteStore)}catch(e){const t=R_(e,"Failed to persist write");n.reject(t)}}(await $E(e),t,n))),n.promise}(Sk(e),t)}function qI(e,t,n){const r=n.docs.get(t._key),i=new LI(e);return new AI(e,i,t._key,r,new NI(n.hasPendingWrites,n.fromCache),t.converter)}const HI={maxAttempts:5};class KI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qk(e)}set(e,t,n){this._verifyNotCommitted();const r=GI(e,this._firestore),i=TI(r.converter,t,n),s=Hk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,iv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=GI(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=gn(t))||t instanceof Dk?Jk(this._dataReader,"WriteBatch.update",r._key,t,n,o):Xk(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,iv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=GI(e,this._firestore);return this._mutations=this._mutations.concat(new vv(t._key,iv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gf(mf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function GI(e,t){if((e=gn(e)).firestore!==t)throw new gf(mf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class WI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qk(e)}get(e){const t=GI(e,this._firestore),n=new CI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return hf();const r=e[0];if(r.isFoundDocument())return new lI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new lI(this._firestore,n,t._key,null,t.converter);throw hf()}))}set(e,t,n){const r=GI(e,this._firestore),i=TI(r.converter,t,n),s=Hk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=GI(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=gn(t))||t instanceof Dk?Jk(this._dataReader,"Transaction.update",r._key,t,n,o):Xk(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=GI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=GI(e,this._firestore),n=new LI(this._firestore);return super.get(e).then((e=>new AI(this._firestore,n,t._key,e._document,new NI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sf=e}(ar),tr(new vn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Ik(new _f(e.getProvider("auth-internal")),new Sf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gf(mf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new am(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),hr(nf,"4.5.0",e),hr(nf,"4.5.0","esm2017")}();function QI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function YI(){if("undefined"===typeof Uint8Array)throw new gf("unimplemented","Uint8Arrays are not available in this environment.")}function $I(){if("undefined"==typeof atob)throw new gf("unimplemented","Blobs are unavailable in Firestore in this environment.")}class XI{constructor(e){this._delegate=e}static fromBase64String(e){return $I(),new XI(Ok.fromBase64String(e))}static fromUint8Array(e){return YI(),new XI(Ok.fromUint8Array(e))}toBase64(){return $I(),this._delegate.toBase64()}toUint8Array(){return YI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ZI{enableIndexedDbPersistence(e,t){return function(e,t){Pk(e=lk(e,Ik));const n=Sk(e);if(n._uninitializedComponentsProvider)throw new gf(mf.FAILED_PRECONDITION,"SDK cache is already specified.");uf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new LE;return Tk(n,i,new OE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Pk(e=lk(e,Ik));const t=Sk(e);if(t._uninitializedComponentsProvider)throw new gf(mf.FAILED_PRECONDITION,"SDK cache is already specified.");uf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new LE;return Tk(t,r,new DE(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new gf(mf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new vf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Jf.D())return Promise.resolve();const t=e+"main";await Jf.delete(t)}(dw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class eS{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof am||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||uf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fk(this._delegate,e,t,n)}enableNetwork(){return Nk(this._delegate)}disableNetwork(){return Ak(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,sk("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ck(this._delegate)}onSnapshotsInSync(e){return zI(this._delegate,e)}get app(){if(!this._appCompat)throw new gf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pS(this,vk(this._delegate,e))}catch(cL){throw oS(cL,"collection()","Firestore.collection()")}}doc(e){try{return new sS(this,yk(this._delegate,e))}catch(cL){throw oS(cL,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dS(this,function(e,t){if(e=lk(e,hk),ik("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gf(mf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pk(e,null,function(e){return new ug(Df.emptyPath(),e)}(t))}(this._delegate,e))}catch(cL){throw oS(cL,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=lk(e,Ik);const r=Object.assign(Object.assign({},HI),n);return function(e){if(e.maxAttempts<1)throw new gf(mf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new vf;return e.asyncQueue.enqueueAndForget((async()=>{const i=await XE(e);new VE(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(Sk(e),(n=>t(new WI(e,n))),r)}(this._delegate,(t=>e(new nS(this,t))))}batch(){return Sk(this._delegate),new rS(new KI(this._delegate,(e=>BI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Sk(e=lk(e,Ik)),r=new kk;return tk(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Rk(this._delegate,e).then((e=>e?new dS(this,e):null))}}class tS extends xI{constructor(e){super(),this.firestore=e}convertBytes(e){return new XI(new Ok(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sS.forKey(t,this.firestore,null)}}class nS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tS(e)}get(e){const t=mS(e);return this._delegate.get(t).then((e=>new lS(this._firestore,new AI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=mS(e);return n?(QI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=mS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=mS(e);return this._delegate.delete(t),this}}class rS{constructor(e){this._delegate=e}set(e,t,n){const r=mS(e);return n?(QI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=mS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=mS(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class iS{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new RI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uS(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=iS.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new iS(e,new tS(e),t),r.set(t,i)),i}}iS.INSTANCES=new WeakMap;class sS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tS(e)}static forPath(e,t,n){if(e.length%2!==0)throw new gf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new sS(t,new mk(t._delegate,n,new Ff(e)))}static forKey(e,t,n){return new sS(t,new mk(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new pS(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pS(this.firestore,vk(this._delegate,e))}catch(cL){throw oS(cL,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=gn(e))instanceof mk&&bk(this._delegate,e)}set(e,t){t=QI("DocumentReference.set",t);try{return t?UI(this._delegate,e,t):UI(this._delegate,e)}catch(cL){throw oS(cL,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jI(this._delegate,e):jI(this._delegate,e,t,...r)}catch(cL){throw oS(cL,"updateDoc()","DocumentReference.update()")}}delete(){return BI(lk((e=this._delegate).firestore,Ik),[new vv(e._key,iv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=aS(t),i=cS(t,(e=>new lS(this.firestore,new AI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return VI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?MI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lk(e,mk);const t=lk(e.firestore,Ik);return ZE(Sk(t),e._key,{source:"server"}).then((n=>qI(t,e,n)))}(this._delegate):function(e){e=lk(e,mk);const t=lk(e.firestore,Ik);return ZE(Sk(t),e._key).then((n=>qI(t,e,n)))}(this._delegate),t.then((e=>new lS(this.firestore,new AI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new sS(this.firestore,e?this._delegate.withConverter(iS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function oS(e,t,n){return e.message=e.message.replace(t,n),e}function aS(e){for(const t of e)if("object"===typeof t&&!JI(t))return t;return{}}function cS(e,t){var n,r;let i;return i=JI(e[0])?e[0]:JI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DI(this._delegate,e._delegate)}}class uS extends lS{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||hf(),t}}class dS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tS(e)}where(e,t,n){try{return new dS(this.firestore,mI(this._delegate,function(e,t,n){const r=t,i=dI("where",e);return gI._create(i,r,n)}(e,t,n)))}catch(cL){throw oS(cL,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new dS(this.firestore,mI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dI("orderBy",e);return yI._create(n,t)}(e,t)))}catch(cL){throw oS(cL,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dS(this.firestore,mI(this._delegate,(uk("limit",t=e),bI._create("limit",t,"F"))))}catch(t){throw oS(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new dS(this.firestore,mI(this._delegate,(uk("limitToLast",t=e),bI._create("limitToLast",t,"L"))))}catch(t){throw oS(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new dS(this.firestore,mI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wI._create("startAt",t,!0)}(...arguments)))}catch(cL){throw oS(cL,"startAt()","Query.startAt()")}}startAfter(){try{return new dS(this.firestore,mI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wI._create("startAfter",t,!1)}(...arguments)))}catch(cL){throw oS(cL,"startAfter()","Query.startAfter()")}}endBefore(){try{return new dS(this.firestore,mI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _I._create("endBefore",t,!1)}(...arguments)))}catch(cL){throw oS(cL,"endBefore()","Query.endBefore()")}}endAt(){try{return new dS(this.firestore,mI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _I._create("endAt",t,!0)}(...arguments)))}catch(cL){throw oS(cL,"endAt()","Query.endAt()")}}isEqual(e){return wk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?FI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lk(e,pk);const t=lk(e.firestore,Ik),n=Sk(t),r=new LI(t);return ek(n,e._query,{source:"server"}).then((n=>new PI(t,r,e,n)))}(this._delegate):function(e){e=lk(e,pk);const t=lk(e.firestore,Ik),n=Sk(t),r=new LI(t);return hI(e._query),ek(n,e._query).then((n=>new PI(t,r,e,n)))}(this._delegate),t.then((e=>new fS(this.firestore,new PI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=aS(t),i=cS(t,(e=>new fS(this.firestore,new PI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return VI(this._delegate,r,i)}withConverter(e){return new dS(this.firestore,e?this._delegate.withConverter(iS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new dS(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new uS(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new hS(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new uS(this._firestore,n))}))}isEqual(e){return DI(this._delegate,e._delegate)}}class pS extends dS{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sS(this.firestore,e):null}doc(e){try{return new sS(this.firestore,void 0===e?yk(this._delegate):yk(this._delegate,e))}catch(cL){throw oS(cL,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=lk(e.firestore,Ik),r=yk(e),i=TI(e.converter,t);return BI(n,[Hk(qk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new sS(this.firestore,e)))}isEqual(e){return bk(this._delegate,e._delegate)}withConverter(e){return new pS(this.firestore,e?this._delegate.withConverter(iS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mS(e){return lk(e,mk)}class gS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Dk(...t)}static documentId(){return new gS(Mf.keyField().canonicalString())}isEqual(e){return(e=gn(e))instanceof Dk&&this._delegate._internalPath.isEqual(e._internalPath)}}class vS{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Wk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new vS(e)}static delete(){const e=new Kk("deleteField");return e._methodName="FieldValue.delete",new vS(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new vS(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yk("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new vS(e)}static increment(e){const t=new $k("increment",e);return t._methodName="FieldValue.increment",new vS(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yS={Firestore:eS,GeoPoint:Mk,Timestamp:Rf,Blob:XI,Transaction:nS,WriteBatch:rS,DocumentReference:sS,DocumentSnapshot:lS,Query:dS,QueryDocumentSnapshot:uS,QuerySnapshot:fS,CollectionReference:pS,FieldPath:gS,FieldValue:vS,setLogLevel:function(e){var t;t=e,of.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new vn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yS)))}(e,((e,t)=>new eS(e,t,new ZI))),e.registerVersion("@firebase/firestore-compat","0.3.27")}(Rr);const bS="firebasestorage.googleapis.com",wS="storageBucket";class _S extends rn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(IS(e),"Firebase Storage: ".concat(t," (").concat(IS(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_S.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return IS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ES,kS;function IS(e){return"storage/"+e}function SS(){return new _S(ES.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xS(){return new _S(ES.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TS(){return new _S(ES.CANCELED,"User canceled the upload/download.")}function CS(){return new _S(ES.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NS(e){return new _S(ES.INVALID_ARGUMENT,e)}function AS(){return new _S(ES.APP_DELETED,"The Firebase app was deleted.")}function RS(e){return new _S(ES.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function PS(e,t){return new _S(ES.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function OS(e){throw new _S(ES.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ES||(ES={}));class DS{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=DS.makeFromUrl(e,t)}catch(cL){return new DS(e,"")}if(""===n.path)return n;throw r=e,new _S(ES.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===bS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new DS(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new _S(ES.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class LS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function MS(e){return"string"===typeof e||e instanceof String}function FS(e){return US()&&e instanceof Blob}function US(){return"undefined"!==typeof Blob}function jS(e,t,n,r){if(r<t)throw NS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw NS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function VS(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function zS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function BS(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kS||(kS={}));class qS{constructor(e,t,n,r,i,s,o,a,c,l,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new HS(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===kS.NO_ERROR,i=n.getStatus();if(!t||BS(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===kS.ABORT;return void e(!1,new HS(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new HS(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(cL){r(cL)}else if(null!==i){const e=SS();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?AS():TS())}else{r(xS())}};this.canceled_?t(0,new HS(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(l)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(c()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),l||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class HS{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function KS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GS(){const e=KS();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(US())return new Blob(n);throw new _S(ES.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function WS(e){if("undefined"===typeof atob)throw t="base-64",new _S(ES.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const QS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YS{constructor(e,t){this.data=e,this.contentType=t||null}}function $S(e,t){switch(e){case QS.RAW:return new YS(XS(t));case QS.BASE64:case QS.BASE64URL:return new YS(JS(e,t));case QS.DATA_URL:return new YS(function(e){const t=new ZS(e);return t.base64?JS(QS.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(cL){throw PS(QS.DATA_URL,"Malformed data URL.")}return XS(t)}(t.rest)}(t),new ZS(t).contentType)}throw SS()}function XS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function JS(e,t){switch(e){case QS.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw PS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case QS.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw PS(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WS(t)}catch(cL){if(cL.message.includes("polyfill"))throw cL;throw PS(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ZS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw PS(QS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ex{constructor(e,t){let n=0,r="";FS(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(FS(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ex(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ex(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(US()){const e=t.map((e=>e instanceof ex?e.data_:e));return new ex(GS.apply(null,e))}{const e=t.map((e=>MS(e)?$S(QS.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ex(r,!0)}}uploadData(){return this.data_}}function tx(e){let t;try{t=JSON.parse(e)}catch(cL){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nx(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rx(e,t){return t}class ix{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rx}}let sx=null;function ox(){if(sx)return sx;const e=[];e.push(new ix("bucket")),e.push(new ix("generation")),e.push(new ix("metageneration")),e.push(new ix("name","fullPath",!0));const t=new ix("name");t.xform=function(e,t){return function(e){return!MS(e)||e.length<2?e:nx(e)}(t)},e.push(t);const n=new ix("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ix("timeCreated")),e.push(new ix("updated")),e.push(new ix("md5Hash",null,!0)),e.push(new ix("cacheControl",null,!0)),e.push(new ix("contentDisposition",null,!0)),e.push(new ix("contentEncoding",null,!0)),e.push(new ix("contentLanguage",null,!0)),e.push(new ix("contentType",null,!0)),e.push(new ix("metadata","customMetadata",!0)),sx=e,sx}function ax(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new DS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function cx(e,t,n){const r=tx(t);if(null===r)return null;return ax(e,r,n)}function lx(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const ux="prefixes",dx="items";function hx(e,t,n){const r=tx(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ux])for(const i of n[ux]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new DS(t,n));r.prefixes.push(s)}if(n[dx])for(const i of n[dx]){const n=e._makeStorageReference(new DS(t,i.name));r.items.push(n)}return r}(e,t,r)}class fx{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function px(e){if(!e)throw SS()}function mx(e,t){return function(n,r){const i=cx(e,r,t);return px(null!==i),i}}function gx(e,t){return function(n,r){const i=cx(e,r,t);return px(null!==i),function(e,t,n,r){const i=tx(t);if(null===i)return null;if(!MS(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return VS("/b/"+o(i)+"/o/"+o(s),n,r)+zS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function vx(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _S(ES.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new _S(ES.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new _S(ES.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _S(ES.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function yx(e){const t=vx(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new _S(ES.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function bx(e,t,n){const r=VS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new fx(r,"GET",mx(e,n),i);return s.errorHandler=yx(t),s}function wx(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=VS(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new fx(o,"GET",function(e,t){return function(n,r){const i=hx(e,t,r);return px(null!==i),i}}(e,t.bucket),a);return c.urlParams=s,c.errorHandler=vx(t),c}function _x(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ex(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=_x(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lx(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=ex.getBlob(l,r,u);if(null===d)throw CS();const h={name:c.fullPath},f=VS(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new fx(f,"POST",mx(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=vx(t),m}class kx{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Ix(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(cL){px(!1)}return px(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Sx=262144;function xx(e,t,n,r,i,s,o,a){const c=new kx(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new _S(ES.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const d=c.current,h=d+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(d,h);if(null===m)throw CS();const g=t.maxUploadRetryTime,v=new fx(n,"POST",(function(e,n){const i=Ix(e,["active","final"]),o=c.current+u,a=r.size();let l;return l="final"===i?mx(t,s)(e,n):null,new kx(o,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=vx(e),v}const Tx={STATE_CHANGED:"state_changed"},Cx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nx(e){switch(e){case"running":case"pausing":case"canceling":return Cx.RUNNING;case"paused":return Cx.PAUSED;case"success":return Cx.SUCCESS;case"canceled":return Cx.CANCELED;default:return Cx.ERROR}}class Ax{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Rx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let Px=null;class Ox{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kS.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=kS.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=kS.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw OS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw OS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw OS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(cL){return-1}}getResponse(){if(!this.sent_)throw OS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw OS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Dx extends Ox{initXhr(){this.xhr_.responseType="text"}}function Lx(){return Px?Px():new Dx}class Mx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ox(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(ES.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(BS(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=xS()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(ES.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=_x(t,r,i),a={name:o.fullPath},c=VS(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=lx(o,n),d=e.maxUploadRetryTime,h=new fx(c,"POST",(function(e){let t;Ix(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(cL){px(!1)}return px(MS(t)),t}),d);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=vx(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Lx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new fx(n,"POST",(function(e){const t=Ix(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(cL){px(!1)}n||px(!1);const i=Number(n);return px(!isNaN(i)),new kx(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=vx(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,Lx,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Sx*this._chunkMultiplier,t=new kx(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=xx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(cL){return this._error=cL,void this._transition("error")}const o=this._ref.storage._makeRequest(s,Lx,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Sx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=bx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Lx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Ex(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Lx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=TS(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Nx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Ax(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Nx(this._state)){case Cx.SUCCESS:Rx(this._resolve.bind(null,this.snapshot))();break;case Cx.CANCELED:case Cx.ERROR:Rx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Nx(this._state)){case Cx.RUNNING:case Cx.PAUSED:e.next&&Rx(e.next.bind(e,this.snapshot))();break;case Cx.SUCCESS:e.complete&&Rx(e.complete.bind(e))();break;default:e.error&&Rx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Fx{constructor(e,t){this._service=e,this._location=t instanceof DS?t:DS.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fx(e,t)}get root(){const e=new DS(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nx(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new DS(this._location.bucket,e);return new Fx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw RS(e)}}function Ux(e){const t={prefixes:[],items:[]};return jx(e,t).then((()=>t))}async function jx(e,t,n){const r={pageToken:n},i=await Vx(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await jx(e,t,i.nextPageToken)}function Vx(e,t){null!=t&&"number"===typeof t.maxResults&&jS("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=wx(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Lx)}function zx(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=VS(t.fullServerUrl(),e.host,e._protocol),s=lx(n,r),o=e.maxOperationRetryTime,a=new fx(i,"PATCH",mx(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=yx(t),a}(e.storage,e._location,t,ox());return e.storage.makeRequestWithTokens(n,Lx)}function Bx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=VS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new fx(r,"GET",gx(e,n),i);return s.errorHandler=yx(t),s}(e.storage,e._location,ox());return e.storage.makeRequestWithTokens(t,Lx).then((e=>{if(null===e)throw new _S(ES.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function qx(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=VS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new fx(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=yx(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Lx)}function Hx(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new DS(e._location.bucket,n);return new Fx(e.storage,r)}function Kx(e,t){if(e instanceof Qx){const n=e;if(null==n._bucket)throw new _S(ES.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wS+"' property when initializing the app?");const r=new Fx(n,n._bucket);return null!=t?Kx(r,t):r}return void 0!==t?Hx(e,t):e}function Gx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Qx)return new Fx(e,t);throw NS("To use ref(service, url), the first argument must be a Storage instance.")}return Kx(e,t)}function Wx(e,t){const n=null===t||void 0===t?void 0:t[wS];return null==n?null:DS.makeFromBucketSpec(n,e)}class Qx{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=bS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?DS.makeFromBucketSpec(r,this._host):Wx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=DS.makeFromBucketSpec(this._url,e):this._bucket=Wx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fx(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new LS(AS());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=zS(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new qS(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Yx="@firebase/storage",$x="0.12.2",Xx="storage";function Jx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Mx(e,new ex(t),n)}(e=gn(e),t,n)}function Zx(e){return function(e){e._throwIfRoot("getMetadata");const t=bx(e.storage,e._location,ox());return e.storage.makeRequestWithTokens(t,Lx)}(e=gn(e))}function eT(e,t){return Gx(e=gn(e),t)}function tT(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Yt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function nT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Qx(r,i,s,n,ar)}tr(new vn(Xx,nT,"PUBLIC").setMultipleInstances(!0)),hr(Yx,$x,""),hr(Yx,$x,"esm2017");class rT{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class iT{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new rT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new rT(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new rT(e,this,this._ref)):{next:t.next?e=>t.next(new rT(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class sT{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new oT(e,this._service)))}get items(){return this._delegate.items.map((e=>new oT(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class oT{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Hx(e,t)}(this._delegate,e);return new oT(t,this.storage)}get root(){return new oT(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new oT(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new iT(Jx(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QS.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=$S(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new iT(new Mx(this._delegate,new ex(r.data,!0),i),this)}listAll(){return function(e){return Ux(e=gn(e))}(this._delegate).then((e=>new sT(e,this.storage)))}list(e){return function(e,t){return Vx(e=gn(e),t)}(this._delegate,e||void 0).then((e=>new sT(e,this.storage)))}getMetadata(){return Zx(this._delegate)}updateMetadata(e){return function(e,t){return zx(e=gn(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return Bx(e=gn(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return qx(e=gn(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw RS(e)}}class aT{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(cT(e))throw NS("ref() expected a child path but got a URL, use refFromURL instead.");return new oT(eT(this._delegate,e),this)}refFromURL(e){if(!cT(e))throw NS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{DS.makeFromUrl(e,this._delegate.host)}catch(cL){throw NS("refFromUrl() expected a valid full URL but got an invalid one.")}return new oT(eT(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tT(this._delegate,e,t,n)}}function cT(e){return/^[A-Za-z]+:\/\//.test(e)}function lT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new aT(r,i)}!function(e){const t={TaskState:Cx,TaskEvent:Tx,StringFormat:QS,Storage:aT,Reference:oT};e.INTERNAL.registerComponent(new vn("storage-compat",lT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.5")}(Rr);const uT=Rr.initializeApp({apiKey:"AIzaSyCbgA-g3D3cQlAg7bcydsyJtL_2O8NehRc",authDomain:"gugle-drive.firebaseapp.com",projectId:"gugle-drive",storageBucket:"gugle-drive.appspot.com",messagingSenderId:"277685492270",appId:"1:277685492270:web:29106a12bad8e90f50ddbf"}),dT=uT.firestore(),hT={folders:dT.collection("folders"),files:dT.collection("files"),formatDoc:e=>({id:e.id,...e.data()}),getCurrentTimestamp:Rr.firestore.FieldValue.serverTimestamp},fT=uT.storage(),pT=uT.auth(),mT=t.createContext();function gT(){return(0,t.useContext)(mT)}function vT(e){let{children:n}=e;const[r,i]=(0,t.useState)(),[s,a]=(0,t.useState)(!0);(0,t.useEffect)((()=>pT.onAuthStateChanged((e=>{i(e),a(!1)}))),[]);const c={currentUser:r,login:function(e,t){return pT.signInWithEmailAndPassword(e,t)},signup:function(e,t){return pT.createUserWithEmailAndPassword(e,t)},logout:function(){return pT.signOut()},resetPassword:function(e){return pT.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return(0,o.jsx)(mT.Provider,{value:c,children:!s&&n})}function yT(e){return"/"===e.charAt(0)}function bT(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const wT=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&yT(e),o=t&&yT(t),a=s||o;if(e&&yT(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,u=i.length;u>=0;u--){var d=i[u];"."===d?bT(i,u):".."===d?(bT(i,u),l++):l&&(bT(i,u),l--)}if(!a)for(;l--;l)i.unshift("..");!a||""===i[0]||i[0]&&yT(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function _T(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const ET=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=_T(t),i=_T(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var kT=!0,IT="Invariant failed";function ST(e,t){if(!e){if(kT)throw new Error(IT);var n="function"===typeof t?t():t,r=n?"".concat(IT,": ").concat(n):IT;throw new Error(r)}}function xT(e){return"/"===e.charAt(0)?e:"/"+e}function TT(e){return"/"===e.charAt(0)?e.substr(1):e}function CT(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function NT(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function AT(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function RT(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=U({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(cL){throw cL instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):cL}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=wT(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function PT(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"===typeof e?e(t,n):e;"string"===typeof s?"function"===typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var OT=!("undefined"===typeof window||!window.document||!window.document.createElement);function DT(e,t){t(window.confirm(e))}var LT="popstate",MT="hashchange";function FT(){try{return window.history.state||{}}catch(cL){return{}}}function UT(e){void 0===e&&(e={}),OT||ST(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,o=void 0!==s&&s,a=i.getUserConfirmation,c=void 0===a?DT:a,l=i.keyLength,u=void 0===l?6:l,d=e.basename?NT(xT(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return d&&(s=CT(s,d)),RT(s,r,n)}function f(){return Math.random().toString(36).substr(2,u)}var p=PT();function m(e){U(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(h(e.state))}function v(){b(h(FT()))}var y=!1;function b(e){if(y)y=!1,m();else{p.confirmTransitionTo(e,"POP",c,(function(t){t?m({action:"POP",location:e}):function(e){var t=T.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,k(i))}(e)}))}}var w=h(FT()),_=[w.key];function E(e){return d+AT(e)}function k(e){t.go(e)}var I=0;function S(e){1===(I+=e)&&1===e?(window.addEventListener(LT,g),r&&window.addEventListener(MT,v)):0===I&&(window.removeEventListener(LT,g),r&&window.removeEventListener(MT,v))}var x=!1;var T={length:t.length,action:"POP",location:w,createHref:E,push:function(e,r){var i="PUSH",s=RT(e,r,f(),T.location);p.confirmTransitionTo(s,i,c,(function(e){if(e){var r=E(s),a=s.key,c=s.state;if(n)if(t.pushState({key:a,state:c},null,r),o)window.location.href=r;else{var l=_.indexOf(T.location.key),u=_.slice(0,l+1);u.push(s.key),_=u,m({action:i,location:s})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",s=RT(e,r,f(),T.location);p.confirmTransitionTo(s,i,c,(function(e){if(e){var r=E(s),a=s.key,c=s.state;if(n)if(t.replaceState({key:a,state:c},null,r),o)window.location.replace(r);else{var l=_.indexOf(T.location.key);-1!==l&&(_[l]=s.key),m({action:i,location:s})}else window.location.replace(r)}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return x||(S(1),x=!0),function(){return x&&(x=!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return T}var jT="hashchange",VT={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+TT(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:TT,decodePath:xT},slash:{encodePath:xT,decodePath:xT}};function zT(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function BT(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function qT(e){window.location.replace(zT(window.location.href)+"#"+e)}function HT(e){void 0===e&&{},OT||ST(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?DT:r,s=n.hashType,o=void 0===s?"slash":s,a=e.basename?NT(xT(e.basename)):"",c=VT[o],l=c.encodePath,u=c.decodePath;function d(){var e=u(BT());return a&&CT(e,a),RT(e)}var h=PT();function f(e){U(S,e),S.length=t.length,h.notifyListeners(S.location,S.action)}var p=!1,m=null;function g(){var e=BT(),t=l(e);if(e!==t)qT(t);else{var n=d(),r=S.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===AT(n))return;null,function(e){if(p)!1,f();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?f({action:t,location:e}):function(e){var t=S.location,n=w.lastIndexOf(AT(t));-1===n&&0;var r=w.lastIndexOf(AT(e));-1===r&&0;var i=n-r;i&&(!0,_(i))}(e)}))}}(n)}}var v=BT(),y=l(v);v!==y&&qT(y);var b=d(),w=[AT(b)];function _(e){t.go(e)}var E=0;function k(e){1===(E+=e)&&1===e?window.addEventListener(jT,g):0===E&&window.removeEventListener(jT,g)}var I=!1;var S={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&zT(window.location.href),n+"#"+l(a+AT(e))},push:function(e,t){var n="PUSH",r=RT(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=AT(r),i=l(a+t);if(BT()!==i){t,function(e){window.location.hash=e}(i);var s=w.lastIndexOf(AT(S.location)),o=w.slice(0,s+1);o.push(t),o,f({action:n,location:r})}else f()}}))},replace:function(e,t){var n="REPLACE",r=RT(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=AT(r),i=l(a+t);BT()!==i&&(t,qT(i));var s=w.indexOf(AT(S.location));-1!==s&&(w[s]=t),f({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return I||(k(1),!0),function(){return I&&(!1,k(-1)),t()}},listen:function(e){var t=h.appendListener(e);return k(1),function(){k(-1),t()}}};return S}function KT(e,t,n){return Math.min(Math.max(e,t),n)}var GT=n(340),WT=n.n(GT),QT=(n(681),n(219),1073741823),YT="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var $T=t.createContext||function(e,n){var r,i,s="__create-react-context-"+function(){var e="__global_unique_id__";return YT[e]=(YT[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}ue(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):QT,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[s]=Ye().object.isRequired,r);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}ue(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?QT:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?QT:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return a.contextTypes=((i={})[s]=Ye().object,i),{Provider:o,Consumer:a}},XT=function(e){var t=$T();return t.displayName=e,t},JT=XT("Router-History"),ZT=XT("Router"),eC=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}ue(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(ZT.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(JT.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var tC=function(e){function t(){return e.apply(this,arguments)||this}ue(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var nC={},rC=1e4,iC=0;function sC(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(nC[e])return nC[e];var t=WT().compile(e);return iC<rC&&(nC[e]=t,iC++),t}(e)(t,{pretty:!0})}function oC(e){var n=e.computedMatch,r=e.to,i=e.push,s=void 0!==i&&i;return t.createElement(ZT.Consumer,null,(function(e){e||ST(!1);var i=e.history,o=e.staticContext,a=s?i.push:i.replace,c=RT(n?"string"===typeof r?sC(r,n.params):U({},r,{pathname:sC(r.pathname,n.params)}):r);return o?(a(c),null):t.createElement(tC,{onMount:function(){a(c)},onUpdate:function(e,t){var n=RT(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&ET(e.state,t.state)})(n,U({},c,{key:n.key}))||a(c)},to:r})}))}var aC={},cC=1e4,lC=0;function uC(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,o=n.strict,a=void 0!==o&&o,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=aC[n]||(aC[n]={});if(r[e])return r[e];var i=[],s={regexp:WT()(e,i,t),keys:i};return lC<cC&&(r[e]=s,lC++),s}(n,{end:s,strict:a,sensitive:l}),i=r.regexp,o=r.keys,c=i.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),h=e===u;return s&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var dC=function(e){function n(){return e.apply(this,arguments)||this}return ue(n,e),n.prototype.render=function(){var e=this;return t.createElement(ZT.Consumer,null,(function(n){n||ST(!1);var r=e.props.location||n.location,i=U({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?uC(r.pathname,e.props):n.match}),s=e.props,o=s.children,a=s.component,c=s.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(ZT.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:a?t.createElement(a,i):c?c(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function hC(e){return"/"===e.charAt(0)?e:"/"+e}function fC(e,t){if(!e)return t;var n=hC(e);return 0!==t.pathname.indexOf(n)?t:U({},t,{pathname:t.pathname.substr(n.length)})}function pC(e){return"string"===typeof e?e:AT(e)}function mC(e){return function(){ST(!1)}}function gC(){}t.Component;var vC=function(e){function n(){return e.apply(this,arguments)||this}return ue(n,e),n.prototype.render=function(){var e=this;return t.createElement(ZT.Consumer,null,(function(n){n||ST(!1);var r,i,s=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?uC(s.pathname,U({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:s,computedMatch:i}):null}))},n}(t.Component);var yC=t.useContext;function bC(){return yC(JT)}function wC(){return yC(ZT).location}var _C=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=UT(t.props),t}return ue(n,e),n.prototype.render=function(){return t.createElement(eC,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var EC=function(e,t){return"function"===typeof e?e(t):e},kC=function(e,t){return"string"===typeof e?RT(e,null,null,t):e},IC=function(e){return e},SC=t.forwardRef;"undefined"===typeof SC&&(SC=IC);var xC=SC((function(e,n){var r=e.innerRef,i=e.navigate,s=e.onClick,o=j(e,["innerRef","navigate","onClick"]),a=o.target,c=U({},o,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=IC!==SC&&n||r,t.createElement("a",c)}));var TC=SC((function(e,n){var r=e.component,i=void 0===r?xC:r,s=e.replace,o=e.to,a=e.innerRef,c=j(e,["component","replace","to","innerRef"]);return t.createElement(ZT.Consumer,null,(function(e){e||ST(!1);var r=e.history,l=kC(EC(o,e.location),e.location),u=l?r.createHref(l):"",d=U({},c,{href:u,navigate:function(){var t=EC(o,e.location),n=AT(e.location)===AT(kC(t));(s||n?r.replace:r.push)(t)}});return IC!==SC?d.ref=n||a:d.innerRef=a,t.createElement(i,d)}))})),CC=function(e){return e},NC=t.forwardRef;"undefined"===typeof NC&&(NC=CC);NC((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,s=e.activeClassName,o=void 0===s?"active":s,a=e.activeStyle,c=e.className,l=e.exact,u=e.isActive,d=e.location,h=e.sensitive,f=e.strict,p=e.style,m=e.to,g=e.innerRef,v=j(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(ZT.Consumer,null,(function(e){e||ST(!1);var r=d||e.location,s=kC(EC(m,r),r),y=s.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?uC(r.pathname,{path:b,exact:l,sensitive:h,strict:f}):null,_=!!(u?u(w,r):w),E="function"===typeof c?c(_):c,k="function"===typeof p?p(_):p;_&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,o),k=U({},k,a));var I=U({"aria-current":_&&i||null,className:E,style:k,to:s},v);return CC!==NC?I.ref=n||g:I.innerRef=g,t.createElement(TC,I)}))}));const AC=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:a,...c}=e;const l=h(n,"container"),u="string"===typeof r?"-".concat(r):"-fluid";return(0,o.jsx)(i,{ref:t,...c,className:s()(a,r?"".concat(l).concat(u):l)})}));AC.displayName="Container";const RC=AC;function PC(e){let{children:t}=e;return(0,o.jsx)(RC,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,o.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:t})})}function OC(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{signup:i}=gT(),[s,a]=(0,t.useState)(""),[c,l]=(0,t.useState)(!1),u=bC();return(0,o.jsxs)(PC,{children:[(0,o.jsx)(F,{children:(0,o.jsxs)(F.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),s&&(0,o.jsx)(et,{variant:"danger",children:s}),(0,o.jsxs)(Lt,{onSubmit:async function(t){if(t.preventDefault(),n.current.value!==r.current.value)return a("Passwords do not match");try{a(""),l(!0),await i(e.current.value,n.current.value),u.push("/")}catch{a("Failed to create an account")}l(!1)},children:[(0,o.jsxs)(Lt.Group,{id:"email",children:[(0,o.jsx)(Lt.Label,{children:"Email"}),(0,o.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,o.jsxs)(Lt.Group,{id:"password",children:[(0,o.jsx)(Lt.Label,{children:"Password"}),(0,o.jsx)(Lt.Control,{type:"password",ref:n,required:!0})]}),(0,o.jsxs)(Lt.Group,{id:"password-confirm",children:[(0,o.jsx)(Lt.Label,{children:"Password Confirmation"}),(0,o.jsx)(Lt.Control,{type:"password",ref:r,required:!0})]}),(0,o.jsx)(Ft,{disabled:c,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,o.jsx)(TC,{to:"/login",children:"Log In"})]})]})}function DC(){const[e,n]=(0,t.useState)(""),{currentUser:r,logout:i}=gT(),s=bC();return(0,o.jsxs)(PC,{children:[(0,o.jsx)(F,{children:(0,o.jsxs)(F.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),e&&(0,o.jsx)(et,{variant:"danger",children:e}),(0,o.jsx)("strong",{children:"Email:"})," ",r.email,(0,o.jsx)(TC,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"}),(0,o.jsx)(TC,{to:"/",className:"btn btn-secondary w-100 mt-3",children:"Back to Dashboard"})]})}),(0,o.jsx)("div",{className:"w-100 text-center mt-2",children:(0,o.jsx)(Ft,{variant:"link",onClick:async function(){n("");try{await i(),s.push("/login")}catch{n("Failed to log out")}},children:"Log Out"})})]})}function LC(){const e=(0,t.useRef)(),n=(0,t.useRef)(),{login:r}=gT(),[i,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(!1),l=bC();return(0,o.jsxs)(PC,{children:[(0,o.jsx)(F,{children:(0,o.jsxs)(F.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),i&&(0,o.jsx)(et,{variant:"danger",children:i}),(0,o.jsxs)(Lt,{onSubmit:async function(t){t.preventDefault();try{s(""),c(!0),await r(e.current.value,n.current.value),l.push("/")}catch{s("Failed to log in")}c(!1)},children:[(0,o.jsxs)(Lt.Group,{id:"email",children:[(0,o.jsx)(Lt.Label,{children:"Email"}),(0,o.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,o.jsxs)(Lt.Group,{id:"password",children:[(0,o.jsx)(Lt.Label,{children:"Password"}),(0,o.jsx)(Lt.Control,{type:"password",ref:n,required:!0})]}),(0,o.jsx)(Ft,{disabled:a,className:"w-100",type:"submit",children:"Log In"})]}),(0,o.jsx)("div",{className:"w-100 text-center mt-3",children:(0,o.jsx)(TC,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,o.jsx)(TC,{to:"/signup",children:"Sign Up"})]})]})}function MC(e){let{component:t,...n}=e;const{currentUser:r}=gT();return(0,o.jsx)(dC,{...n,render:e=>r?(0,o.jsx)(t,{...e}):(0,o.jsx)(oC,{to:"/login"})})}function FC(){const e=(0,t.useRef)(),{resetPassword:n}=gT(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[c,l]=(0,t.useState)(!1);return(0,o.jsxs)(PC,{children:[(0,o.jsx)(F,{children:(0,o.jsxs)(F.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&(0,o.jsx)(et,{variant:"danger",children:r}),s&&(0,o.jsx)(et,{variant:"success",children:s}),(0,o.jsxs)(Lt,{onSubmit:async function(t){t.preventDefault();try{a(""),i(""),l(!0),await n(e.current.value),a("Check your inbox for further instructions")}catch{i("Failed to reset password")}l(!1)},children:[(0,o.jsxs)(Lt.Group,{id:"email",children:[(0,o.jsx)(Lt.Label,{children:"Email"}),(0,o.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,o.jsx)(Ft,{disabled:c,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,o.jsx)("div",{className:"w-100 text-center mt-3",children:(0,o.jsx)(TC,{to:"/login",children:"Login"})})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,o.jsx)(TC,{to:"/signup",children:"Sign Up"})]})]})}function UC(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{currentUser:i,updatePassword:s,updateEmail:a}=gT(),[c,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=bC();return(0,o.jsxs)(PC,{children:[(0,o.jsx)(F,{children:(0,o.jsxs)(F.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),c&&(0,o.jsx)(et,{variant:"danger",children:c}),(0,o.jsxs)(Lt,{onSubmit:function(t){if(t.preventDefault(),n.current.value!==r.current.value)return l("Passwords do not match");const o=[];d(!0),l(""),e.current.value!==i.email&&o.push(a(e.current.value)),n.current.value&&o.push(s(n.current.value)),Promise.all(o).then((()=>{h.push("/user")})).catch((()=>{l("Failed to update account")})).finally((()=>{d(!1)}))},children:[(0,o.jsxs)(Lt.Group,{id:"email",children:[(0,o.jsx)(Lt.Label,{children:"Email"}),(0,o.jsx)(Lt.Control,{type:"email",ref:e,required:!0,defaultValue:i.email})]}),(0,o.jsxs)(Lt.Group,{id:"password",children:[(0,o.jsx)(Lt.Label,{children:"Password"}),(0,o.jsx)(Lt.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),(0,o.jsxs)(Lt.Group,{id:"password-confirm",children:[(0,o.jsx)(Lt.Label,{children:"Password Confirmation"}),(0,o.jsx)(Lt.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),(0,o.jsx)(Ft,{disabled:u,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,o.jsx)("div",{className:"w-100 text-center mt-2",children:(0,o.jsx)(TC,{to:"/user",children:"Cancel"})})]})}const jC={SELECT_FOLDER:"select-folder",UPDATE_FOLDER:"update-folder",SET_CHILD_FOLDERS:"set-child-folders",SET_CHILD_FILES:"set-child-files"},VC={name:"Root",id:null,path:[]};function zC(e,t){let{type:n,payload:r}=t;switch(n){case jC.SELECT_FOLDER:return{folderId:r.folderId,folder:r.folder,childFiles:[],childFolders:[]};case jC.UPDATE_FOLDER:return{...e,folder:r.folder};case jC.SET_CHILD_FOLDERS:return{...e,childFolders:r.childFolders};case jC.SET_CHILD_FILES:return{...e,childFiles:r.childFiles};default:return e}}var BC;function qC(e){if((!BC&&0!==BC||e)&&Ne){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),BC=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return BC}function HC(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function KC(e){void 0===e&&(e=Ee());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(cL){return e.body}}function GC(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const WC="data-rr-ui-";function QC(e){return"".concat(WC).concat(e)}const YC=QC("modal-open");const $C=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Ce(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(YC,""),Ce(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(YC),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},XC=(0,t.createContext)(Ne?window:void 0);XC.Provider;function JC(){return(0,t.useContext)(XC)}const ZC=(e,t)=>Ne?null==e?(t||Ee()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const eN=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,t.useRef)(null),c=(0,t.useRef)(r),l=W(i);(0,t.useEffect)((()=>{r?c.current=!0:l(a.current)}),[r,l]);const u=Be(a,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:o||!c.current&&s?null:d},tN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function nN(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:c,children:l}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tN);const d=(0,t.useRef)(null),h=Be(d,"function"===typeof l?null:l.ref),f=e=>t=>{e&&d.current&&e(d.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(s),[s]),y=(0,t.useCallback)(f(o),[o]),b=(0,t.useCallback)(f(a),[a]),w=(0,t.useCallback)(f(c),[c]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},s&&{onExit:v},o&&{onExiting:y},a&&{onExited:b},c&&{addEndListener:w},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(l,{ref:h})})}const rN=["component"];const iN=t.forwardRef(((e,t)=>{let{component:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,rN);const i=nN(r);return(0,o.jsx)(n,Object.assign({ref:t},i))})),sN=iN;function oN(e){let{children:n,in:r,onExited:i,onEntered:s,transition:o}=e;const[a,c]=(0,t.useState)(!r);r&&a&&c(!1);const l=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),o=W(r);return Z((()=>{if(!i.current)return;let e=!1;return o({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),Z((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(t=>{throw e.in||c(!0),t}))}}),u=Be(l,n.ref);return a&&!r?null:(0,t.cloneElement)(n,{ref:u})}function aN(e,t,n){return e?(0,o.jsx)(sN,Object.assign({},n,{component:e})):t?(0,o.jsx)(oN,Object.assign({},n,{transition:t})):(0,o.jsx)(eN,Object.assign({},n))}const cN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let lN;function uN(e){const n=JC(),r=e||function(e){return lN||(lN=new $C({ownerDocument:null==e?void 0:e.document})),lN}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const dN=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:s,style:a,children:c,backdrop:l=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,renderDialog:_,renderBackdrop:E=(e=>(0,o.jsx)("div",Object.assign({},e))),manager:k,container:I,onShow:S,onHide:x=(()=>{}),onExit:T,onExited:C,onExiting:N,onEnter:A,onEntering:R,onEntered:P}=e,O=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cN);const D=JC(),L=function(e,n){const r=JC(),[i,s]=(0,t.useState)((()=>ZC(e,null==r?void 0:r.document)));if(!i){const t=ZC(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=ZC(e);t!==i&&s(t)}),[e,i]),i}(I),M=uN(k),F=X(),U=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[j,V]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>M),[M]),Ne&&!U&&r&&(z.current=KC(null==D?void 0:D.document)),r&&j&&V(!1);const B=W((()=>{if(M.add(),Y.current=Le(document,"keydown",G),Q.current=Le(document,"focus",(()=>setTimeout(H)),!0),S&&S(),v){var e,t;const n=KC(null!=(e=null==(t=M.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);M.dialog&&n&&!GC(M.dialog,n)&&(z.current=n,M.dialog.focus())}})),q=W((()=>{var e;(M.remove(),null==Y.current||Y.current(),null==Q.current||Q.current(),b)&&(null==(e=z.current)||null==e.focus||e.focus(w),z.current=null)}));(0,t.useEffect)((()=>{r&&L&&B()}),[r,L,B]),(0,t.useEffect)((()=>{j&&q()}),[j,q]),HC((()=>{q()}));const H=W((()=>{if(!y||!F()||!M.isTopModal())return;const e=KC(null==D?void 0:D.document);M.dialog&&e&&!GC(M.dialog,e)&&M.dialog.focus()})),K=W((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===l&&x())})),G=W((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&M.isTopModal()&&(null==h||h(e),e.defaultPrevented||x())})),Q=(0,t.useRef)(),Y=(0,t.useRef)();if(!L)return null;const $=Object.assign({role:i,ref:M.setDialogRef,"aria-modal":"dialog"===i||void 0},O,{style:a,className:s,tabIndex:-1});let J=_?_($):(0,o.jsx)("div",Object.assign({},$,{children:t.cloneElement(c,{role:"document"})}));J=aN(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:T,onExiting:N,onExited:function(){V(!0),null==C||C(...arguments)},onEnter:A,onEntering:R,onEntered:P,children:J});let Z=null;return l&&(Z=E({ref:M.setBackdropRef,onClick:K}),Z=aN(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Z})),(0,o.jsx)(o.Fragment,{children:de.createPortal((0,o.jsxs)(o.Fragment,{children:[Z,J]}),L)})}));dN.displayName="Modal";const hN=Object.assign(dN,{Manager:$C});var fN=Function.prototype.bind.call(Function.prototype.call,[].slice);function pN(e,t){return fN(e.querySelectorAll(t))}function mN(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const gN=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vN=".sticky-top",yN=".navbar-toggler";class bN extends $C{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Ce(t,{[e]:"".concat(parseFloat(Ce(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ce(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";pN(t,gN).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),pN(t,vN).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),pN(t,yN).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=mN(n.className,r):n.setAttribute("class",mN(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";pN(t,gN).forEach((e=>this.restore(i,e))),pN(t,vN).forEach((e=>this.restore(s,e))),pN(t,yN).forEach((e=>this.restore(s,e)))}}let wN;function _N(e){return wN||(wN=new bN(e)),wN}const EN=bN,kN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"modal-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));kN.displayName="ModalBody";const IN=kN,SN=t.createContext({onHide(){}}),xN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:c,fullscreen:l,children:u,scrollable:d,...f}=e;n=h(n,"modal");const p="".concat(n,"-dialog"),m="string"===typeof l?"".concat(n,"-fullscreen-").concat(l):"".concat(n,"-fullscreen");return(0,o.jsx)("div",{...f,ref:t,className:s()(p,r,c&&"".concat(n,"-").concat(c),a&&"".concat(p,"-centered"),d&&"".concat(p,"-scrollable"),l&&m),children:(0,o.jsx)("div",{className:s()("".concat(n,"-content"),i),children:u})})}));xN.displayName="ModalDialog";const TN=xN,CN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"modal-footer"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));CN.displayName="ModalFooter";const NN=CN,AN=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:c,...l}=e;const u=(0,t.useContext)(SN),d=W((()=>{null==u||u.onHide(),null==a||a()}));return(0,o.jsxs)("div",{ref:n,...l,children:[c,s&&(0,o.jsx)(Je,{"aria-label":r,variant:i,onClick:d})]})})),RN=AN,PN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...c}=e;return n=h(n,"modal-header"),(0,o.jsx)(RN,{ref:t,...c,className:s()(r,n),closeLabel:i,closeButton:a})}));PN.displayName="ModalHeader";const ON=PN,DN=T("h4"),LN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=DN,...a}=e;return r=h(r,"modal-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));LN.displayName="ModalTitle";const MN=LN;function FN(e){return(0,o.jsx)(We,{...e,timeout:null})}function UN(e){return(0,o.jsx)(We,{...e,timeout:null})}const jN=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:c,contentClassName:u,children:d,dialogAs:f=TN,"data-bs-theme":p,"aria-labelledby":m,"aria-describedby":g,"aria-label":v,show:y=!1,animation:b=!0,backdrop:w=!0,keyboard:_=!0,onEscapeKeyDown:E,onShow:k,onHide:I,container:S,autoFocus:x=!0,enforceFocus:T=!0,restoreFocus:C=!0,restoreFocusOptions:N,onEntered:A,onExit:R,onExiting:P,onEnter:O,onEntering:D,onExited:L,backdropClassName:M,manager:F,...U}=e;const[j,V]=(0,t.useState)({}),[z,B]=(0,t.useState)(!1),q=(0,t.useRef)(!1),H=(0,t.useRef)(!1),K=(0,t.useRef)(null),[G,Q]=(0,t.useState)(null),Y=Be(n,Q),$=W(I),X=function(){const{dir:e}=(0,t.useContext)(l);return"rtl"===e}();r=h(r,"modal");const J=(0,t.useMemo)((()=>({onHide:$})),[$]);function Z(){return F||_N({isRTL:X})}function ee(e){if(!Ne)return;const t=Z().getScrollbarWidth()>0,n=e.scrollHeight>Ee(e).documentElement.clientHeight;V({paddingRight:t&&!n?qC():void 0,paddingLeft:!t&&n?qC():void 0})}const te=W((()=>{G&&ee(G.dialog)}));HC((()=>{De(window,"resize",te),null==K.current||K.current()}));const ne=()=>{q.current=!0},re=e=>{q.current&&G&&e.target===G.dialog&&(H.current=!0),q.current=!1},ie=()=>{B(!0),K.current=Fe(G.dialog,(()=>{B(!1)}))},se=e=>{"static"!==w?H.current||e.target!==e.currentTarget?H.current=!1:null==I||I():(e=>{e.target===e.currentTarget&&ie()})(e)},oe=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()("".concat(r,"-backdrop"),M,!b&&"show")})),[b,M,r]),ae={...a,...j};ae.display="block";return(0,o.jsx)(SN.Provider,{value:J,children:(0,o.jsx)(hN,{show:y,ref:Y,backdrop:w,container:S,keyboard:!0,autoFocus:x,enforceFocus:T,restoreFocus:C,restoreFocusOptions:N,onEscapeKeyDown:e=>{_?null==E||E(e):(e.preventDefault(),"static"===w&&ie())},onShow:k,onHide:I,onEnter:(e,t)=>{e&&ee(e),null==O||O(e,t)},onEntering:(e,t)=>{null==D||D(e,t),Oe(window,"resize",te)},onEntered:A,onExit:e=>{null==K.current||K.current(),null==R||R(e)},onExiting:P,onExited:e=>{e&&(e.style.display=""),null==L||L(e),De(window,"resize",te)},manager:Z(),transition:b?FN:void 0,backdropTransition:b?UN:void 0,renderBackdrop:oe,renderDialog:e=>(0,o.jsx)("div",{role:"dialog",...e,style:ae,className:s()(i,r,z&&"".concat(r,"-static"),!b&&"show"),onClick:w?se:void 0,onMouseUp:re,"data-bs-theme":p,"aria-label":v,"aria-labelledby":m,"aria-describedby":g,children:(0,o.jsx)(f,{...U,onMouseDown:ne,className:c,contentClassName:u,children:d})})})})}));jN.displayName="Modal";const VN=Object.assign(jN,{Body:IN,Header:ON,Title:MN,Footer:NN,Dialog:TN,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zN(Object(n),!0).forEach((function(t){KN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qN(e){return qN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qN(e)}function HN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(c){a=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||QN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WN(e){return function(e){if(Array.isArray(e))return YN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QN(e,t){if(e){if("string"===typeof e)return YN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YN(e,t):void 0}}function YN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $N=function(){},XN={},JN={},ZN=null,eA={mark:$N,measure:$N};try{"undefined"!==typeof window&&(XN=window),"undefined"!==typeof document&&(JN=document),"undefined"!==typeof MutationObserver&&(ZN=MutationObserver),"undefined"!==typeof performance&&(eA=performance)}catch(cL){}var tA,nA,rA,iA,sA,oA=(XN.navigator||{}).userAgent,aA=void 0===oA?"":oA,cA=XN,lA=JN,uA=ZN,dA=eA,hA=(cA.document,!!lA.documentElement&&!!lA.head&&"function"===typeof lA.addEventListener&&"function"===typeof lA.createElement),fA=~aA.indexOf("MSIE")||~aA.indexOf("Trident/"),pA="___FONT_AWESOME___",mA=16,gA="fa",vA="svg-inline--fa",yA="data-fa-i2svg",bA="data-fa-pseudo-element",wA="data-fa-pseudo-element-pending",_A="data-prefix",EA="data-icon",kA="fontawesome-i2svg",IA="async",SA=["HTML","HEAD","STYLE","SCRIPT"],xA=function(){try{return!0}catch(cL){return!1}}(),TA="classic",CA="sharp",NA=[TA,CA];function AA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[TA]}})}var RA=AA((KN(tA={},TA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),KN(tA,CA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),tA)),PA=AA((KN(nA={},TA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),KN(nA,CA,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),nA)),OA=AA((KN(rA={},TA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),KN(rA,CA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),rA)),DA=AA((KN(iA={},TA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),KN(iA,CA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),iA)),LA=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,MA="fa-layers-text",FA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,UA=AA((KN(sA={},TA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),KN(sA,CA,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),sA)),jA=[1,2,3,4,5,6,7,8,9,10],VA=jA.concat([11,12,13,14,15,16,17,18,19,20]),zA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],BA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qA=new Set;Object.keys(PA[TA]).map(qA.add.bind(qA)),Object.keys(PA[CA]).map(qA.add.bind(qA));var HA=[].concat(NA,WN(qA),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",BA.GROUP,BA.SWAP_OPACITY,BA.PRIMARY,BA.SECONDARY]).concat(jA.map((function(e){return"".concat(e,"x")}))).concat(VA.map((function(e){return"w-".concat(e)}))),KA=cA.FontAwesomeConfig||{};if(lA&&"function"===typeof lA.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=GN(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=lA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(KA[r]=i)}))}var GA={styleDefault:"solid",familyDefault:"classic",cssPrefix:gA,replacementClass:vA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};KA.familyPrefix&&(KA.cssPrefix=KA.familyPrefix);var WA=BN(BN({},GA),KA);WA.autoReplaceSvg||(WA.observeMutations=!1);var QA={};Object.keys(GA).forEach((function(e){Object.defineProperty(QA,e,{enumerable:!0,set:function(t){WA[e]=t,YA.forEach((function(e){return e(QA)}))},get:function(){return WA[e]}})})),Object.defineProperty(QA,"familyPrefix",{enumerable:!0,set:function(e){WA.cssPrefix=e,YA.forEach((function(e){return e(QA)}))},get:function(){return WA.cssPrefix}}),cA.FontAwesomeConfig=QA;var YA=[];var $A=mA,XA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var JA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ZA(){for(var e=12,t="";e-- >0;)t+=JA[62*Math.random()|0];return t}function eR(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function tR(e){return e.classList?eR(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function nR(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rR(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function iR(e){return e.size!==XA.size||e.x!==XA.x||e.y!==XA.y||e.rotate!==XA.rotate||e.flipX||e.flipY}var sR=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function oR(){var e=gA,t=vA,n=QA.cssPrefix,r=QA.replacementClass,i=sR;if(n!==e||r!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var aR=!1;function cR(){QA.autoAddCss&&!aR&&(!function(e){if(e&&hA){var t=lA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=lA.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}lA.head.insertBefore(t,r)}}(oR()),aR=!0)}var lR={mixout:function(){return{dom:{css:oR,insertCss:cR}}},hooks:function(){return{beforeDOMElementCreation:function(){cR()},beforeI2svg:function(){cR()}}}},uR=cA||{};uR[pA]||(uR[pA]={}),uR[pA].styles||(uR[pA].styles={}),uR[pA].hooks||(uR[pA].hooks={}),uR[pA].shims||(uR[pA].shims=[]);var dR=uR[pA],hR=[],fR=!1;function pR(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,s=void 0===i?[]:i;return"string"===typeof e?nR(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(nR(e[n]),'" ')}),"").trim()}(r),">").concat(s.map(pR).join(""),"</").concat(t,">")}function mR(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}hA&&((fR=(lA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lA.readyState))||lA.addEventListener("DOMContentLoaded",(function e(){lA.removeEventListener("DOMContentLoaded",e),fR=1,hR.map((function(e){return e()}))})));var gR=function(e,t,n,r){var i,s,o,a=Object.keys(e),c=a.length,l=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,o=e[a[0]]):(i=0,o=n);i<c;i++)o=l(o,e[s=a[i]],s,e);return o};function vR(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function yR(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function bR(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=yR(t);"function"!==typeof dR.hooks.addPack||r?dR.styles[e]=BN(BN({},dR.styles[e]||{}),i):dR.hooks.addPack(e,yR(t)),"fas"===e&&bR("fa",t)}var wR,_R,ER,kR=dR.styles,IR=dR.shims,SR=(KN(wR={},TA,Object.values(OA[TA])),KN(wR,CA,Object.values(OA[CA])),wR),xR=null,TR={},CR={},NR={},AR={},RR={},PR=(KN(_R={},TA,Object.keys(RA[TA])),KN(_R,CA,Object.keys(RA[CA])),_R);function OR(e,t){var n,r=t.split("-"),i=r[0],s=r.slice(1).join("-");return i!==e||""===s||(n=s,~HA.indexOf(n))?null:s}var DR=function(){var e=function(e){return gR(kR,(function(t,n,r){return t[r]=gR(n,e,{}),t}),{})};TR=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),CR=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),RR=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in kR||QA.autoFetchSvg,n=gR(IR,(function(e,n){var r=n[0],i=n[1],s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});NR=n.names,AR=n.unicodes,xR=VR(QA.styleDefault,{family:QA.familyDefault})};function LR(e,t){return(TR[e]||{})[t]}function MR(e,t){return(RR[e]||{})[t]}function FR(e){return NR[e]||{prefix:null,iconName:null}}function UR(){return xR}!function(e){YA.push(e)}((function(e){xR=VR(e.styleDefault,{family:QA.familyDefault})})),DR();var jR=function(){return{prefix:null,iconName:null,rest:[]}};function VR(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?TA:t,r=RA[n][e],i=PA[n][e]||PA[n][r],s=e in dR.styles?e:null;return i||s||null}var zR=(KN(ER={},TA,Object.keys(OA[TA])),KN(ER,CA,Object.keys(OA[CA])),ER);function BR(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(KN(t={},TA,"".concat(QA.cssPrefix,"-").concat(TA)),KN(t,CA,"".concat(QA.cssPrefix,"-").concat(CA)),t),s=null,o=TA;(e.includes(i[TA])||e.some((function(e){return zR[TA].includes(e)})))&&(o=TA),(e.includes(i[CA])||e.some((function(e){return zR[CA].includes(e)})))&&(o=CA);var a=e.reduce((function(e,t){var n=OR(QA.cssPrefix,t);if(kR[t]?(t=SR[o].includes(t)?DA[o][t]:t,s=t,e.prefix=t):PR[o].indexOf(t)>-1?(s=t,e.prefix=VR(t,{family:o})):n?e.iconName=n:t!==QA.replacementClass&&t!==i[TA]&&t!==i[CA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===s?FR(e.iconName):{},c=MR(e.prefix,e.iconName);a.prefix&&(s=null),e.iconName=a.iconName||c||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||kR.far||!kR.fas||QA.autoFetchSvg||(e.prefix="fas")}return e}),jR());return(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(a.prefix="fad"),a.prefix||o!==CA||!kR.fass&&!QA.autoFetchSvg||(a.prefix="fass",a.iconName=MR(a.prefix,a.iconName)||a.iconName),"fa"!==a.prefix&&"fa"!==s||(a.prefix=UR()||"fas"),a}var qR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=BN(BN({},e.definitions[t]||{}),i[t]),bR(t,i[t]);var n=OA[TA][t];n&&bR(n,i[t]),DR()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,s=r.iconName,o=r.icon,a=o[2];e[i]||(e[i]={}),a.length>0&&a.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][s]=o})),e}}],n&&HN(t.prototype,n),r&&HN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),HR=[],KR={},GR={},WR=Object.keys(GR);function QR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(KR[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function YR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(KR[e]||[]).forEach((function(e){e.apply(null,n)}))}function $R(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return GR[e]?GR[e].apply(null,t):void 0}function XR(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||UR();if(t)return t=MR(n,t)||t,mR(JR.definitions,n,t)||mR(dR.styles,n,t)}var JR=new qR,ZR={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hA?(YR("beforeI2svg",e),$R("pseudoElements2svg",e),$R("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===QA.autoReplaceSvg&&(QA.autoReplaceSvg=!0),QA.observeMutations=!0,e=function(){nP({autoReplaceSvgRoot:n}),YR("watch",t)},hA&&(fR?setTimeout(e,0):hR.push(e))}},eP={icon:function(e){if(null===e)return null;if("object"===qN(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:MR(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=VR(e[0]);return{prefix:n,iconName:MR(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(QA.cssPrefix,"-"))>-1||e.match(LA))){var r=BR(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||UR(),iconName:MR(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=UR();return{prefix:i,iconName:MR(i,e)||e}}}},tP={noAuto:function(){QA.autoReplaceSvg=!1,QA.observeMutations=!1,YR("noAuto")},config:QA,dom:ZR,parse:eP,library:JR,findIconDefinition:XR,toHtml:pR},nP=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?lA:e;(Object.keys(dR.styles).length>0||QA.autoFetchSvg)&&hA&&QA.autoReplaceSvg&&tP.dom.i2svg({node:t})};function rP(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return pR(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(hA){var t=lA.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function iP(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,s=e.iconName,o=e.transform,a=e.symbol,c=e.title,l=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=[QA.replacementClass,s?"".concat(QA.cssPrefix,"-").concat(s):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:BN(BN({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(b.attributes[yA]=""),c&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||ZA())},children:[c]}),delete b.attributes.title);var _=BN(BN({},b),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:BN(BN({},w),d.styles)}),E=r.found&&n.found?$R("generateAbstractMask",_)||{children:[],attributes:{}}:$R("generateAbstractIcon",_)||{children:[],attributes:{}},k=E.children,I=E.attributes;return _.children=k,_.attributes=I,a?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,s=e.symbol,o=!0===s?"".concat(t,"-").concat(QA.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:BN(BN({},i),{},{id:o}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,s=e.styles,o=e.transform;if(iR(o)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=rR(BN(BN({},s),{},{"transform-origin":"".concat(a.x+o.x/16,"em ").concat(a.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function sP(e){var t=e.content,n=e.width,r=e.height,i=e.transform,s=e.title,o=e.extra,a=e.watchable,c=void 0!==a&&a,l=BN(BN(BN({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[yA]="");var u=BN({},o.styles);iR(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?mA:n,i=e.height,s=void 0===i?mA:i,o=e.startCentered,a=void 0!==o&&o,c="";return c+=a&&fA?"translate(".concat(t.x/$A-r/2,"em, ").concat(t.y/$A-s/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/$A,"em), calc(-50% + ").concat(t.y/$A,"em)) "):"translate(".concat(t.x/$A,"em, ").concat(t.y/$A,"em) "),c+="scale(".concat(t.size/$A*(t.flipX?-1:1),", ").concat(t.size/$A*(t.flipY?-1:1),") "),c+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=rR(u);d.length>0&&(l.style=d);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}var oP=dR.styles;function aP(e){var t=e[0],n=e[1],r=GN(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(QA.cssPrefix,"-").concat(BA.GROUP)},children:[{tag:"path",attributes:{class:"".concat(QA.cssPrefix,"-").concat(BA.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(QA.cssPrefix,"-").concat(BA.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var cP={found:!1,width:512,height:512};function lP(e,t){var n=t;return"fa"===t&&null!==QA.styleDefault&&(t=UR()),new Promise((function(r,i){$R("missingIconAbstract");if("fa"===n){var s=FR(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&oP[t]&&oP[t][e])return r(aP(oP[t][e]));!function(e,t){xA||QA.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(BN(BN({},cP),{},{icon:QA.showMissingIcons&&e&&$R("missingIconAbstract")||{}}))}))}var uP=function(){},dP=QA.measurePerformance&&dA&&dA.mark&&dA.measure?dA:{mark:uP,measure:uP},hP='FA "6.5.1"',fP=function(e){dP.mark("".concat(hP," ").concat(e," ends")),dP.measure("".concat(hP," ").concat(e),"".concat(hP," ").concat(e," begins"),"".concat(hP," ").concat(e," ends"))},pP={begin:function(e){return dP.mark("".concat(hP," ").concat(e," begins")),function(){return fP(e)}},end:fP},mP=function(){};function gP(e){return"string"===typeof(e.getAttribute?e.getAttribute(yA):null)}function vP(e){return lA.createElementNS("http://www.w3.org/2000/svg",e)}function yP(e){return lA.createElement(e)}function bP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?vP:yP:t;if("string"===typeof e)return lA.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(bP(e,{ceFn:n}))})),r}var wP={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(bP(e),t)})),null===t.getAttribute(yA)&&QA.keepOriginalSource){var n=lA.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~tR(t).indexOf(QA.replacementClass))return wP.replace(e);var r=new RegExp("".concat(QA.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===QA.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var s=n.map((function(e){return pR(e)})).join("\n");t.setAttribute(yA,""),t.innerHTML=s}};function _P(e){e()}function EP(e,t){var n="function"===typeof t?t:mP;if(0===e.length)n();else{var r=_P;QA.mutateApproach===IA&&(r=cA.requestAnimationFrame||_P),r((function(){var t=!0===QA.autoReplaceSvg?wP.replace:wP[QA.autoReplaceSvg]||wP.replace,r=pP.begin("mutate");e.map(t),r(),n()}))}}var kP=!1;function IP(){kP=!0}function SP(){kP=!1}var xP=null;function TP(e){if(uA&&QA.observeMutations){var t=e.treeCallback,n=void 0===t?mP:t,r=e.nodeCallback,i=void 0===r?mP:r,s=e.pseudoElementsCallback,o=void 0===s?mP:s,a=e.observeMutationsRoot,c=void 0===a?lA:a;xP=new uA((function(e){if(!kP){var t=UR();eR(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!gP(e.addedNodes[0])&&(QA.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&QA.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&gP(e.target)&&~zA.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(_A):null,n=e.getAttribute?e.getAttribute(EA):null;return t&&n}(e.target)){var r=BR(tR(e.target)),s=r.prefix,a=r.iconName;e.target.setAttribute(_A,s||t),a&&e.target.setAttribute(EA,a)}else(c=e.target)&&c.classList&&c.classList.contains&&c.classList.contains(QA.replacementClass)&&i(e.target);var c}))}})),hA&&xP.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function CP(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=BR(tR(e));return i.prefix||(i.prefix=UR()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(CR[e]||{})[t]}(i.prefix,e.innerText)||LR(i.prefix,vR(e.innerText))),!i.iconName&&QA.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function NP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=CP(e),r=n.iconName,i=n.prefix,s=n.rest,o=function(e){var t=eR(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return QA.autoA11y&&(n?t["aria-labelledby"]="".concat(QA.replacementClass,"-title-").concat(r||ZA()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),a=QR("parseNodeAttributes",{},e),c=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return BN({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:XA,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var AP=dR.styles;function RP(e){var t="nest"===QA.autoReplaceSvg?NP(e,{styleParser:!1}):NP(e);return~t.extra.classes.indexOf(MA)?$R("generateLayersText",e,t):$R("generateSvgReplacementMutation",e,t)}var PP=new Set;function OP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!hA)return Promise.resolve();var n=lA.documentElement.classList,r=function(e){return n.add("".concat(kA,"-").concat(e))},i=function(e){return n.remove("".concat(kA,"-").concat(e))},s=QA.autoFetchSvg?PP:NA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(AP));s.includes("fa")||s.push("fa");var o=[".".concat(MA,":not([").concat(yA,"])")].concat(s.map((function(e){return".".concat(e,":not([").concat(yA,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=eR(e.querySelectorAll(o))}catch(cL){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=pP.begin("onTree"),l=a.reduce((function(e,t){try{var n=RP(t);n&&e.push(n)}catch(cL){xA||"MissingIcon"===cL.name&&console.error(cL)}return e}),[]);return new Promise((function(e,n){Promise.all(l).then((function(n){EP(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((function(e){c(),n(e)}))}))}function DP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;RP(e).then((function(e){e&&EP([e],t)}))}NA.map((function(e){PP.add("fa-".concat(e))})),Object.keys(RA[TA]).map(PP.add.bind(PP)),Object.keys(RA[CA]).map(PP.add.bind(PP)),PP=WN(PP);var LP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?XA:n,i=t.symbol,s=void 0!==i&&i,o=t.mask,a=void 0===o?null:o,c=t.maskId,l=void 0===c?null:c,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,_=e.iconName,E=e.icon;return rP(BN({type:"icon"},e),(function(){return YR("beforeDOMElementCreation",{iconDefinition:e,params:t}),QA.autoA11y&&(d?v["aria-labelledby"]="".concat(QA.replacementClass,"-title-").concat(f||ZA()):(v["aria-hidden"]="true",v.focusable="false")),iP({icons:{main:aP(E),mask:a?aP(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:BN(BN({},XA),r),symbol:s,title:d,maskId:l,titleId:f,extra:{attributes:v,styles:b,classes:m}})}))}},MP={mixout:function(){return{icon:(e=LP,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:XR(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:XR(i||{})),e(r,BN(BN({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=OP,e.nodeCallback=DP,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?lA:t,r=e.callback;return OP(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,s=t.prefix,o=t.transform,a=t.symbol,c=t.mask,l=t.maskId,u=t.extra;return new Promise((function(t,d){Promise.all([lP(n,s),c.iconName?lP(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var d=GN(c,2),h=d[0],f=d[1];t([e,iP({icons:{main:h,mask:f},prefix:s,iconName:n,transform:o,symbol:a,maskId:l,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.transform,o=rR(e.styles);return o.length>0&&(r.style=o),iR(s)&&(t=$R("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},FP={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return rP({type:"layer"},(function(){YR("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(QA.cssPrefix,"-layers")].concat(WN(r)).join(" ")},children:n}]}))}}}},UP={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,s=void 0===i?[]:i,o=t.attributes,a=void 0===o?{}:o,c=t.styles,l=void 0===c?{}:c;return rP({type:"counter",content:e},(function(){return YR("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=BN(BN(BN({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=rR(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:a,styles:l,classes:["".concat(QA.cssPrefix,"-layers-counter")].concat(WN(s))}})}))}}}},jP={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?XA:n,i=t.title,s=void 0===i?null:i,o=t.classes,a=void 0===o?[]:o,c=t.attributes,l=void 0===c?{}:c,u=t.styles,d=void 0===u?{}:u;return rP({type:"text",content:e},(function(){return YR("beforeDOMElementCreation",{content:e,params:t}),sP({content:e,transform:BN(BN({},XA),r),title:s,extra:{attributes:l,styles:d,classes:["".concat(QA.cssPrefix,"-layers-text")].concat(WN(a))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,s=null,o=null;if(fA){var a=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();s=c.width/a,o=c.height/a}return QA.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,sP({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},VP=new RegExp('"',"ug"),zP=[1105920,1112319];function BP(e,t){var n="".concat(wA).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var s=eR(e.children).filter((function(e){return e.getAttribute(bA)===t}))[0],o=cA.getComputedStyle(e,t),a=o.getPropertyValue("font-family").match(FA),c=o.getPropertyValue("font-weight"),l=o.getPropertyValue("content");if(s&&!a)return e.removeChild(s),r();if(a&&"none"!==l&&""!==l){var u=o.getPropertyValue("content"),d=~["Sharp"].indexOf(a[2])?CA:TA,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(a[2])?PA[d][a[2].toLowerCase()]:UA[d][c],f=function(e){var t=e.replace(VP,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=zP[0]&&n<=zP[1],i=2===t.length&&t[0]===t[1];return{value:vR(i?t[0]:t),isSecondary:r||i}}(u),p=f.value,m=f.isSecondary,g=a[0].startsWith("FontAwesome"),v=LR(h,p),y=v;if(g){var b=function(e){var t=AR[e],n=LR("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(v=b.iconName,h=b.prefix)}if(!v||m||s&&s.getAttribute(_A)===h&&s.getAttribute(EA)===y)r();else{e.setAttribute(n,y),s&&e.removeChild(s);var w={iconName:null,title:null,titleId:null,prefix:null,transform:XA,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=w.extra;_.attributes[bA]=t,lP(v,h).then((function(i){var s=iP(BN(BN({},w),{},{icons:{main:i,mask:jR()},prefix:h,iconName:y,extra:_,watchable:!0})),o=lA.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=s.map((function(e){return pR(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function qP(e){return Promise.all([BP(e,"::before"),BP(e,"::after")])}function HP(e){return e.parentNode!==document.head&&!~SA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(bA)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function KP(e){if(hA)return new Promise((function(t,n){var r=eR(e.querySelectorAll("*")).filter(HP).map(qP),i=pP.begin("searchPseudoElements");IP(),Promise.all(r).then((function(){i(),SP(),t()})).catch((function(){i(),SP(),n()}))}))}var GP=!1,WP=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},QP={mixout:function(){return{parse:{transform:function(e){return WP(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=WP(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),l={outer:s,inner:{transform:"".concat(o," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:BN({},l.outer),children:[{tag:"g",attributes:BN({},l.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:BN(BN({},t.icon.attributes),l.path)}]}]}}}},YP={x:0,y:0,width:"100%",height:"100%"};function $P(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var XP={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?BR(n.split(" ").map((function(e){return e.trim()}))):jR();return r.prefix||(r.prefix=UR()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.mask,o=e.maskId,a=e.transform,c=i.width,l=i.icon,u=s.width,d=s.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:c}),f={tag:"rect",attributes:BN(BN({},YP),{},{fill:"white"})},p=l.children?{children:l.children.map($P)}:{},m={tag:"g",attributes:BN({},h.inner),children:[$P(BN({tag:l.tag,attributes:BN(BN({},l.attributes),h.path)},p))]},g={tag:"g",attributes:BN({},h.outer),children:[m]},v="mask-".concat(o||ZA()),y="clip-".concat(o||ZA()),b={tag:"mask",attributes:BN(BN({},YP),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:BN({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},YP)}),{children:n,attributes:r}}}},JP={provides:function(e){var t=!1;cA.matchMedia&&(t=cA.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:BN(BN({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=BN(BN({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:BN(BN({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:BN(BN({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:BN(BN({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:BN(BN({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:BN(BN({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:BN(BN({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:BN(BN({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;HR=e,KR={},Object.keys(GR).forEach((function(e){-1===WR.indexOf(e)&&delete GR[e]})),HR.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===qN(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){KR[e]||(KR[e]=[]),KR[e].push(r[e])}))}e.provides&&e.provides(GR)}))}([lR,MP,FP,UP,jP,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=KP,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?lA:t;QA.searchPseudoElements&&KP(n)}}},{mixout:function(){return{dom:{unwatch:function(){IP(),GP=!0}}}},hooks:function(){return{bootstrap:function(){TP(QR("mutationObserverCallbacks",{}))},noAuto:function(){xP&&xP.disconnect()},watch:function(e){var t=e.observeMutationsRoot;GP?SP():TP(QR("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},QP,XP,JP,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:tP});var ZP=tP.parse,eO=tP.icon;function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rO(e){return rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rO(e)}function iO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oO(e){return function(e){if(Array.isArray(e))return aO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return aO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cO(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var lO=["style"];var uO=!1;try{uO=!0}catch(cL){}function dO(e){return e&&"object"===rO(e)&&e.prefix&&e.iconName&&e.icon?e:ZP.icon?ZP.icon(e):null===e?null:e&&"object"===rO(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function hO(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?iO({},e,t):{}}var fO=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,s=e.className,o=e.title,a=e.titleId,c=e.maskId,l=dO(n),u=hO("classes",[].concat(oO(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,o=e.shake,a=e.flash,c=e.spin,l=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(iO(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),iO(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),iO(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),iO(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),oO(s.split(" ")))),d=hO("transform","string"===typeof e.transform?ZP.transform(e.transform):e.transform),h=hO("mask",dO(r)),f=eO(l,nO(nO(nO(nO({},u),d),h),{},{symbol:i,title:o,titleId:a,maskId:c}));if(!f)return function(){var e;!uO&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){fO.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),pO(p[0],m)}));fO.displayName="FontAwesomeIcon",fO.propTypes={beat:Ye().bool,border:Ye().bool,beatFade:Ye().bool,bounce:Ye().bool,className:Ye().string,fade:Ye().bool,flash:Ye().bool,mask:Ye().oneOfType([Ye().object,Ye().array,Ye().string]),maskId:Ye().string,fixedWidth:Ye().bool,inverse:Ye().bool,flip:Ye().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ye().oneOfType([Ye().object,Ye().array,Ye().string]),listItem:Ye().bool,pull:Ye().oneOf(["right","left"]),pulse:Ye().bool,rotation:Ye().oneOf([0,90,180,270]),shake:Ye().bool,size:Ye().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ye().bool,spinPulse:Ye().bool,spinReverse:Ye().bool,symbol:Ye().oneOfType([Ye().bool,Ye().string]),title:Ye().string,titleId:Ye().string,transform:Ye().oneOfType([Ye().string,Ye().object]),swapOpacity:Ye().bool},fO.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var pO=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=cO(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[i]=s,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[cO(t)]=r}return e}),{attrs:{}}),o=r.style,a=void 0===o?{}:o,c=sO(r,lO);return s.attrs.style=nO(nO({},s.attrs.style),a),t.apply(void 0,[n.tag,nO(nO({},s.attrs),c)].concat(oO(i)))}.bind(null,t.createElement),mO={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},gO={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},vO={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},yO=vO,bO={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]};function wO(e){let{currentFolder:n}=e;const[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),{currentUser:c}=gT();function l(){i(!1)}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ft,{onClick:function(){i(!0)},variant:"outline-success",size:"sm",children:(0,o.jsx)(fO,{icon:mO})}),(0,o.jsx)(VN,{show:r,onHide:l,children:(0,o.jsxs)(Lt,{onSubmit:function(e){if(e.preventDefault(),null==n)return;const t=[...n.path];n!==VC&&t.push({name:n.name,id:n.id}),hT.folders.add({name:s,parentId:n.id,userId:c.uid,path:t,createdAt:hT.getCurrentTimestamp()}),a(""),l()},children:[(0,o.jsx)(VN.Body,{children:(0,o.jsxs)(Lt.Group,{children:[(0,o.jsx)(Lt.Label,{children:"Folder Name"}),(0,o.jsx)(Lt.Control,{type:"text",required:!0,value:s,onChange:e=>a(e.target.value)})]})}),(0,o.jsxs)(VN.Footer,{children:[(0,o.jsx)(Ft,{variant:"secondary",onClick:l,children:"Close"}),(0,o.jsx)(Ft,{variant:"success",type:"submit",children:"Add Folder"})]})]})})]})}const _O={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let EO;const kO=new Uint8Array(16);function IO(){if(!EO&&(EO="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!EO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return EO(kO)}const SO=[];for(let n=0;n<256;++n)SO.push((n+256).toString(16).slice(1));function xO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return SO[e[t+0]]+SO[e[t+1]]+SO[e[t+2]]+SO[e[t+3]]+"-"+SO[e[t+4]]+SO[e[t+5]]+"-"+SO[e[t+6]]+SO[e[t+7]]+"-"+SO[e[t+8]]+SO[e[t+9]]+"-"+SO[e[t+10]]+SO[e[t+11]]+SO[e[t+12]]+SO[e[t+13]]+SO[e[t+14]]+SO[e[t+15]]}const TO=function(e,t,n){if(_O.randomUUID&&!t&&!e)return _O.randomUUID();const r=(e=e||{}).random||(e.rng||IO)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return xO(r)},CO=2**31-1;function NO(e,t,n){const r=n-Date.now();e.current=r<=CO?setTimeout(t,r):setTimeout((()=>NO(e,t,n)),CO)}function AO(){const e=X(),n=(0,t.useRef)();return HC((()=>clearTimeout(n.current))),(0,t.useMemo)((()=>{const t=()=>clearTimeout(n.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),i<=CO?n.current=setTimeout(r,i):NO(n,r,Date.now()+i))},clear:t,handleRef:n}}),[])}const RO={[ge]:"showing",[ye]:"showing show"},PO=t.forwardRef(((e,t)=>(0,o.jsx)(We,{...e,ref:t,transitionClasses:RO})));PO.displayName="ToastFade";const OO=PO,DO=t.createContext({onClose(){}}),LO=t.forwardRef(((e,n)=>{let{bsPrefix:r,closeLabel:i="Close",closeVariant:a,closeButton:c=!0,className:l,children:u,...d}=e;r=h(r,"toast-header");const f=(0,t.useContext)(DO),p=W((e=>{null==f||null==f.onClose||f.onClose(e)}));return(0,o.jsxs)("div",{ref:n,...d,className:s()(r,l),children:[u,c&&(0,o.jsx)(Je,{"aria-label":i,variant:a,onClick:p,"data-dismiss":"toast"})]})}));LO.displayName="ToastHeader";const MO=LO,FO=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"toast-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));FO.displayName="ToastBody";const UO=FO,jO=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,transition:a=OO,show:c=!0,animation:l=!0,delay:u=5e3,autohide:d=!1,onClose:f,onEntered:p,onExit:m,onExiting:g,onEnter:v,onEntering:y,onExited:b,bg:w,..._}=e;r=h(r,"toast");const E=(0,t.useRef)(u),k=(0,t.useRef)(f);(0,t.useEffect)((()=>{E.current=u,k.current=f}),[u,f]);const I=AO(),S=!(!d||!c),x=(0,t.useCallback)((()=>{S&&(null==k.current||k.current())}),[S]);(0,t.useEffect)((()=>{I.set(x,E.current)}),[I,x]);const T=(0,t.useMemo)((()=>({onClose:f})),[f]),C=!(!a||!l),N=(0,o.jsx)("div",{..._,ref:n,className:s()(r,i,w&&"bg-".concat(w),!C&&(c?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,o.jsx)(DO.Provider,{value:T,children:C&&a?(0,o.jsx)(a,{in:c,onEnter:v,onEntering:y,onEntered:p,onExit:m,onExiting:g,onExited:b,unmountOnExit:!0,children:N}):N})}));jO.displayName="Toast";const VO=Object.assign(jO,{Body:UO,Header:MO}),zO=1e3;function BO(e,t,n){const r=(e-t)/(n-t)*100;return Math.round(r*zO)/zO}function qO(e,t){let{min:n,now:r,max:i,label:a,visuallyHidden:c,striped:l,animated:u,className:d,style:h,variant:f,bsPrefix:p,...m}=e;return(0,o.jsx)("div",{ref:t,...m,role:"progressbar",className:s()(d,"".concat(p,"-bar"),{["bg-".concat(f)]:f,["".concat(p,"-bar-animated")]:u,["".concat(p,"-bar-striped")]:u||l}),style:{width:"".concat(BO(r,n,i),"%"),...h},"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i,children:c?(0,o.jsx)("span",{className:"visually-hidden",children:a}):a})}const HO=t.forwardRef(((e,n)=>{let{isChild:r=!1,...i}=e;const a={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...i};if(a.bsPrefix=h(a.bsPrefix,"progress"),r)return qO(a,n);const{min:c,now:l,max:u,label:d,visuallyHidden:f,striped:p,animated:m,bsPrefix:g,variant:v,className:y,children:b,...w}=a;return(0,o.jsx)("div",{ref:n,...w,className:s()(y,g),children:b?lt(b,(e=>(0,t.cloneElement)(e,{isChild:!0}))):qO({min:c,now:l,max:u,label:d,visuallyHidden:f,striped:p,animated:m,bsPrefix:g,variant:v},n)})}));HO.displayName="ProgressBar";const KO=HO;function GO(e){let{currentFolder:n}=e;const[r,i]=(0,t.useState)([]),{currentUser:s}=gT();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{className:"btn btn-outline-success btn-sm m-0 me-2",children:[(0,o.jsx)(fO,{icon:yO}),(0,o.jsx)("input",{type:"file",onChange:function(e){const t=e.target.files[0];if(null==n||null==t)return;const r=TO();i((e=>[...e,{id:r,name:t.name,progress:0,error:!1}]));const o=n===VC?"".concat(n.path.join("/"),"/").concat(t.name):"".concat(n.path.join("/"),"/").concat(n.name,"/").concat(t.name),a=fT.ref("/files/".concat(s.uid,"/").concat(o)).put(t);a.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes;i((e=>e.map((e=>e.id===r?{...e,progress:t}:e))))}),(()=>{i((e=>e.map((e=>e.id===r?{...e,error:!0}:e))))}),(()=>{i((e=>e.filter((e=>e.id!==r)))),a.snapshot.ref.getDownloadURL().then((e=>{hT.files.where("name","==",t.name).where("userId","==",s.uid).where("folderId","==",n.id).get().then((r=>{const i=r.docs[0];i?i.ref.update({url:e}):hT.files.add({url:e,name:t.name,createdAt:hT.getCurrentTimestamp(),folderId:n.id,userId:s.uid})}))}))}))},style:{opacity:0,position:"absolute",left:"-9999px"}})]}),r.length>0&&de.createPortal((0,o.jsx)("div",{style:{position:"absolute",bottom:"1rem",right:"1rem",maxWidth:"250px"},children:r.map((e=>(0,o.jsxs)(VO,{onClose:()=>{i((t=>t.filter((t=>t.id!==e.id))))},children:[(0,o.jsx)(VO.Header,{closeButton:e.error,className:"text-truncate w-100 d-block",children:e.name}),(0,o.jsx)(VO.Body,{children:(0,o.jsx)(KO,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})})]},e.id)))}),document.body)]})}function WO(e){let{folder:t}=e;return(0,o.jsxs)(Ft,{to:{pathname:"/folder/".concat(t.id),state:{folder:t}},variant:"outline-dark",className:"text-truncate w-100",as:TC,children:[(0,o.jsx)(fO,{icon:gO,className:"me-2"}),t.name]})}function QO(e){let{file:t}=e;return(0,o.jsxs)("a",{href:t.url,target:"_blank",className:"btn btn-outline-dark text-truncate w-100",children:[(0,o.jsx)(fO,{icon:bO,className:"me-2"}),t.name]})}const YO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},$O=t.createContext(null),XO=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...a}=e;n=h(n,"navbar-brand");const c=i||(a.href?"a":"span");return(0,o.jsx)(c,{...a,ref:t,className:s()(r,n)})}));XO.displayName="NavbarBrand";const JO=XO;const ZO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},eD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function tD(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=eD[e];return n+parseInt(Ce(t,r[0]),10)+parseInt(Ce(t,r[1]),10)}const nD={[me]:"collapse",[ye]:"collapsing",[ge]:"collapsing",[ve]:"collapse show"},rD=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:c,onExiting:l,className:u,children:d,dimension:h="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:v=!1,getDimensionValue:y=tD,...b}=e;const w="function"===typeof h?h():h,_=(0,t.useMemo)((()=>ZO((e=>{e.style[w]="0"}),r)),[w,r]),E=(0,t.useMemo)((()=>ZO((e=>{const t="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));e.style[w]="".concat(e[t],"px")}),i)),[w,i]),k=(0,t.useMemo)((()=>ZO((e=>{e.style[w]=null}),a)),[w,a]),I=(0,t.useMemo)((()=>ZO((e=>{e.style[w]="".concat(y(w,e),"px"),Ve(e)}),c)),[c,y,w]),S=(0,t.useMemo)((()=>ZO((e=>{e.style[w]=null}),l)),[w,l]);return(0,o.jsx)(He,{ref:n,addEndListener:je,...b,"aria-expanded":b.role?f:null,onEnter:_,onEntering:E,onEntered:k,onExit:I,onExiting:S,childRef:d.ref,in:f,timeout:p,mountOnEnter:m,unmountOnExit:g,appear:v,children:(e,n)=>t.cloneElement(d,{...n,className:s()(u,d.props.className,nD[e],"width"===w&&"collapse-horizontal")})})})),iD=rD,sD=t.createContext(null);sD.displayName="NavbarContext";const oD=sD,aD=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=h(i,"navbar-collapse");const a=(0,t.useContext)(oD);return(0,o.jsx)(iD,{in:!(!a||!a.expanded),...s,children:(0,o.jsx)("div",{ref:n,className:i,children:r})})}));aD.displayName="NavbarCollapse";const cD=aD,lD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,label:c="Toggle navigation",as:l="button",onClick:u,...d}=e;r=h(r,"navbar-toggler");const{onToggle:f,expanded:p}=(0,t.useContext)(oD)||{},m=W((e=>{u&&u(e),f&&f()}));return"button"===l&&(d.type="button"),(0,o.jsx)(l,{...d,ref:n,onClick:m,"aria-label":c,className:s()(i,r,!p&&"collapsed"),children:a||(0,o.jsx)("span",{className:"".concat(r,"-icon")})})}));lD.displayName="NavbarToggle";const uD=lD,dD=new WeakMap,hD=(e,t)=>{if(!e||!t)return;const n=dD.get(t)||new Map;dD.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function fD(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=hD(e,n),[i,s]=(0,t.useState)((()=>!!r&&r.matches));return Z((()=>{let t=hD(e,n);if(!t)return s(!1);let r=dD.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const pD=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,o){let a;"object"===typeof n?(a=n,o=s,s=!0):a={[n]:s=s||!0};let c=(0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==o&&!0!==o||(t=r(t,i(s))),t}),"")),[JSON.stringify(a)]);return fD(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),mD=pD,gD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"offcanvas-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));gD.displayName="OffcanvasBody";const vD=gD,yD={[ge]:"show",[ve]:"show"},bD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,in:c=!1,mountOnEnter:l=!1,unmountOnExit:u=!1,appear:d=!1,...f}=e;return r=h(r,"offcanvas"),(0,o.jsx)(He,{ref:n,addEndListener:je,in:c,mountOnEnter:l,unmountOnExit:u,appear:d,...f,childRef:a.ref,children:(e,n)=>t.cloneElement(a,{...n,className:s()(i,a.props.className,(e===ge||e===ye)&&"".concat(r,"-toggling"),yD[e])})})}));bD.displayName="OffcanvasToggling";const wD=bD,_D=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...c}=e;return n=h(n,"offcanvas-header"),(0,o.jsx)(RN,{ref:t,...c,className:s()(r,n),closeLabel:i,closeButton:a})}));_D.displayName="OffcanvasHeader";const ED=_D,kD=T("h5"),ID=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=kD,...a}=e;return r=h(r,"offcanvas-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));ID.displayName="OffcanvasTitle";const SD=ID;function xD(e){return(0,o.jsx)(wD,{...e})}function TD(e){return(0,o.jsx)(We,{...e})}const CD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,"aria-labelledby":c,placement:l="start",responsive:u,show:d=!1,backdrop:f=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:g,onShow:v,onHide:y,container:b,autoFocus:w=!0,enforceFocus:_=!0,restoreFocus:E=!0,restoreFocusOptions:k,onEntered:I,onExit:S,onExiting:x,onEnter:T,onEntering:C,onExited:N,backdropClassName:A,manager:R,renderStaticNode:P=!1,...O}=e;const D=(0,t.useRef)();r=h(r,"offcanvas");const{onToggle:L}=(0,t.useContext)(oD)||{},[M,F]=(0,t.useState)(!1),U=mD(u||"xs","up");(0,t.useEffect)((()=>{F(u?d&&!U:d)}),[d,u,U]);const j=W((()=>{null==L||L(),null==y||y()})),V=(0,t.useMemo)((()=>({onHide:j})),[j]);const z=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()("".concat(r,"-backdrop"),A)})),[A,r]),B=e=>(0,o.jsx)("div",{...e,...O,className:s()(i,u?"".concat(r,"-").concat(u):r,"".concat(r,"-").concat(l)),"aria-labelledby":c,children:a});return(0,o.jsxs)(o.Fragment,{children:[!M&&(u||P)&&B({}),(0,o.jsx)(SN.Provider,{value:V,children:(0,o.jsx)(hN,{show:M,ref:n,backdrop:f,container:b,keyboard:p,autoFocus:w,enforceFocus:_&&!m,restoreFocus:E,restoreFocusOptions:k,onEscapeKeyDown:g,onShow:v,onHide:j,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T(e,...n)},onEntering:C,onEntered:I,onExit:S,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N(...n)},manager:R||(m?(D.current||(D.current=new EN({handleContainerOverflow:!1})),D.current):_N()),transition:xD,backdropTransition:TD,renderBackdrop:z,renderDialog:B})})]})}));CD.displayName="Offcanvas";const ND=Object.assign(CD,{Body:vD,Header:ED,Title:SD}),AD=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(oD);return(0,o.jsx)(ND,{ref:n,show:!(null==r||!r.expanded),...e,renderStaticNode:!0})}));AD.displayName="NavbarOffcanvas";const RD=AD,PD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...a}=e;return r=h(r,"navbar-text"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));PD.displayName="NavbarText";const OD=PD,DD=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:a="light",bg:c,fixed:l,sticky:u,className:d,as:f="nav",expanded:p,onToggle:m,onSelect:g,collapseOnSelect:v=!1,...y}=B(e,{expanded:"onToggle"}),b=h(r,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),v&&p&&(null==m||m(!1))}),[g,v,p,m]);void 0===y.role&&"nav"!==f&&(y.role="navigation");let _="".concat(b,"-expand");"string"===typeof i&&(_="".concat(_,"-").concat(i));const E=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!p),bsPrefix:b,expanded:!!p,expand:i})),[b,p,i,m]);return(0,o.jsx)(oD.Provider,{value:E,children:(0,o.jsx)($O.Provider,{value:w,children:(0,o.jsx)(f,{ref:n,...y,className:s()(d,b,i&&_,a&&"".concat(b,"-").concat(a),c&&"bg-".concat(c),u&&"sticky-".concat(u),l&&"fixed-".concat(l))})})})}));DD.displayName="Navbar";const LD=Object.assign(DD,{Brand:JO,Collapse:cD,Offcanvas:RD,Text:OD,Toggle:uD});n(197);const MD=t.createContext(null);MD.displayName="NavContext";const FD=MD,UD=t.createContext(null),jD=["as","active","eventKey"];function VD(e){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=e;const c=(0,t.useContext)($O),l=(0,t.useContext)(FD),u=(0,t.useContext)(UD);let d=i;const h={role:o};if(l){o||"tablist"!==l.role||(h.role="tab");const e=l.getControllerId(null!=n?n:null),t=l.getControlledId(null!=n?n:null);h[QC("event-key")]=n,h.id=e||s,d=null==i&&null!=n?l.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=W((e=>{a||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))})),[h,{isActive:d}]}const zD=t.forwardRef(((e,t)=>{let{as:n=re,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,jD);const[a,c]=VD(Object.assign({key:YO(i,s.href),active:r},s));return a[QC("active")]=c.isActive,(0,o.jsx)(n,Object.assign({},s,a,{ref:t}))}));zD.displayName="NavItem";const BD=zD,qD=["as","onSelect","activeKey","role","onKeyDown"];const HD=()=>{},KD=QC("event-key"),GD=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:c}=e,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qD);const u=function(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}(),d=(0,t.useRef)(!1),h=(0,t.useContext)($O),f=(0,t.useContext)(UD);let p,m;f&&(a=a||"tablist",s=f.activeKey,p=f.getControlledId,m=f.getControllerId);const g=(0,t.useRef)(null),v=e=>{const t=g.current;if(!t)return null;const n=pN(t,"[".concat(KD,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},y=(e,t)=>{null!=e&&(null==i||i(e,t),null==h||h(e,t))};(0,t.useEffect)((()=>{if(g.current&&d.current){const e=g.current.querySelector("[".concat(KD,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));const b=Be(n,g);return(0,o.jsx)($O.Provider,{value:y,children:(0,o.jsx)(FD.Provider,{value:{role:a,activeKey:YO(s),getControlledId:p||HD,getControllerId:m||HD},children:(0,o.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==c||c(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,u())},ref:b,role:a}))})})}));GD.displayName="Nav";const WD=Object.assign(GD,{Item:BD}),QD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=h(r,"nav-item"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));QD.displayName="NavItem";const YD=QD,$D=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=oe,active:a,eventKey:c,disabled:l=!1,...u}=e;n=h(n,"nav-link");const[d,f]=VD({key:YO(c,u.href),active:a,disabled:l,...u});return(0,o.jsx)(i,{...u,...d,ref:t,disabled:l,className:s()(r,n,l&&"disabled",f.isActive&&"active")})}));$D.displayName="NavLink";const XD=$D,JD=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:a,fill:c=!1,justify:l=!1,navbar:u,navbarScroll:d,className:f,activeKey:p,...m}=B(e,{activeKey:"onSelect"}),g=h(i,"nav");let v,b,w=!1;const _=(0,t.useContext)(oD),E=(0,t.useContext)(y);return _?(v=_.bsPrefix,w=null==u||u):E&&({cardHeaderBsPrefix:b}=E),(0,o.jsx)(WD,{as:r,ref:n,activeKey:p,className:s()(f,{[g]:!w,["".concat(v,"-nav")]:w,["".concat(v,"-nav-scroll")]:w&&d,["".concat(b,"-").concat(a)]:!!b,["".concat(g,"-").concat(a)]:!!a,["".concat(g,"-fill")]:c,["".concat(g,"-justified")]:l}),...m})}));JD.displayName="Nav";const ZD=Object.assign(JD,{Item:YD,Link:XD});function eL(){return(0,o.jsxs)(LD,{bg:"light",expand:"sm",className:"px-3 mb-2",children:[(0,o.jsx)(LD.Brand,{as:TC,to:"/",children:"WDS Drive"}),(0,o.jsx)(ZD,{children:(0,o.jsx)(ZD.Link,{as:TC,to:"/user",children:"Profile"})})]})}const tL=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r=!1,children:i,className:a,as:c="li",linkAs:l=oe,linkProps:u={},href:d,title:f,target:p,...m}=e;const g=h(n,"breadcrumb-item");return(0,o.jsx)(c,{ref:t,...m,className:s()(g,a,{active:r}),"aria-current":r?"page":void 0,children:r?i:(0,o.jsx)(l,{...u,href:d,title:f,target:p,children:i})})}));tL.displayName="BreadcrumbItem";const nL=tL,rL=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,listProps:i={},children:a,label:c="breadcrumb",as:l="nav",...u}=e;const d=h(n,"breadcrumb");return(0,o.jsx)(l,{"aria-label":c,className:r,ref:t,...u,children:(0,o.jsx)("ol",{...i,className:s()(d,null==i?void 0:i.className),children:a})})}));rL.displayName="Breadcrumb";const iL=Object.assign(rL,{Item:nL});function sL(e){let{currentFolder:t}=e,n=t===VC?[]:[VC];return t&&(n=[...n,...t.path]),(0,o.jsxs)(iL,{className:"flex-grow-1",listProps:{className:"bg-white ps-0 m-0"},children:[n.map(((e,t)=>(0,o.jsx)(iL.Item,{linkAs:TC,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/",state:{folder:{...e,path:n.slice(1,t)}}}},className:"text-truncate d-inline-block",style:{maxWidth:"150px"},children:e.name},e.id))),t&&(0,o.jsx)(iL.Item,{className:"text-truncate d-inline-block",style:{maxWidth:"200px"},active:!0,children:t.name})]})}function oL(){const{folderId:e}=function(){var e=yC(ZT).match;return e?e.params:{}}(),{state:n={}}=wC(),{folder:r,childFolders:i,childFiles:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[r,i]=(0,t.useReducer)(zC,{folderId:e,folder:n,childFolders:[],childFiles:[]}),{currentUser:s}=gT();return(0,t.useEffect)((()=>{i({type:jC.SELECT_FOLDER,payload:{folderId:e,folder:n}})}),[e,n]),(0,t.useEffect)((()=>{if(null==e)return i({type:jC.UPDATE_FOLDER,payload:{folder:VC}});hT.folders.doc(e).get().then((e=>{i({type:jC.UPDATE_FOLDER,payload:{folder:hT.formatDoc(e)}})})).catch((()=>{i({type:jC.UPDATE_FOLDER,payload:{folder:VC}})}))}),[e]),(0,t.useEffect)((()=>hT.folders.where("parentId","==",e).where("userId","==",s.uid).orderBy("createdAt").onSnapshot((e=>{i({type:jC.SET_CHILD_FOLDERS,payload:{childFolders:e.docs.map(hT.formatDoc)}})}))),[e,s]),(0,t.useEffect)((()=>hT.files.where("folderId","==",e).where("userId","==",s.uid).orderBy("createdAt").onSnapshot((e=>{i({type:jC.SET_CHILD_FILES,payload:{childFiles:e.docs.map(hT.formatDoc)}})}))),[e,s]),r}(e,n.folder);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eL,{}),(0,o.jsxs)(RC,{fluid:!0,children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)(sL,{currentFolder:r}),(0,o.jsx)(GO,{currentFolder:r}),(0,o.jsx)(wO,{currentFolder:r})]}),i.length>0&&(0,o.jsx)("div",{className:"d-flex flex-wrap",children:i.map((e=>(0,o.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:(0,o.jsx)(WO,{folder:e})},e.id)))}),i.length>0&&s.length>0&&(0,o.jsx)("hr",{}),s.length>0&&(0,o.jsx)("div",{className:"d-flex flex-wrap",children:s.map((e=>(0,o.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:(0,o.jsx)(QO,{file:e})},e.id)))})]})]})}const aL=function(){return(0,o.jsx)(_C,{children:(0,o.jsx)(vT,{children:(0,o.jsxs)(vC,{children:[(0,o.jsx)(MC,{exact:!0,path:"/",component:oL}),(0,o.jsx)(MC,{exact:!0,path:"/folder/:folderId",component:oL}),(0,o.jsx)(MC,{path:"/user",component:DC}),(0,o.jsx)(MC,{path:"/update-profile",component:UC}),(0,o.jsx)(dC,{path:"/signup",component:OC}),(0,o.jsx)(dC,{path:"/login",component:LC}),(0,o.jsx)(dC,{path:"/forgot-password",component:FC})]})})})};r.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(aL,{})}))})()})();
//# sourceMappingURL=main.cc655a92.js.map